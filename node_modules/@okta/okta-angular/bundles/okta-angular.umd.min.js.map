{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../node_modules/lodash/_listCacheClear.js","../../node_modules/lodash/eq.js","../../node_modules/lodash/_assocIndexOf.js","../../node_modules/lodash/_listCacheDelete.js","../../node_modules/lodash/_listCacheGet.js","../../node_modules/lodash/_listCacheHas.js","../../node_modules/lodash/_listCacheSet.js","../../node_modules/lodash/_ListCache.js","../../node_modules/lodash/_stackClear.js","../../node_modules/lodash/_stackDelete.js","../../node_modules/lodash/_stackGet.js","../../node_modules/lodash/_stackHas.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_Map.js","../../node_modules/lodash/_nativeCreate.js","../../node_modules/lodash/_hashClear.js","../../node_modules/lodash/_hashDelete.js","../../node_modules/lodash/_hashGet.js","../../node_modules/lodash/_hashHas.js","../../node_modules/lodash/_hashSet.js","../../node_modules/lodash/_Hash.js","../../node_modules/lodash/_isKeyable.js","../../node_modules/lodash/_getMapData.js","../../node_modules/lodash/_mapCacheDelete.js","../../node_modules/lodash/_mapCacheGet.js","../../node_modules/lodash/_mapCacheHas.js","../../node_modules/lodash/_mapCacheSet.js","../../node_modules/lodash/_MapCache.js","../../node_modules/lodash/_mapCacheClear.js","../../node_modules/lodash/_stackSet.js","../../node_modules/lodash/_Stack.js","../../node_modules/lodash/_defineProperty.js","../../node_modules/lodash/_baseAssignValue.js","../../node_modules/lodash/_assignMergeValue.js","../../node_modules/lodash/_createBaseFor.js","../../node_modules/lodash/_baseFor.js","../../node_modules/lodash/_cloneBuffer.js","../../node_modules/lodash/_Uint8Array.js","../../node_modules/lodash/_cloneArrayBuffer.js","../../node_modules/lodash/_cloneTypedArray.js","../../node_modules/lodash/_copyArray.js","../../node_modules/lodash/_baseCreate.js","../../node_modules/lodash/_overArg.js","../../node_modules/lodash/_getPrototype.js","../../node_modules/lodash/_isPrototype.js","../../node_modules/lodash/_initCloneObject.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/_baseIsArguments.js","../../node_modules/lodash/isArguments.js","../../node_modules/lodash/isArray.js","../../node_modules/lodash/isLength.js","../../node_modules/lodash/isArrayLike.js","../../node_modules/lodash/isArrayLikeObject.js","../../node_modules/lodash/stubFalse.js","../../node_modules/lodash/isBuffer.js","../../node_modules/lodash/isPlainObject.js","../../node_modules/lodash/_baseIsTypedArray.js","../../node_modules/lodash/_baseUnary.js","../../node_modules/lodash/_nodeUtil.js","../../node_modules/lodash/isTypedArray.js","../../node_modules/lodash/_safeGet.js","../../node_modules/lodash/_assignValue.js","../../node_modules/lodash/_copyObject.js","../../node_modules/lodash/_baseTimes.js","../../node_modules/lodash/_isIndex.js","../../node_modules/lodash/_arrayLikeKeys.js","../../node_modules/lodash/_nativeKeysIn.js","../../node_modules/lodash/_baseKeysIn.js","../../node_modules/lodash/keysIn.js","../../node_modules/lodash/toPlainObject.js","../../node_modules/lodash/_baseMergeDeep.js","../../node_modules/lodash/_baseMerge.js","../../node_modules/lodash/identity.js","../../node_modules/lodash/_apply.js","../../node_modules/lodash/_overRest.js","../../node_modules/lodash/constant.js","../../node_modules/lodash/_baseSetToString.js","../../node_modules/lodash/_shortOut.js","../../node_modules/lodash/_setToString.js","../../node_modules/lodash/_baseRest.js","../../node_modules/lodash/_isIterateeCall.js","../../node_modules/lodash/_createAssigner.js","../../node_modules/lodash/merge.js","../../node_modules/@okta/configuration-validation/dist/lib.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/webpack/universalModuleDefinition","../../node_modules/@okta/okta-auth-js/dist/webpack:/webpack/bootstrap 9c4c8aabd25ce0bb41bd","../../node_modules/@okta/okta-auth-js/dist/webpack:/okta-auth-js.min.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/util.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/errors/AuthSdkError.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/constants.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/http.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/browser/browserStorage.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/storageBuilder.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/@babel/runtime/regenerator/index.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/tx.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/oauthUtil.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/browser/browserIndex.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/fetch/fetchRequest.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/browser/browser.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/regenerator-runtime/runtime.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/root/okta/okta-auth-js/node_modules/tiny-emitter/index.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/builderUtil.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/errors/AuthApiError.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/errors/AuthPollStopError.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/session.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/token.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/crypto.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/errors/OAuthError.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/pkce.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/TokenManager.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/clock.js","../../node_modules/@okta/okta-auth-js/dist/webpack:/lib/PromiseQueue.js","../package/src/okta/models/okta.config.ts","../package/src/okta/packageInfo.ts","../package/src/okta/services/okta.service.ts","../package/src/okta/components/callback.component.ts","../package/src/okta/components/login-redirect.component.ts","../package/src/okta/okta.guard.ts","../package/src/okta/createService.ts","../package/src/okta/okta.module.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","_listCacheClear","__data__","size","eq_1","other","_assocIndexOf","array","key","eq","splice","Array","prototype","_listCacheDelete","data","index","assocIndexOf","_listCacheGet","undefined","_listCacheHas","_listCacheSet","ListCache","entries","clear","entry","set","listCacheClear","listCacheDelete","get","listCacheGet","has","listCacheHas","listCacheSet","_ListCache","_stackClear","_stackDelete","_stackGet","_stackHas","_freeGlobal","global","Object","freeSelf","self","_root","freeGlobal","Function","_Symbol","root","objectProto","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","_getRawTag","isOwn","tag","unmasked","_objectToString","_baseGetTag","getRawTag","objectToString","isObject_1","type","uid","isFunction_1","isObject","baseGetTag","_coreJsData","maskSrcKey","exec","coreJsData","keys","IE_PROTO","_isMasked","func","funcToString","_toSource","reIsHostCtor","funcProto","reIsNative","RegExp","replace","_baseIsNative","isMasked","isFunction","test","toSource","_getValue","object","_getNative","getValue","baseIsNative","_Map","getNative","_nativeCreate","_hashClear","nativeCreate","_hashDelete","_hashGet","_hashHas","_hashSet","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","_Hash","_isKeyable","_getMapData","map","isKeyable","_mapCacheDelete","getMapData","_mapCacheGet","_mapCacheHas","_mapCacheSet","MapCache","hash","Map","string","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","_MapCache","_stackSet","pairs","LARGE_ARRAY_SIZE","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","_Stack","_defineProperty","_baseAssignValue","defineProperty","configurable","enumerable","writable","_assignMergeValue","baseAssignValue","_baseFor","fromRight","iteratee","keysFunc","iterable","props","createBaseFor","freeExports","exports","nodeType","freeModule","module","Buffer","allocUnsafe","buffer","isDeep","slice","constructor","copy","_Uint8Array","Uint8Array","_cloneArrayBuffer","arrayBuffer","byteLength","_cloneTypedArray","typedArray","cloneArrayBuffer","byteOffset","_copyArray","source","objectCreate","create","_baseCreate","proto","_getPrototype","transform","arg","overArg","getPrototypeOf","_isPrototype","Ctor","_initCloneObject","isPrototype","baseCreate","getPrototype","isObjectLike_1","_baseIsArguments","isObjectLike","propertyIsEnumerable","isArguments_1","baseIsArguments","arguments","isArray_1","isArray","isLength_1","isArrayLike_1","isLength","isArrayLikeObject_1","isArrayLike","stubFalse_1","isBuffer","stubFalse","objectCtorString","isPlainObject_1","typedArrayTags","_baseIsTypedArray","_baseUnary","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseUnary","baseIsTypedArray","_safeGet","_assignValue","objValue","_copyObject","customizer","isNew","newValue","assignValue","_baseTimes","reIsUint","_isIndex","_arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","baseTimes","String","isIndex","_nativeKeysIn","_baseKeysIn","nativeKeysIn","isProto","keysIn_1","arrayLikeKeys","baseKeysIn","toPlainObject_1","copyObject","keysIn","_baseMergeDeep","srcIndex","mergeFunc","stack","safeGet","srcValue","stacked","assignMergeValue","isCommon","isTyped","isArrayLikeObject","copyArray","cloneBuffer","cloneTypedArray","isPlainObject","toPlainObject","initCloneObject","_baseMerge","baseMerge","baseFor","baseMergeDeep","identity_1","_apply","args","nativeMax","Math","max","_overRest","start","otherArgs","constant_1","_baseSetToString","constant","identity","nativeNow","Date","now","_setToString","count","lastCalled","stamp","remaining","shortOut","baseSetToString","_baseRest","setToString","overRest","_isIterateeCall","merge_1","assigner","baseRest","sources","guard","isIterateeCall","createAssigner","ConfigurationValidationError","instance","Constructor","_classCallCheck","ReferenceError","_possibleConstructorReturn","__proto__","subClass","superClass","setPrototypeOf","_inherits","Error","configUtil","copyCredentialsMessage","isHttps","hasProtocol","hasDomainAdmin","hasDomainTypo","endsInPath","buildConfigObject","config","scopes","scope","split","tokenManager","autoRenew","auto_renew","storage","merge","responseType","response_type","indexOf","clientId","client_id","redirectUri","redirect_uri","assertIssuer","issuer","testing","copyMessage","disableHttpsCheck","console","warn","match","assertClientId","assertClientSecret","clientSecret","assertRedirectUri","assertAppBaseUrl","appBaseUrl","moduleId","installedModules","r","o","i","l","__webpack_require__","m","modules","c","d","name","getter","__esModule","default","property","p","s","util","stringToBase64Url","str","btoa","base64ToBase64Url","b64","base64UrlToBase64","b64u","base64UrlToString","atob","decodeURIComponent","escape","utf8","stringToBuffer","charCodeAt","base64UrlDecode","bind","fn","ctx","additionalArgs","concat","isAbsoluteUrl","url","isString","obj","isNumber","isoToUTCString","isoTime","UTC","parts","toUTCString","toQueryParams","encodeURIComponent","join","genRandomString","random","cl","randomCharset","floor","extend","forEach","prop","obj1","removeNils","cleaned","clone","JSON","stringify","parse","omit","newobj","find","collection","searchParams","found","item","getLink","linkName","altName","_links","link","getNativeConsole","window","getConsole","nativeConsole","log","text","deprecate","deprecateWrap","removeTrailingSlash","path","trimmed","isIE11OrLess","document","documentMode","delay","ms","setTimeout","isPromise","finally","msg","xhr","message","errorCode","errorSummary","errorLink","errorId","errorCauses","AuthSdkError","STATE_TOKEN_KEY_NAME","DEFAULT_POLLING_DELAY","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_CACHE_DURATION","REDIRECT_OAUTH_PARAMS_COOKIE_NAME","REDIRECT_STATE_COOKIE_NAME","REDIRECT_NONCE_COOKIE_NAME","TOKEN_STORAGE_NAME","CACHE_STORAGE_NAME","PKCE_STORAGE_NAME","sdk","options","method","saveAuthnState","accessToken","withCredentials","storageUtil","httpCache","getHttpCache","cookies","cacheResponse","getStorage","cachedResponse","cacheContents","expiresAt","response","Accept","Content-Type","X-Okta-User-Agent-Extended","userAgent","headers","Authorization","res","ajaxOptions","httpRequestClient","resp","responseText","stateToken","delete","constants","updateStorage","catch","serverErr","status","transformErrorXHR","err","a","AuthApiError","getIssuerOrigin","getOptions","httpRequest","post","postOptions","storageBuilder","getLocalStorage","testStorage","getSessionStorage","preferLocalStorage","browserHasSessionStorage","browserHasLocalStorage","getCookieStorage","localStorage","sessionStorage","secure","sameSite","getItem","setItem","store","removeItem","cookieOptions","expires","Cookies","remove","_typeof","webstorage","storageName","storageString","setStorage","clearStorage","gen","_next","_throw","info","error","asyncGeneratorStep","u","builtArgs","addStateToken","http","ref","opts","autoPush","rememberDevice","pollLink","href","getStateToken","transactionCallBack","isPolling","pollFn","pollRes","retryCount","factorResult","w","recursivePoll","pow","delayLength","lk","hints","allow","factorType","provider","params","profile","updatePhone","ol","objArr","flattenEmbedded","_embedded","embedded","fns","poll","getPollFn","link2fn","links2fns","cancel","AuthPollStopError","transactionStatus","resumeTransaction","tx","exists","_get","transactionExists","postToTransaction","introspect","authServerUri","generateState","generateNonce","getWellKnown","getKey","kid","wellKnown","jwks_uri","jwksUri","cachedKey","validateClaims","claims","validationParams","iss","nonce","aud","iat","exp","maxClockSkew","getOAuthUrls","authorizeUrl","userinfoUrl","tokenUrl","logoutUrl","revokeUrl","baseUrl","loadFrame","src","createElement","style","display","iframe","appendChild","loadPopup","popupTitle","appearance","open","title","location","winEl","urlParamsToObject","hashOrSearch","paramSplit","fragment","charAt","substring","param","plus2space","isToken","idToken","addListener","eventTarget","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","fetchRequest","toLowerCase","json","responseJSON","fetch","credentials","ok","DOMException","items","shift","k","append","header","getOwnPropertyNames","bodyUsed","reader","onload","onerror","blob","FileReader","promise","fileReaderReady","readAsArrayBuffer","buf","view","h","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","URLSearchParams","DataView","isDataView","_bodyArrayBuffer","bufferClone","ArrayBuffer","isArrayBufferView","consumed","readBlobAsArrayBuffer","readAsText","chars","fromCharCode","readArrayBufferAsText","decode","input","mode","signal","toUpperCase","S","upcased","normalizeMethod","referrer","trim","bytes","form","rawHeaders","line","bodyInit","statusText","init","abort","request","aborted","XMLHttpRequest","parseHeaders","getAllResponseHeaders","responseURL","ontimeout","onabort","setRequestHeader","abortXhr","onreadystatechange","readyState","send","T","isView","viewClasses","Headers","normalizeName","normalizeValue","oldValue","callback","iteratorFor","values","Request","Body","Response","E","redirect","redirectStatuses","RangeError","polyfill","__self__","factory","attributes","converter","api","defaults","setMilliseconds","getMilliseconds","write","attributeName","stringifiedAttributes","cookie","rdecode","read","getJSON","withConverter","builderUtil","assertValidConfig","features","isLocalhost","isHTTPS","cookieSettings","pkce","postLogoutRedirectUri","responseMode","onSessionExpired","getUserAgent","SDK_VERSION","ignoreSignature","session","close","closeSession","sessionExists","getSession","refresh","refreshSession","setCookieAndRedirect","resume","authorize","_getLocationHref","_tokenQueue","token","getWithoutPrompt","getWithPopup","getWithRedirect","parseFromUrl","decodeToken","revoke","revokeToken","renew","renewToken","getUserInfo","verify","verifyToken","PromiseQueue","_setLocation","_getHistory","history","_getLocation","_getDocument","fingerprint","_getUserAgent","navigator","isFingerprintSupported","isWindowsPhone","agent","emitter","on","_onTokenManagerError","_asyncToGenerator","Emitter","oauthUtil","TokenManager","OktaAuthBuilder","isPopupPostMessageSupported","postMessage","isIE8or9","isTokenVerifySupported","crypto","subtle","hasTextEncoder","TextEncoder","isPKCESupported","protocol","hostname","signIn","sendFingerprint","X-Device-Fingerprint","revokeAccessToken","mark","wrap","prev","abrupt","stop","signOut","defaultUri","origin","reload","assign","state","idTokenHint","logoutUri","addSharedPrototypes","webfinger","listener","timeout","clearTimeout","contains","parentElement","removeChild","buildOktaAuth","innerFn","outerFn","tryLocsList","Generator","protoGenerator","context","_invoke","makeInvokeMethod","tryCatch","record","hasOwn","__await","invoke","unwrapped","previousPromise","callInvokeWithMethodAndArg","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","delegate","maybeInvokeDelegate","delegateResult","ContinueSentinel","_sent","dispatchException","GenStateSuspendedYield","x","resultName","nextLoc","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","completion","pushTryEntry","reset","iteratorSymbol","iteratorMethod","isNaN","doneResult","Op","$Symbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","b","IteratorPrototype","O","NativeIteratorPrototype","getProto","GeneratorFunctionPrototype","Gp","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","awrap","defineIteratorMethods","AsyncIterator","async","iter","reverse","Context","skipTempReset","resetTryEntry","rootRecord","rootEntry","rval","exception","loc","caught","hasFinally","hasCatch","finallyEntry","complete","finish","delegateYield","regeneratorRuntime","runtime","accidentalStrictMode","once","off","emit","evtArr","len","evts","liveEvents","forgotPassword","unlockAccount","verifyRecoveryToken","ajaxRequest","OktaAuth","template","sdkValue","user","sessionToken","redirectUrl","checkAccountSetupComplete","jwt","decodedToken","payload","signature","C","validationOptions","valid","at_hash","getOidcHash","timeoutId","responseHandler","oauthParams","error_description","R","urls","code","authorizationCode","PKCE","loadMeta","getTokenParams","codeVerifier","meta","N","getToken","clearMeta","exchangeCodeForToken","expiresIn","expires_in","tokenType","token_type","access_token","id_token","tokenDict","Number","idTokenObj","tokens","code_challenge","codeChallenge","code_challenge_method","codeChallengeMethod","idp","idp_scope","idpScope","login_hint","loginHint","max_age","maxAge","prompt","response_mode","mayBeArray","oauthQueryParams","convertOAuthParamsToQueryParams","prepareOauthParams","endpoint","idpOverrides","requestUrl","buildAuthorizeParams","addPostMessageListener","iframeEl","oauthPromise","windowEl","windowOptions","getOrigin","redirectUriOrigin","windowOrigin","hashToObject","closed","hashChangeHandler","addFragmentListener","setInterval","clearInterval","closePoller","getDefaultOAuthParams","DEFAULT_CODE_CHALLENGE_METHOD","code_challenge_methods_supported","generateVerifier","saveMeta","computeChallenge","clonedParams","errorMessage","nativeDoc","nativeLoc","nativeHistory","replaceState","pathname","search","_regeneratorRuntime","accessTokenObject","idTokenObject","A","userInfo","sub","authenticateHeader","getResponseHeader","errorDescriptionMatches","errorMatches","errorDescription","sdkCrypto","OAuthError","token_type_hint","creds","defaultResponseMode","paramStr","oauthParamsCookie","removeSearch","removeHash","handleOAuthResponse","encode","digest","firstHalf","usages","use","importKey","algo","cryptoKey","b64Signature","summary","dec","substr","ceil","getRandomValues","from","dec2hex","getPKCEStorage","oauthOptions","grant_type","code_verifier","prefix","verifier","getRandomString","validateOptions","getPostData","tokenMgmtRef","expireEarlySeconds","clock","expireTimeouts","renewPromise","getExpireTime","expireEventWait","expireTime","clearExpireEventTimeout","emitExpired","expireEventTimeout","tokenStorage","setExpireEventTimeout","hasExpired","existingPromise","freshToken","oldToken","tokenKey","emitError","clearExpireEventTimeoutAll","SdkClock","DEFAULT_OPTIONS","storageProvider","valueToStore","storageKey","existingValues","getInMemoryStorage","add","getAsync","setExpireEventTimeoutAll","localOffset","parseInt","queue","running","thisObject","run","queueItem","OKTA_CONFIG","InjectionToken","packageInfo","OktaAuthService","injector","_this","observers","login","scrubScopes","oktaAuth","$authenticationState","Observable","observer","fromUri","additionalParams","setFromUri","onAuthRequired","loginRedirect","getTokenManager","isAuthenticated","getAccessToken","_a","getIdToken","emitAuthenticationState","getUser","getOktaConfig","getFromUri","handleAuthentication","logout","unshift","Injectable","Inject","Injector","OktaCallbackComponent","okta","ngOnInit","Component","OktaLoginRedirectComponent","OktaAuthGuard","canActivate","route","canActivateChild","createOktaService","OktaAuthModule","NgModule","declarations","providers","provide","useFactory","ɵ0","deps"],"mappings":"sYAmEO,SAASA,UAAUC,QAASC,WAAYC,EAAGC,WAC9C,OAAO,IAAWD,EAANA,GAAUE,SAAU,SAAUC,QAASC,QAC/C,SAASC,UAAUC,OAAS,IAAMC,KAAKN,UAAUO,KAAKF,QAAW,MAAOG,GAAKL,OAAOK,IACpF,SAASC,SAASJ,OAAS,IAAMC,KAAKN,UAAiB,MAAEK,QAAW,MAAOG,GAAKL,OAAOK,IACvF,SAASF,KAAKI,QAAUA,OAAOC,KAAOT,QAAQQ,OAAOL,OAAS,IAAIN,EAAE,SAAUG,SAAWA,QAAQQ,OAAOL,SAAWO,KAAKR,UAAWK,UACnIH,MAAMN,UAAYA,UAAUa,MAAMhB,QAASC,YAAc,KAAKS,UAI/D,SAASO,YAAYjB,QAASkB,MACjC,IAAsGC,EAAGC,EAAGC,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEZ,KAAMkB,KAAK,GAAIC,MAASD,KAAK,GAAIE,OAAUF,KAAK,IAAwB,mBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WAAa,OAAOC,OAAUX,EACvJ,SAASM,KAAKM,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,IACV,GAAIjB,EAAG,MAAM,IAAIkB,UAAU,mCAC3B,KAAOd,GAAG,IACN,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARe,GAAG,GAAShB,EAAU,OAAIgB,GAAG,GAAKhB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEiB,KAAKlB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEiB,KAAKlB,EAAGgB,GAAG,KAAKtB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGe,GAAK,CAAS,EAARA,GAAG,GAAQf,EAAEb,QACzB4B,GAAG,IACP,KAAK,EAAG,KAAK,EAAGf,EAAIe,GAAI,MACxB,KAAK,EAAc,OAAXb,EAAEC,QAAgB,CAAEhB,MAAO4B,GAAG,GAAItB,MAAM,GAChD,KAAK,EAAGS,EAAEC,QAASJ,EAAIgB,GAAG,GAAIA,GAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,GAAKb,EAAEI,IAAIY,MAAOhB,EAAEG,KAAKa,MAAO,SACxC,QACI,KAAkBlB,EAAe,GAA3BA,EAAIE,EAAEG,MAAYc,QAAcnB,EAAEA,EAAEmB,OAAS,MAAkB,IAAVJ,GAAG,IAAsB,IAAVA,GAAG,IAAW,CAAEb,EAAI,EAAG,SACjG,GAAc,IAAVa,GAAG,MAAcf,GAAMe,GAAG,GAAKf,EAAE,IAAMe,GAAG,GAAKf,EAAE,IAAM,CAAEE,EAAEC,MAAQY,GAAG,GAAI,MAC9E,GAAc,IAAVA,GAAG,IAAYb,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIe,GAAI,MAC7D,GAAIf,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIc,KAAKL,IAAK,MACvDf,EAAE,IAAIE,EAAEI,IAAIY,MAChBhB,EAAEG,KAAKa,MAAO,SAEtBH,GAAKlB,KAAKoB,KAAKtC,QAASuB,GAC1B,MAAOZ,GAAKyB,GAAK,CAAC,EAAGzB,GAAIS,EAAI,EAAI,QAAWD,EAAIE,EAAI,EACtD,GAAY,EAARe,GAAG,GAAQ,MAAMA,GAAG,GAAI,MAAO,CAAE5B,MAAO4B,GAAG,GAAKA,GAAG,QAAK,EAAQtB,MAAM,GArB9BL,CAAK,CAACyB,EAAGC,8QCxE7D,SAKAO,kBAJET,KAAKU,SAAW,GAChBV,KAAKW,KAAO,EC2Bd,IAAAC,KAJA,SAAYrC,MAAOsC,OACjB,OAAOtC,QAAUsC,OAAUtC,OAAUA,OAASsC,OAAUA,OCb1D,IAAAC,cAVA,SAAsBC,MAAOC,KAE3B,IADA,IAAIT,OAASQ,MAAMR,OACZA,UACL,GAAIU,KAAGF,MAAMR,QAAQ,GAAIS,KACvB,OAAOT,OAGX,OAAQ,GCXNW,OAHaC,MAAMC,UAGCF,OAWxB,SAiBAG,iBAjByBL,KACvB,IAAIM,KAAOtB,KAAKU,SACZa,MAAQC,cAAaF,KAAMN,KAE/B,QAAIO,MAAQ,KAIRA,OADYD,KAAKf,OAAS,EAE5Be,KAAKhB,MAELY,OAAOb,KAAKiB,KAAMC,MAAO,KAEzBvB,KAAKW,MACA,GCpBT,SAOAc,cAPsBT,KACpB,IAAIM,KAAOtB,KAAKU,SACZa,MAAQC,cAAaF,KAAMN,KAE/B,OAAOO,MAAQ,OAAIG,EAAYJ,KAAKC,OAAO,GCJ7C,SAIAI,cAJsBX,KACpB,OAA2C,EAApCQ,cAAaxB,KAAKU,SAAUM,KCArC,SAaAY,cAbsBZ,IAAKzC,OACzB,IAAI+C,KAAOtB,KAAKU,SACZa,MAAQC,cAAaF,KAAMN,KAQ/B,OANIO,MAAQ,KACRvB,KAAKW,KACPW,KAAKd,KAAK,CAACQ,IAAKzC,SAEhB+C,KAAKC,OAAO,GAAKhD,MAEZyB,KCTT,SAAS6B,UAAUC,SACjB,IAAIP,OAAS,EACThB,OAAoB,MAAXuB,QAAkB,EAAIA,QAAQvB,OAG3C,IADAP,KAAK+B,UACIR,MAAQhB,QAAQ,CACvB,IAAIyB,MAAQF,QAAQP,OACpBvB,KAAKiC,IAAID,MAAM,GAAIA,MAAM,KAK7BH,UAAUT,UAAUW,MAAQG,gBAC5BL,UAAUT,UAAkB,OAAIe,iBAChCN,UAAUT,UAAUgB,IAAMC,cAC1BR,UAAUT,UAAUkB,IAAMC,cAC1BV,UAAUT,UAAUa,IAAMO,cAE1B,IAAAC,WAAiBZ,UCtBjB,SAKAa,cAJE1C,KAAKU,SAAW,IAAImB,WACpB7B,KAAKW,KAAO,ECFd,SAQAgC,aARqB3B,KACnB,IAAIM,KAAOtB,KAAKU,SACZ9B,OAAS0C,KAAa,OAAEN,KAG5B,OADAhB,KAAKW,KAAOW,KAAKX,KACV/B,OCLT,SAIAgE,UAJkB5B,KAChB,OAAOhB,KAAKU,SAAS0B,IAAIpB,KCD3B,SAIA6B,UAJkB7B,KAChB,OAAOhB,KAAKU,SAAS4B,IAAItB,KAG3B,ICVA8B,YAFkC,iBAAVC,gBAAsBA,gBAAUA,eAAOC,SAAWA,QAAUD,eCEhFE,SAA0B,iBAARC,MAAoBA,MAAQA,KAAKF,SAAWA,QAAUE,KAK5EC,MAFWC,aAAcH,UAAYI,SAAS,cAATA,GCDrCC,QAFaC,MAAKzD,OCAd0D,YAAcR,OAAO5B,UAGrBqC,eAAiBD,YAAYC,eAO7BC,qBAAuBF,YAAYG,SAGnCC,eAAiB9D,QAASA,QAAO+D,iBAAcnC,EA6BnD,IAAAoC,WApBA,SAAmBvF,OACjB,IAAIwF,MAAQN,eAAepD,KAAK9B,MAAOqF,gBACnCI,IAAMzF,MAAMqF,gBAEhB,IAEE,IAAIK,WADJ1F,MAAMqF,qBAAkBlC,GAExB,MAAOhD,IAET,IAAIE,OAAS8E,qBAAqBrD,KAAK9B,OAQvC,OAPI0F,WACEF,MACFxF,MAAMqF,gBAAkBI,WAEjBzF,MAAMqF,iBAGVhF,QClCL8E,uBAPcV,OAAO5B,UAOcuC,SAavC,IAAAO,gBAJA,SAAwB3F,OACtB,OAAOmF,uBAAqBrD,KAAK9B,QCT/BqF,iBAAiB9D,QAASA,QAAO+D,iBAAcnC,EAkBnD,IAAAyC,YATA,SAAoB5F,OAClB,OAAa,MAATA,WACemD,IAAVnD,MAdQ,qBADL,gBAiBJqF,kBAAkBA,oBAAkBZ,OAAOzE,OAC/C6F,WAAU7F,OACV8F,gBAAe9F,QCMrB,IAAA+F,WALA,SAAkB/F,OAChB,IAAIgG,YAAchG,MAClB,OAAgB,MAATA,QAA0B,UAARgG,MAA4B,YAARA,OCS/C,IChCMC,IDgCNC,aAVA,SAAoBlG,OAClB,IAAKmG,WAASnG,OACZ,OAAO,EAIT,IAAIyF,IAAMW,YAAWpG,OACrB,MA5BY,qBA4BLyF,KA3BI,8BA2BcA,KA7BZ,0BA6B6BA,KA1B7B,kBA0BgDA,KE5B/DY,YAFiBrB,MAAK,sBDAlBsB,YACEL,IAAM,SAASM,KAAKC,aAAcA,YAAWC,MAAQD,YAAWC,KAAKC,UAAY,KACvE,iBAAmBT,IAAO,GAc1C,IAAAU,UAJA,SAAkBC,MAChB,QAASN,YAAeA,cAAcM,MEZpCC,aAHY/B,SAASjC,UAGIuC,SAqB7B,IAAA0B,UAZA,SAAkBF,MAChB,GAAY,MAARA,KAAc,CAChB,IACE,OAAOC,aAAa/E,KAAK8E,MACzB,MAAOzG,IACT,IACE,OAAQyG,KAAO,GACf,MAAOzG,KAEX,MAAO,ICVL4G,aAAe,8BAGfC,YAAYlC,SAASjC,UACrBoC,cAAcR,OAAO5B,UAGrBgE,eAAeG,YAAU5B,SAGzBF,iBAAiBD,cAAYC,eAG7B+B,WAAaC,OAAO,IACtBL,eAAa/E,KAAKoD,kBAAgBiC,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,KAmBhF,IAAAC,cARA,SAAsBpH,OACpB,SAAKmG,WAASnG,QAAUqH,UAASrH,UAGnBsH,aAAWtH,OAASiH,WAAaF,cAChCQ,KAAKC,UAASxH,SC/B/B,IAAAyH,UAJA,SAAkBC,OAAQjF,KACxB,OAAiB,MAAViF,YAAiBvE,EAAYuE,OAAOjF,MCO7C,IAAAkF,WALA,SAAmBD,OAAQjF,KACzB,IAAIzC,MAAQ4H,UAASF,OAAQjF,KAC7B,OAAOoF,cAAa7H,OAASA,WAAQmD,GCPvC2E,KAFUC,WAAU/C,MAAM,OCC1BgD,cAFmBD,WAAUtD,OAAQ,UCMrC,SAKAwD,aAJExG,KAAKU,SAAW+F,cAAeA,cAAa,MAAQ,GACpDzG,KAAKW,KAAO,ECDd,SAMA+F,YANoB1F,KAClB,IAAIpC,OAASoB,KAAKsC,IAAItB,aAAehB,KAAKU,SAASM,KAEnD,OADAhB,KAAKW,MAAQ/B,OAAS,EAAI,EACnBA,OAGT,ICPI6E,iBAHcT,OAAO5B,UAGQqC,eAWjC,SASAkD,SATiB3F,KACf,IAAIM,KAAOtB,KAAKU,SAChB,GAAI+F,cAAc,CAChB,IAAI7H,OAAS0C,KAAKN,KAClB,MArBiB,8BAqBVpC,YAA4B8C,EAAY9C,OAEjD,OAAO6E,iBAAepD,KAAKiB,KAAMN,KAAOM,KAAKN,UAAOU,EAGtD,ICvBI+B,iBAHcT,OAAO5B,UAGQqC,eAWjC,SAKAmD,SALiB5F,KACf,IAAIM,KAAOtB,KAAKU,SAChB,OAAO+F,mBAA8B/E,IAAdJ,KAAKN,KAAsByC,iBAAepD,KAAKiB,KAAMN,KCJ9E,SAOA6F,SAPiB7F,IAAKzC,OACpB,IAAI+C,KAAOtB,KAAKU,SAGhB,OAFAV,KAAKW,MAAQX,KAAKsC,IAAItB,KAAO,EAAI,EACjCM,KAAKN,KAAQyF,oBAA0B/E,IAAVnD,MAfV,4BAekDA,MAC9DyB,KCNT,SAAS8G,KAAKhF,SACZ,IAAIP,OAAS,EACThB,OAAoB,MAAXuB,QAAkB,EAAIA,QAAQvB,OAG3C,IADAP,KAAK+B,UACIR,MAAQhB,QAAQ,CACvB,IAAIyB,MAAQF,QAAQP,OACpBvB,KAAKiC,IAAID,MAAM,GAAIA,MAAM,KAK7B8E,KAAK1F,UAAUW,MAAQgF,WACvBD,KAAK1F,UAAkB,OAAI4F,YAC3BF,KAAK1F,UAAUgB,IAAM6E,SACrBH,KAAK1F,UAAUkB,IAAM4E,SACrBJ,KAAK1F,UAAUa,IAAMkF,SAErB,IAAAC,MAAiBN,KCjBjB,IAAAO,WAPA,SAAmB9I,OACjB,IAAIgG,YAAchG,MAClB,MAAgB,UAARgG,MAA4B,UAARA,MAA4B,UAARA,MAA4B,WAARA,KACrD,cAAVhG,MACU,OAAVA,OCMP,IAAA+I,YAPA,SAAoBC,IAAKvG,KACvB,IAAIM,KAAOiG,IAAI7G,SACf,OAAO8G,WAAUxG,KACbM,KAAmB,iBAAPN,IAAkB,SAAW,QACzCM,KAAKiG,KCHX,SAMAE,gBANwBzG,KACtB,IAAIpC,OAAS8I,YAAW1H,KAAMgB,KAAa,OAAEA,KAE7C,OADAhB,KAAKW,MAAQ/B,OAAS,EAAI,EACnBA,OCHT,SAIA+I,aAJqB3G,KACnB,OAAO0G,YAAW1H,KAAMgB,KAAKoB,IAAIpB,KCDnC,SAIA4G,aAJqB5G,KACnB,OAAO0G,YAAW1H,KAAMgB,KAAKsB,IAAItB,KCAnC,SASA6G,aATqB7G,IAAKzC,OACxB,IAAI+C,KAAOoG,YAAW1H,KAAMgB,KACxBL,KAAOW,KAAKX,KAIhB,OAFAW,KAAKW,IAAIjB,IAAKzC,OACdyB,KAAKW,MAAQW,KAAKX,MAAQA,KAAO,EAAI,EAC9BX,KCLT,SAAS8H,SAAShG,SAChB,IAAIP,OAAS,EACThB,OAAoB,MAAXuB,QAAkB,EAAIA,QAAQvB,OAG3C,IADAP,KAAK+B,UACIR,MAAQhB,QAAQ,CACvB,IAAIyB,MAAQF,QAAQP,OACpBvB,KAAKiC,IAAID,MAAM,GAAIA,MAAM,KAK7B8F,SAAS1G,UAAUW,MCdnB,WACE/B,KAAKW,KAAO,EACZX,KAAKU,SAAW,CACdqH,KAAQ,IAAIjB,MACZS,IAAO,IAAKS,MAAOnG,YACnBoG,OAAU,IAAInB,QDUlBgB,SAAS1G,UAAkB,OAAI8G,gBAC/BJ,SAAS1G,UAAUgB,IAAM+F,aACzBL,SAAS1G,UAAUkB,IAAM8F,aACzBN,SAAS1G,UAAUa,IAAMoG,aAEzB,IAAAC,UAAiBR,SEdjB,SAgBAS,UAhBkBvH,IAAKzC,OACrB,IAAI+C,KAAOtB,KAAKU,SAChB,GAAIY,gBAAgBO,WAAW,CAC7B,IAAI2G,MAAQlH,KAAKZ,SACjB,IAAKsH,MAAQQ,MAAMjI,OAASkI,IAG1B,OAFAD,MAAMhI,KAAK,CAACQ,IAAKzC,QACjByB,KAAKW,OAASW,KAAKX,KACZX,KAETsB,KAAOtB,KAAKU,SAAW,IAAIoH,UAASU,OAItC,OAFAlH,KAAKW,IAAIjB,IAAKzC,OACdyB,KAAKW,KAAOW,KAAKX,KACVX,KChBT,SAAS0I,MAAM5G,SACb,IAAIR,KAAOtB,KAAKU,SAAW,IAAImB,WAAUC,SACzC9B,KAAKW,KAAOW,KAAKX,KAInB+H,MAAMtH,UAAUW,MAAQ4G,YACxBD,MAAMtH,UAAkB,OAAIwH,aAC5BF,MAAMtH,UAAUgB,IAAMyG,UACtBH,MAAMtH,UAAUkB,IAAMwG,UACtBJ,MAAMtH,UAAUa,IAAM8G,UAEtB,IAAAC,OAAiBN,MChBjBO,gBARsB,WACpB,IACE,IAAI9D,KAAOmB,WAAUtD,OAAQ,kBAE7B,OADAmC,KAAK,GAAI,GAAI,IACNA,KACP,MAAOzG,KALO,GCsBlB,IAAAwK,iBAbA,SAAyBjD,OAAQjF,IAAKzC,OACzB,aAAPyC,KAAsBmI,gBACxBA,gBAAelD,OAAQjF,IAAK,CAC1BoI,cAAgB,EAChBC,YAAc,EACd9K,MAASA,MACT+K,UAAY,IAGdrD,OAAOjF,KAAOzC,OCDlB,IAAAgL,kBAPA,SAA0BtD,OAAQjF,IAAKzC,aACtBmD,IAAVnD,OAAwB0C,KAAGgF,OAAOjF,KAAMzC,eAC9BmD,IAAVnD,OAAyByC,OAAOiF,SACnCuD,iBAAgBvD,OAAQjF,IAAKzC,QCSjC,ICTAkL,SDRA,SAAuBC,WACrB,OAAO,SAASzD,OAAQ0D,SAAUC,UAMhC,IALA,IAAIrI,OAAS,EACTsI,SAAW7G,OAAOiD,QAClB6D,MAAQF,SAAS3D,QACjB1F,OAASuJ,MAAMvJ,OAEZA,UAAU,CACf,IAAIS,IAAM8I,MAAMJ,UAAYnJ,SAAWgB,OACvC,IAA+C,IAA3CoI,SAASE,SAAS7I,KAAMA,IAAK6I,UAC/B,MAGJ,OAAO5D,QCPG8D,8DCVd,IAAIC,YAA4CC,UAAYA,QAAQC,UAAYD,QAG5EE,WAAaH,aAA4CI,SAAWA,OAAOF,UAAYE,OAMvFC,OAHgBF,YAAcA,WAAWF,UAAYD,YAG5BzG,MAAK8G,YAAS3I,EACvC4I,YAAcD,OAASA,OAAOC,iBAAc5I,EAqBhD0I,OAAAH,QAXA,SAAqBM,OAAQC,QAC3B,GAAIA,OACF,OAAOD,OAAOE,QAEhB,IAAIlK,OAASgK,OAAOhK,OAChB3B,OAAS0L,YAAcA,YAAY/J,QAAU,IAAIgK,OAAOG,YAAYnK,QAGxE,OADAgK,OAAOI,KAAK/L,QACLA,UC1BTgM,YAFiBrH,MAAKsH,WCYtB,IAAAC,kBANA,SAA0BC,aACxB,IAAInM,OAAS,IAAImM,YAAYL,YAAYK,YAAYC,YAErD,OADA,IAAIH,YAAWjM,QAAQqD,IAAI,IAAI4I,YAAWE,cACnCnM,QCGT,IAAAqM,iBALA,SAAyBC,WAAYV,QACnC,IAAID,OAASC,OAASW,kBAAiBD,WAAWX,QAAUW,WAAWX,OACvE,OAAO,IAAIW,WAAWR,YAAYH,OAAQW,WAAWE,WAAYF,WAAW3K,SCO9E,IAAA8K,WAXA,SAAmBC,OAAQvK,OACzB,IAAIQ,OAAS,EACThB,OAAS+K,OAAO/K,OAGpB,IADUQ,MAAVA,OAAkBI,MAAMZ,UACfgB,MAAQhB,QACfQ,MAAMQ,OAAS+J,OAAO/J,OAExB,OAAOR,OCbLwK,aAAevI,OAAOwI,OAWxB,SAASvF,UAeX,IAAAwF,YAdS,SAASC,OACd,IAAKhH,WAASgH,OACZ,MAAO,GAET,GAAIH,aACF,OAAOA,aAAaG,OAEtBzF,OAAO7E,UAAYsK,MACnB,IAAI9M,OAAS,IAAIqH,OAEjB,OADAA,OAAO7E,eAAYM,EACZ9C,QCXX,ICTA+M,cDGA,SAAiBxG,KAAMyG,WACrB,OAAO,SAASC,KACd,OAAO1G,KAAKyG,UAAUC,OCPPC,CAAQ9I,OAAO+I,eAAgB/I,QCF9CQ,cAAcR,OAAO5B,UAgBzB,IAAA4K,aAPA,SAAqBzN,OACnB,IAAI0N,KAAO1N,OAASA,MAAMmM,YAG1B,OAAOnM,SAFqB,mBAAR0N,MAAsBA,KAAK7K,WAAcoC,gBCK/D,IAAA0I,iBANA,SAAyBjG,QACvB,MAAqC,mBAAtBA,OAAOyE,aAA8ByB,aAAYlG,QAE5D,GADAmG,YAAWC,cAAapG,UCe9B,IAAAqG,eAJA,SAAsB/N,OACpB,OAAgB,MAATA,OAAiC,iBAATA,OCRjC,IAAAgO,iBAJA,SAAyBhO,OACvB,OAAOiO,eAAajO,QAVR,sBAUkBoG,YAAWpG,QCVvCiF,cAAcR,OAAO5B,UAGrBqC,iBAAiBD,cAAYC,eAG7BgJ,qBAAuBjJ,cAAYiJ,qBAyBvCC,cALkBC,iBAAgB,WAAa,OAAOC,UAApB,IAAsCD,iBAAkB,SAASpO,OACjG,OAAOiO,eAAajO,QAAUkF,iBAAepD,KAAK9B,MAAO,YACtDkO,qBAAqBpM,KAAK9B,MAAO,WCPtCsO,UAFc1L,MAAM2L,QCWpB,IAAAC,WALA,SAAkBxO,OAChB,MAAuB,iBAATA,QACH,EAATA,OAAcA,MAAQ,GAAK,GAAKA,OA9Bb,kBC+BvB,IAAAyO,cAJA,SAAqBzO,OACnB,OAAgB,MAATA,OAAiB0O,WAAS1O,MAAMgC,UAAYsF,aAAWtH,QCGhE,IAAA2O,oBAJA,SAA2B3O,OACzB,OAAOiO,eAAajO,QAAU4O,cAAY5O,QChB5C,SAIA6O,cAHE,OAAO,EAGT,6DCbA,IAAIpD,YAA4CC,UAAYA,QAAQC,UAAYD,QAG5EE,WAAaH,aAA4CI,SAAWA,OAAOF,UAAYE,OAMvFC,OAHgBF,YAAcA,WAAWF,UAAYD,YAG5BzG,MAAK8G,YAAS3I,EAsBvC2L,UAnBiBhD,OAASA,OAAOgD,cAAW3L,IAmBf4L,YAEjClD,OAAAH,QAAiBoD,WC7Bb9H,YAAYlC,SAASjC,UACrBoC,cAAcR,OAAO5B,UAGrBgE,eAAeG,YAAU5B,SAGzBF,iBAAiBD,cAAYC,eAG7B8J,iBAAmBnI,eAAa/E,KAAK2C,QA2CzC,IAAAwK,gBAbA,SAAuBjP,OACrB,IAAKiO,eAAajO,QA5CJ,mBA4CcoG,YAAWpG,OACrC,OAAO,EAET,IAAImN,MAAQW,cAAa9N,OACzB,GAAc,OAAVmN,MACF,OAAO,EAET,IAAIO,KAAOxI,iBAAepD,KAAKqL,MAAO,gBAAkBA,MAAMhB,YAC9D,MAAsB,mBAARuB,MAAsBA,gBAAgBA,MAClD7G,eAAa/E,KAAK4L,OAASsB,kBC1B3BE,eAAiB,GACrBA,eAZiB,yBAYYA,eAXZ,yBAYjBA,eAXc,sBAWYA,eAVX,uBAWfA,eAVe,uBAUYA,eATZ,uBAUfA,eATsB,8BASYA,eARlB,wBAShBA,eARgB,yBAQY,EAC5BA,eAjCc,sBAiCYA,eAhCX,kBAiCfA,eApBqB,wBAoBYA,eAhCnB,oBAiCdA,eApBkB,qBAoBYA,eAhChB,iBAiCdA,eAhCe,kBAgCYA,eA/Bb,qBAgCdA,eA/Ba,gBA+BYA,eA9BT,mBA+BhBA,eA9BgB,mBA8BYA,eA7BZ,mBA8BhBA,eA7Ba,gBA6BYA,eA5BT,mBA6BhBA,eA5BiB,qBA4BY,EAS7B,SAKAC,kBAL0BnP,OACxB,OAAOiO,eAAajO,QAClB0O,WAAS1O,MAAMgC,WAAakN,eAAe9I,YAAWpG,QC3C1D,IAAAoP,WANA,SAAmBxI,MACjB,OAAO,SAAS5G,OACd,OAAO4G,KAAK5G,iECNhB,IAAIyL,YAA4CC,UAAYA,QAAQC,UAAYD,QAG5EE,WAAaH,aAA4CI,SAAWA,OAAOF,UAAYE,OAMvFwD,YAHgBzD,YAAcA,WAAWF,UAAYD,aAGtB5G,YAAWyK,QAG1CC,SAAY,WACd,IAEE,IAAIC,MAAQ5D,YAAcA,WAAW6D,SAAW7D,WAAW6D,QAAQ,QAAQD,MAE3E,OAAIA,OAKGH,aAAeA,YAAYK,SAAWL,YAAYK,QAAQ,QACjE,MAAOvP,KAXC,GAcZ0L,OAAAH,QAAiB6D,WCxBbI,iBAAmBJ,WAAYA,UAASK,aAqB5CC,eAFmBF,iBAAmBG,WAAUH,kBAAoBI,kBCJpE,IAAAC,SAZA,SAAiBtI,OAAQjF,KACvB,IAAY,gBAARA,KAAgD,mBAAhBiF,OAAOjF,OAIhC,aAAPA,IAIJ,OAAOiF,OAAOjF,MCVZyC,iBAHcT,OAAO5B,UAGQqC,eAoBjC,IAAA+K,aARA,SAAqBvI,OAAQjF,IAAKzC,OAChC,IAAIkQ,SAAWxI,OAAOjF,KAChByC,iBAAepD,KAAK4F,OAAQjF,MAAQC,KAAGwN,SAAUlQ,cACxCmD,IAAVnD,OAAyByC,OAAOiF,SACnCuD,iBAAgBvD,OAAQjF,IAAKzC,QCgBjC,IAAAmQ,YA1BA,SAAoBpD,OAAQxB,MAAO7D,OAAQ0I,YACzC,IAAIC,OAAS3I,OACFA,OAAXA,QAAoB,GAKpB,IAHA,IAAI1E,OAAS,EACThB,OAASuJ,MAAMvJ,SAEVgB,MAAQhB,QAAQ,CACvB,IAAIS,IAAM8I,MAAMvI,OAEZsN,SAAWF,WACXA,WAAW1I,OAAOjF,KAAMsK,OAAOtK,KAAMA,IAAKiF,OAAQqF,aAClD5J,OAEaA,IAAbmN,WACFA,SAAWvD,OAAOtK,MAEhB4N,MACFpF,iBAAgBvD,OAAQjF,IAAK6N,UAE7BC,aAAY7I,OAAQjF,IAAK6N,UAG7B,OAAO5I,QCjBT,IAAA8I,WAVA,SAAmB9O,EAAG0J,UAIpB,IAHA,IAAIpI,OAAS,EACT3C,OAASuC,MAAMlB,KAEVsB,MAAQtB,GACfrB,OAAO2C,OAASoI,SAASpI,OAE3B,OAAO3C,QCZLoQ,SAAW,mBAoBf,IAAAC,SAVA,SAAiB1Q,MAAOgC,QACtB,IAAIgE,YAAchG,MAGlB,SAFAgC,OAAmB,MAAVA,OAfY,iBAewBA,UAGlC,UAARgE,MACU,UAARA,MAAoByK,SAASlJ,KAAKvH,UACvB,EAATA,OAAcA,MAAQ,GAAK,GAAKA,MAAQgC,QCV7CkD,iBAHcT,OAAO5B,UAGQqC,eAqCjC,IAAAyL,eA3BA,SAAuB3Q,MAAO4Q,WAC5B,IAAIC,MAAQtC,UAAQvO,OAChB8Q,OAASD,OAASE,cAAY/Q,OAC9BgR,QAAUH,QAAUC,OAAShC,WAAS9O,OACtCiR,QAAUJ,QAAUC,QAAUE,QAAUpB,eAAa5P,OACrDkR,YAAcL,OAASC,OAASE,QAAUC,OAC1C5Q,OAAS6Q,YAAcC,WAAUnR,MAAMgC,OAAQoP,QAAU,GACzDpP,OAAS3B,OAAO2B,OAEpB,IAAK,IAAIS,OAAOzC,OACT4Q,YAAa1L,iBAAepD,KAAK9B,MAAOyC,MACvCyO,cAEQ,UAAPzO,KAECuO,SAAkB,UAAPvO,KAA0B,UAAPA,MAE9BwO,SAAkB,UAAPxO,KAA0B,cAAPA,KAA8B,cAAPA,MAEtD4O,SAAQ5O,IAAKT,UAElB3B,OAAO4B,KAAKQ,KAGhB,OAAOpC,QC1BT,IAAAiR,cAVA,SAAsB5J,QACpB,IAAIrH,OAAS,GACb,GAAc,MAAVqH,OACF,IAAK,IAAIjF,OAAOgC,OAAOiD,QACrBrH,OAAO4B,KAAKQ,KAGhB,OAAOpC,QCRL6E,iBAHcT,OAAO5B,UAGQqC,eAwBjC,IAAAqM,YAfA,SAAoB7J,QAClB,IAAKvB,WAASuB,QACZ,OAAO8J,cAAa9J,QAEtB,IAAI+J,QAAU7D,aAAYlG,QACtBrH,OAAS,GAEb,IAAK,IAAIoC,OAAOiF,QACD,eAAPjF,MAAyBgP,SAAYvM,iBAAepD,KAAK4F,OAAQjF,OACrEpC,OAAO4B,KAAKQ,KAGhB,OAAOpC,QCET,IAAAqR,SAJA,SAAgBhK,QACd,OAAOkH,cAAYlH,QAAUiK,eAAcjK,QAAQ,GAAQkK,YAAWlK,SCGxE,IAAAmK,gBAJA,SAAuB7R,OACrB,OAAO8R,YAAW9R,MAAO+R,SAAO/R,SCiElC,IAAAgS,eA9DA,SAAuBtK,OAAQqF,OAAQtK,IAAKwP,SAAUC,UAAW9B,WAAY+B,OAC3E,IAAIjC,SAAWkC,SAAQ1K,OAAQjF,KAC3B4P,SAAWD,SAAQrF,OAAQtK,KAC3B6P,QAAUH,MAAMtO,IAAIwO,UAExB,GAAIC,QACFC,kBAAiB7K,OAAQjF,IAAK6P,aADhC,CAIA,IAAIhC,SAAWF,WACXA,WAAWF,SAAUmC,SAAW5P,IAAM,GAAKiF,OAAQqF,OAAQoF,YAC3DhP,EAEAqP,cAAwBrP,IAAbmN,SAEf,GAAIkC,SAAU,CACZ,IAAI3B,MAAQtC,UAAQ8D,UAChBrB,QAAUH,OAAS/B,WAASuD,UAC5BI,SAAW5B,QAAUG,QAAUpB,eAAayC,UAEhD/B,SAAW+B,SACPxB,OAASG,QAAUyB,QAEnBnC,SADE/B,UAAQ2B,UACCA,SAEJwC,oBAAkBxC,UACdyC,WAAUzC,UAEdc,OAEI4B,aAAYP,WADvBG,UAAW,IAGJC,QAEII,iBAAgBR,WAD3BG,UAAW,IAIA,GAGNM,gBAAcT,WAAatB,cAAYsB,UAE1CtB,cADJT,SAAWJ,UAETI,SAAWyC,gBAAc7C,UAEjB/J,WAAS+J,YAAa5I,aAAW4I,YACzCI,SAAW0C,iBAAgBX,WAI7BG,UAAW,EAGXA,WAEFL,MAAMzO,IAAI2O,SAAU/B,UACpB4B,UAAU5B,SAAU+B,SAAUJ,SAAU7B,WAAY+B,OACpDA,MAAc,OAAEE,WAElBE,kBAAiB7K,OAAQjF,IAAK6N,YCjDhC,IAAA2C,WAtBA,SAASC,UAAUxL,OAAQqF,OAAQkF,SAAU7B,WAAY+B,OACnDzK,SAAWqF,QAGfoG,SAAQpG,OAAQ,SAASsF,SAAU5P,KAEjC,GADU0P,MAAVA,OAAkB,IAAIhI,OAClBhE,WAASkM,UACXe,eAAc1L,OAAQqF,OAAQtK,IAAKwP,SAAUiB,UAAW9C,WAAY+B,WAEjE,CACH,IAAI7B,SAAWF,WACXA,WAAWgC,SAAQ1K,OAAQjF,KAAM4P,SAAW5P,IAAM,GAAKiF,OAAQqF,OAAQoF,YACvEhP,OAEaA,IAAbmN,WACFA,SAAW+B,UAEbE,kBAAiB7K,OAAQjF,IAAK6N,YAE/ByB,WCtBL,SAIAsB,WAJkBrT,OAChB,OAAOA,MCGT,IAAAsT,OAVA,SAAe1M,KAAMpH,QAAS+T,MAC5B,OAAQA,KAAKvR,QACX,KAAK,EAAG,OAAO4E,KAAK9E,KAAKtC,SACzB,KAAK,EAAG,OAAOoH,KAAK9E,KAAKtC,QAAS+T,KAAK,IACvC,KAAK,EAAG,OAAO3M,KAAK9E,KAAKtC,QAAS+T,KAAK,GAAIA,KAAK,IAChD,KAAK,EAAG,OAAO3M,KAAK9E,KAAKtC,QAAS+T,KAAK,GAAIA,KAAK,GAAIA,KAAK,IAE3D,OAAO3M,KAAKpG,MAAMhB,QAAS+T,OCdzBC,UAAYC,KAAKC,IAgCrB,IAAAC,UArBA,SAAkB/M,KAAMgN,MAAOvG,WAE7B,OADAuG,MAAQJ,eAAoBrQ,IAAVyQ,MAAuBhN,KAAK5E,OAAS,EAAK4R,MAAO,GAC5D,WAML,IALA,IAAIL,KAAOlF,UACPrL,OAAS,EACThB,OAASwR,UAAUD,KAAKvR,OAAS4R,MAAO,GACxCpR,MAAQI,MAAMZ,UAETgB,MAAQhB,QACfQ,MAAMQ,OAASuQ,KAAKK,MAAQ5Q,OAE9BA,OAAS,EAET,IADA,IAAI6Q,UAAYjR,MAAMgR,MAAQ,KACrB5Q,MAAQ4Q,OACfC,UAAU7Q,OAASuQ,KAAKvQ,OAG1B,OADA6Q,UAAUD,OAASvG,UAAU7K,OACtBhC,OAAMoG,KAAMnF,KAAMoS,aCN7B,IAAAC,WANA,SAAkB9T,OAChB,OAAO,WACL,OAAOA,QCAX+T,iBATuBnJ,gBAA4B,SAAShE,KAAM8C,QAChE,OAAOkB,gBAAehE,KAAM,WAAY,CACtCiE,cAAgB,EAChBC,YAAc,EACd9K,MAASgU,WAAStK,QAClBqB,UAAY,KALwBkJ,WCPpCC,UAAYC,KAAKC,IA+BrB,ICvBAC,aDGA,SAAkBzN,MAChB,IAAI0N,MAAQ,EACRC,WAAa,EAEjB,OAAO,WACL,IAAIC,MAAQN,YACRO,UApBO,IAoBiBD,MAAQD,YAGpC,GADAA,WAAaC,MACG,EAAZC,WACF,GAzBU,OAyBJH,MACJ,OAAOjG,UAAU,QAGnBiG,MAAQ,EAEV,OAAO1N,KAAKpG,WAAM2C,EAAWkL,YCrBfqG,CAASC,kBCK3B,IAAAC,UAJA,SAAkBhO,KAAMgN,OACtB,OAAOiB,aAAYC,UAASlO,KAAMgN,MAAOK,YAAWrN,KAAO,KCgB7D,IAAAmO,gBAdA,SAAwB/U,MAAOgD,MAAO0E,QACpC,IAAKvB,WAASuB,QACZ,OAAO,EAET,IAAI1B,YAAchD,MAClB,SAAY,UAARgD,KACK4I,cAAYlH,SAAW2J,SAAQrO,MAAO0E,OAAO1F,QACrC,UAARgE,MAAoBhD,SAAS0E,SAE7BhF,KAAGgF,OAAO1E,OAAQhD,QCY7B,MCEAgV,QD5BA,SAAwBC,UACtB,OAAOC,UAAS,SAASxN,OAAQyN,SAC/B,IAAInS,OAAS,EACThB,OAASmT,QAAQnT,OACjBoO,WAAsB,EAATpO,OAAamT,QAAQnT,OAAS,QAAKmB,EAChDiS,MAAiB,EAATpT,OAAamT,QAAQ,QAAKhS,EAWtC,IATAiN,WAAgC,EAAlB6E,SAASjT,QAAmC,mBAAdoO,YACvCpO,SAAUoO,iBACXjN,EAEAiS,OAASC,gBAAeF,QAAQ,GAAIA,QAAQ,GAAIC,SAClDhF,WAAapO,OAAS,OAAImB,EAAYiN,WACtCpO,OAAS,GAEX0F,OAASjD,OAAOiD,UACP1E,MAAQhB,QAAQ,CACvB,IAAI+K,OAASoI,QAAQnS,OACjB+J,QACFkI,SAASvN,OAAQqF,OAAQ/J,MAAOoN,YAGpC,OAAO1I,SCEC4N,CAAe,SAAS5N,OAAQqF,OAAQkF,UAClDiB,WAAUxL,OAAQqF,OAAQkF,sDCb5B,IAAIsD,6BAA+B,WAGjC,SAASA,+BAGP,OA1BJ,SAAyBC,SAAUC,aAAe,KAAMD,oBAAoBC,aAAgB,MAAM,IAAI5T,UAAU,qCAwB5G6T,CAAgBjU,KAAM8T,8BAtB1B,SAAoC5Q,KAAM7C,MAAQ,IAAK6C,KAAQ,MAAM,IAAIgR,eAAe,6DAAgE,OAAO7T,MAAyB,iBAATA,MAAqC,mBAATA,KAA8B6C,KAAP7C,KAwBvN8T,CAA2BnU,MAAO8T,6BAA6BM,WAAapR,OAAO+I,eAAe+H,+BAA+B/U,MAAMiB,KAAM4M,YAGtJ,OAzBF,SAAmByH,SAAUC,YAAc,GAA0B,mBAAfA,YAA4C,OAAfA,WAAuB,MAAM,IAAIlU,UAAU,kEAAoEkU,YAAeD,SAASjT,UAAY4B,OAAOwI,OAAO8I,YAAcA,WAAWlT,UAAW,CAAEsJ,YAAa,CAAEnM,MAAO8V,SAAUhL,YAAY,EAAOC,UAAU,EAAMF,cAAc,KAAekL,aAAYtR,OAAOuR,eAAiBvR,OAAOuR,eAAeF,SAAUC,YAAcD,SAASD,UAAYE,YAiB/dE,CAAUV,6BASVW,OADOX,6BAT0B,GAY/BY,WAAatK,OAAOH,QAKpB0K,uBAAyB,oLAEzBC,QAAU,IAAInP,OAAO,aACrBoP,YAAc,IAAIpP,OAAO,OACzBqP,eAAiB,0CACjBC,cAAgB,IAAItP,OAAO,0BAC3BuP,WAAa,IAAIvP,OAAO,MAE5BiP,WAAWO,kBAAoB,SAAUC,QAQvC,IAAIC,QAHJD,OAASA,QAAU,IAGCC,QACfA,QAAUD,OAAOE,QAElBD,OADEhU,MAAM2L,QAAQoI,OAAOE,OACdF,OAAOE,MAEPF,OAAOE,MAAMC,MAAM,QAKhC,IAAIC,aAAeJ,OAAOI,aACtBC,UAAYL,OAAOK,WAAaL,OAAOM,WACvCC,QAAUP,OAAOO,SACjBA,SAAWF,aAEbD,aAAeI,QAAM,CACnBH,UAAWA,UACXE,QAASA,SACRH,cAAgB,KAIrB,IAAIK,aAAeT,OAAOS,cAAgBT,OAAOU,cAajD,MAZ4B,iBAAjBD,cAA0D,GAA7BA,aAAaE,QAAQ,OAC3DF,aAAeA,aAAaN,MAAM,QAGbK,QAAM,GAAIR,OAAQ,CACvCY,SAAUZ,OAAOY,UAAYZ,OAAOa,UACpCC,YAAad,OAAOc,aAAed,OAAOe,aAC1CN,aAAcA,aACdR,OAAQA,OACRG,aAAcA,gBAMlBZ,WAAWwB,aAAe,SAAUC,QAClC,IAAIC,QAA6B,EAAnBxJ,UAAUrM,aAA+BmB,IAAjBkL,UAAU,GAAmBA,UAAU,GAAK,GAE9EyJ,YAAc,qIAElB,GAAID,QAAQE,kBAAmB,CAG7BC,QAAQC,KAFW,wHAKrB,IAAKL,OACH,MAAM,IAAIrC,6BAA6B,6BAA+BuC,aACjE,IAAKD,QAAQE,oBAAsBH,OAAOM,MAAM7B,SACrD,MAAM,IAAId,6BAA6B,uDAA+DqC,OAAS,KAAOE,aACjH,GAAIF,OAAOM,MAAM,oBACtB,MAAM,IAAI3C,6BAA6B,mDAAqDuC,aACvF,GAAIF,OAAOM,MAAM3B,gBACtB,MAAM,IAAIhB,6BAA6B,8DAAsEqC,OAAS,KAAOE,aACxH,GAAIF,OAAOM,MAAM1B,eACtB,MAAM,IAAIjB,6BAA6B,oEAA6EqC,OAAS,KAAOE,cAIxI3B,WAAWgC,eAAiB,SAAUZ,UACpC,IAAKA,SACH,MAAM,IAAIhC,6BAA6B,8BAAgCa,wBAClE,GAAImB,SAASW,MAAM,cACxB,MAAM,IAAI3C,6BAA6B,8DAAgEa,yBAI3GD,WAAWiC,mBAAqB,SAAUC,cACxC,IAAKA,aACH,MAAM,IAAI9C,6BAA6B,kCAAoCa,wBACtE,GAAIiC,aAAaH,MAAM,kBAC5B,MAAM,IAAI3C,6BAA6B,sEAAwEa,yBAInHD,WAAWmC,kBAAoB,SAAUb,aACvC,IAAKA,YACH,MAAM,IAAIlC,6BAA6B,iCAClC,GAAIkC,YAAYS,MAAM,iBAC3B,MAAM,IAAI3C,6BAA6B,qEAI3CY,WAAWoC,iBAAmB,SAAUC,YACtC,IAAKA,WACH,MAAM,IAAIjD,6BAA6B,+BAClC,GAAIiD,WAAWN,MAAM,gBAC1B,MAAM,IAAI3C,6BAA6B,+DAClC,IAAKiD,WAAWN,MAAM5B,aAC3B,MAAM,IAAIf,6BAA6B,2EAA6EiD,WAAa,KAC5H,GAAIA,WAAWN,MAAMzB,YAC1B,MAAM,IAAIlB,6BAA6B,yDAA6DiD,WAAa,wKC5IlG,oBAAA7T,MAAcA,KARVkH,OAAAH,QASvB,SAAAvL,GCNE,SAAAU,EAA6B4X,GAG5B,GAAGC,EAAiBD,GACnB,OAAAE,EAAwBF,GAAU/M,QAGnC,IAAAkN,EAAaF,EAAiBD,GAAAA,CAC7BI,EAAGJ,EACHK,GAAAA,EACApN,QAAAA,IAUD,OAAAvL,EANQsY,GAAU3W,KAAK+J,EAAOH,QAASG,EAAQA,EAAOH,QAASqN,GAG/DlN,EAAOiN,GAAAA,EAGAjN,EAAOH,QAvBf,IAAAiN,EAAA,GA4DA,OAAA9X,EAhCoBmY,EAAIC,EAGxBF,EAAoBG,EAAIR,EAGxBK,EAAoBI,EAAI,SAASzN,EAAS0N,EAAMC,GAC3CN,EAAoBH,EAAElN,EAAS0N,IAClC3U,OAAOmG,eAAec,EAAS0N,EAAAA,CAC9BvO,cAAAA,EACAC,YAAAA,EACAjH,IAAKwV,KAMRN,EAAoBrX,EAAI,SAASmK,GAChC,IAAA8M,EAAa9M,GAAUA,EAAOyN,WAC7B,WAAwB,OAAAnZ,EAAuBoZ,SAC/C,WAA8B,OAAApZ,GAE/B,OAAAU,EADoBsY,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRN,EAAoBH,EAAI,SAASlR,EAAQ8R,GAAY,OAAA/U,OAAc5B,UAAUqC,eAAepD,KAAK4F,EAAQ8R,IAGzGT,EAAoBU,EAAI,GAGjBV,EAAoBA,EAAoBW,EAAI,IDnDrD,CCmDqD,CCgB/C,SAAU7N,EAAQH,GChExB,IAAAiN,EAAW9M,EAAOH,QAGlBiO,EAAKC,kBAAoB,SAASC,GAChC,IAAAhZ,EAAUiZ,KAAKD,GACf,OAAAlB,EAAYoB,kBAAkBC,IAIhCL,EAAKI,kBAAoB,SAASC,GAChC,OAAA7Z,EAAWgH,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAIpEwS,EAAKM,kBAAoB,SAASC,GAChC,OAAA/Z,EAAYgH,QAAQ,KAAM,KAAKA,QAAQ,KAAM,MAG/CwS,EAAKQ,kBAAoB,SAASD,GAChC,IAAArZ,EAAU8Y,EAAKM,kBAAkBC,GACjC,OAAQF,EAAIhY,OAAS,GACnB,KAAA,EACE,MAAA,KAAA,EAEAgY,GAAO,KACP,MAAA,KAAA,EAEAA,GAAO,IACP,MAAA,QAEA,KAAM,wBAEV,IAAAtY,EAAW0Y,KAAKJ,GAChB,IACE,OAAAK,mBAA0BC,OAAOC,IACjC,MAAOpa,GACP,OAAAuB,IAIJiY,EAAKa,eAAiB,SAASX,GAE7B,IAAK,IAAAhZ,EADQ,IAAAyL,WAAeuN,EAAI7X,QACvB6W,EAAI,EAAGA,EAAIgB,EAAI7X,OAAQ6W,IAC9B7M,EAAO6M,GAAKgB,EAAIY,WAAW5B,GAE7B,OAAAhY,GAGF8Y,EAAKe,gBAAkB,SAASb,GAC9B,OAAAO,KAAYT,EAAKM,kBAAkBJ,KAGrCF,EAAKgB,KAAO,SAASC,EAAIC,GACvB,IAAAlC,EAAqB/V,MAAMC,UAAUqJ,MAAMpK,KAAKuM,UAAW,GAC3D,OAAA,WACE,IAAA3M,EAAWkB,MAAMC,UAAUqJ,MAAMpK,KAAKuM,WAEtC,OAAA3M,EADOoZ,EAAeC,OAAOxH,GACtBqH,EAAGpa,MAAMqa,EAAKtH,KAIzBoG,EAAKqB,cAAgB,SAASC,GAC5B,MAAO,qBAAqB1T,KAAK0T,IAGnCtB,EAAKuB,SAAW,SAASC,GACvB,MAA+C,oBAAxC1W,OAAO5B,UAAUuC,SAAStD,KAAKqZ,IAGxCxB,EAAKxT,SAAW,SAASgV,GACvB,MAA+C,oBAAxC1W,OAAO5B,UAAUuC,SAAStD,KAAKqZ,IAGxCxB,EAAKyB,SAAW,SAASD,GACvB,MAA+C,oBAAxC1W,OAAO5B,UAAUuC,SAAStD,KAAKqZ,IAGxCxB,EAAK0B,eAAiB,SAASxB,GAC7B,IAAAhZ,EAAYgZ,EAAI3B,MAAM,QAClBoD,EAAUnH,KAAKoH,IAAIC,EAAM,GAAIA,EAAM,GAAK,EAAGA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAGnF,OAAA,IAAArH,KAFuBmH,GAERG,eAGjB9B,EAAK+B,cAAgB,SAASP,GAC5B,IAAAta,EAAA,GACA,GAAY,OAARsa,EACF,IAAK,IAAAxC,KAAAxY,EACCgb,EAAIjW,eAAezC,SAAAA,IACnB0Y,EAAI1Y,IACS,OAAb0Y,EAAI1Y,IACNoX,EAAI5X,KAAKQ,EAAM,IAAMkZ,mBAAmBR,EAAI1Y,KAIlD,OAAA5B,EAAQmB,OACC,IAAM6X,EAAI+B,KAAK,KAEf,IAIXjC,EAAKkC,gBAAkB,SAAS7Z,GAG9B,IAAK,IAAAnB,EAFe,gEAChBib,EAAS,GACJ5C,EAAI,EAAG6C,EAAKC,EAAcha,OAAQkX,EAAIlX,IAAUkX,EACvD4C,GAAUE,EAAcvI,KAAKwI,MAAMxI,KAAKqI,SAAWC,IAErD,OAAApD,GAGFgB,EAAKuC,OAAS,WAEZ,IAAA/b,EAAWkO,UAAU,GAWrB,MAAA,GATkBnC,MAAMpK,KAAKuM,UAAW,GAC/B8N,QAAQ,SAAShB,GACxB,IAAK,IAAAxC,KAAA9X,EAECsa,EAAIjW,eAAekX,SAAAA,IAASjB,EAAIiB,KAClCC,EAAKD,GAAQjB,EAAIiB,MAIhBC,GAGT1C,EAAK2C,WAAa,SAASnB,GACzB,IAAAta,EAAA,GACA,IAAK,IAAA8X,KAAAxY,EACH,GAAIgb,EAAIjW,eAAekX,GAAO,CAC5B,IAAA1a,EAAYyZ,EAAIiB,GACF,MAAVpc,IACFuc,EAAQH,GAAQpc,GAItB,OAAAa,GAGF8Y,EAAK6C,MAAQ,SAASrB,GACpB,GAAIA,EAAK,CACP,IAAAta,EAAU4b,KAAKC,UAAUvB,GACzB,GAAItB,EACF,OAAA4C,KAAYE,MAAM9C,GAGtB,OAAA1Z,GAIFwZ,EAAKiD,KAAO,SAASzB,GACnB,IAAAta,EAAY+B,MAAMC,UAAUqJ,MAAMpK,KAAKuM,UAAW,GAC9CwO,EAAAA,GACJ,IAAK,IAAAjE,KAAAzY,EACCgb,EAAIjW,eAAeuU,KAA2B,GAArBlO,EAAM+L,QAAQmC,KACzCoD,EAAOpD,GAAK0B,EAAI1B,IAGpB,OAAAd,EAAY6D,MAAMK,IAGpBlD,EAAKmD,KAAO,SAASC,EAAYC,GAE/B,IADA,IAAArE,EAAQoE,EAAW/a,OACZkX,KAAK,CACV,IAAAxX,EAAWqb,EAAW7D,GAClB+D,GAAAA,EACJ,IAAK,IAAApE,KAAAhY,EACH,GAAKmc,EAAa9X,eAAekX,IAG7Bc,EAAKd,KAAUY,EAAaZ,GAAO,CACrCa,GAAAA,EACA,MAGJ,GAAIA,EACF,OAAAvb,IAKNiY,EAAKwD,QAAU,SAAShC,EAAKiC,EAAUC,GACrC,GAAKlC,GAAQA,EAAImC,OAAjB,CAIA,IAAA1E,EAAWe,EAAK6C,MAAMrB,EAAImC,OAAOF,IAGjC,OAAAxE,GAAY2E,EAAKnE,MAAQiE,EACnBE,EAAKnE,OAASiE,EACTE,OAAAA,EAGFA,IAIX5D,EAAK6D,iBAAmB,WACtB,MAAsB,oBAAAC,OACbA,OAAOzF,QACc,oBAAAA,QACrBA,aAAAA,GAMX2B,EAAK+D,WAAa,WAChB,IAAAvd,EAAoBwZ,EAAK6D,mBACzB,OAAArd,GAAqBwd,EAAcC,IAC1BD,EAAAA,CAGPC,IAAK,eAITjE,EAAK1B,KAAO,SAAS4F,GAEnBlE,EAAK+D,aAAaE,IAAI,yBAA2BC,IAInDlE,EAAKmE,UAAY,SAASD,GAExBlE,EAAK+D,aAAaE,IAAI,gCAAkCC,IAI1DlE,EAAKoE,cAAgB,SAASF,EAAMjD,GAClC,OAAA,WAEE,OAAAjC,EADKmF,UAAUD,GACRjD,EAAGpa,MAAM,KAAM6N,aAI1BsL,EAAKqE,oBAAsB,SAASC,GAClC,GAAKA,EAAL,CAIA,IAAApd,EAAcod,EAAK9W,QAAQ,cAAc,IAIzC,OAAAtG,EAFUqd,EAAQ/W,QAAQ,OAAQ,MAKpCwS,EAAKwE,aAAe,WAClB,QAASC,SAASC,cAAgBD,SAASC,cAAgB,IAG7D1E,EAAKrS,WAAa,SAASsT,GACzB,QAASA,GAA+B,sBAAA,GAAtBxV,SAAStD,KAAK8Y,IAGlCjB,EAAK2E,MAAQ,SAASC,GACpB,OAAA,IAAA3e,QAAmB,SAASC,GAC1B2e,WAAW3e,EAAS0e,MAIxB5E,EAAK8E,UAAY,SAAStD,GACxB,OAAAhb,GAAcgb,EAAIuD,SAAmC,mBAAAve,EAAZue,UDwGrC,SAAU7S,EAAQH,GEnXxB,SAAAiN,EAAsBgG,EAAKC,GACzBnd,KAAK2X,KAAO,eACZ3X,KAAKod,QAAUF,EAEfld,KAAKqd,UAAY,WACjBrd,KAAKsd,aAAeJ,EACpBld,KAAKud,UAAY,WACjBvd,KAAKwd,QAAU,WACfxd,KAAKyd,YAAAA,GACDN,IACFnd,KAAKmd,IAAMA,GAGfO,EAAatc,UAAY,IAAAqT,MAEzBrK,EAAOH,QAAUyT,GFoYX,SAAUtT,EAAQH,GG/ZxBG,EAAOH,QAAAA,CACL0T,qBAAwB,iBACxBC,sBAAyB,IACzBC,uBAA0B,IAC1BC,uBAA0B,MAC1BC,kCAAqC,6BACrCC,2BAA8B,mBAC9BC,2BAA8B,mBAC9BC,mBAAsB,qBACtBC,mBAAsB,qBACtBC,kBAAqB,sBHsajB,SAAUhU,EAAQH,EAASqN,GI9ZjC,SAAArX,EAAqBoe,EAAKC,GAExB,IAAApH,GADAoH,EAAUA,GAAAA,IACQ9E,IACd+E,EAASD,EAAQC,OACjBzM,EAAOwM,EAAQxM,KACf0M,EAAiBF,EAAQE,eACzBC,EAAcH,EAAQG,YACtBC,GAAAA,IAAkBJ,EAAQI,gBAC1BC,EAAcN,EAAIC,QAAQK,YAC1BlJ,EAAUkJ,EAAYlJ,QACtBmJ,EAAYD,EAAYE,aAAaR,EAAIC,QAAQQ,SAErD,GAAIR,EAAQS,cAAe,CACzB,IAAArH,EAAoBkH,EAAUI,aAC1BC,EAAiBC,EAAc1F,GACnC,GAAIyF,GAAkBvM,KAAKC,MAAM,IAAOsM,EAAeE,UACrD,OAAAhhB,QAAeC,QAAQ6gB,EAAeG,UAI1C,IAAA7H,EAAA,CACE8H,OAAU,mBACVC,eAAgB,mBAChBC,6BAA8BlB,EAAImB,WAEpCtH,EAAKuC,OAAOgF,EAASpB,EAAIC,QAAQmB,QAASnB,EAAQmB,SAE9ChB,GAAevG,EAAKuB,SAASgF,KAC/BgB,EAAOC,cAAoB,UAAYjB,GAGzC,IAAAtf,EAMSwgB,EANLC,EAAAA,CACFH,QAASA,EACTne,KAAMwQ,QAAAA,EACN4M,gBAAiBA,GAInB,OAAAhgB,EAAW4f,QAAQuB,kBAAkBtB,EAAQ/E,EAAKoG,GAC/C9gB,KAAK,SAASghB,GAuBb,OAAA5f,EAtBM4f,EAAKC,eACA7H,EAAKuB,SAASkG,KACvBA,EAAM3E,KAAKE,MAAMyE,IAGfnB,IACGmB,EAAIK,YACPvK,EAAQwK,OAAOC,EAAUvC,uBAIzBgC,GAAOA,EAAIK,YAAcL,EAAIR,WAC/B1J,EAAQxT,IAAIie,EAAUvC,qBAAsBgC,EAAIK,WAAYL,EAAIR,UAAWd,EAAIC,QAAQQ,SAGrFa,GAAOrB,EAAQS,eACjBH,EAAUuB,cAAc3G,EAAAA,CACtB2F,UAAWnN,KAAKwI,MAAM9H,KAAKC,MAAM,KAAQuN,EAAUpC,uBACnDsB,SAAUO,IAIPA,IAERS,MAAM,SAASN,GACd,IAAA5I,EAAgB4I,EAAKC,cAAAA,GACrB,GAAI7H,EAAKuB,SAAS4G,GAChB,IACEA,EAAYrF,KAAKE,MAAMmF,GACvB,MAAO3hB,GACP2hB,EAAAA,CACE/C,aAAc,iBAmBpB,MAdmB,KAcnBle,EAdSkhB,SACPD,EAAU/C,aAAe,iBAGvBe,EAAIC,QAAQiC,oBACdT,EAAOzB,EAAIC,QAAQiC,kBAAkBrI,EAAK6C,MAAM+E,KAK5B,cAFtBU,EAAM,IAAAC,EAAiBJ,EAAWP,IAE1BzC,WACN5H,EAAQwK,OAAOC,EAAUvC,sBAGrB6C,IA9FZ,IAAAvI,EAAWjK,EAAQ,GACf0S,EAAe1S,EAAQ,IACvBkS,EAAYlS,EAAQ,GAsHxB5D,EAAOH,QAAAA,CACL7H,IAvBF,SAAaic,EAAK7E,EAAK8E,GAErB,IAAAnH,EAAA,CACEqC,IAFFA,EAAMtB,EAAKqB,cAAcC,GAAOA,EAAM6E,EAAIsC,kBAAoBnH,EAG5D+E,OAAQ,OAGV,OAAAtG,EADKwC,OAAOmG,EAAYtC,GACjBuC,EAAYxC,EAAKuC,IAiBxBE,KAdF,SAAczC,EAAK7E,EAAK1H,EAAMwM,GAE5B,IAAAlH,EAAA,CACEoC,IAFFA,EAAMtB,EAAKqB,cAAcC,GAAOA,EAAM6E,EAAIsC,kBAAoBnH,EAG5D+E,OAAQ,OACRzM,KAAMA,EACN0M,gBAAAA,GAGF,OAAAvG,EADKwC,OAAOsG,EAAazC,GAClBuC,EAAYxC,EAAK0C,IAMxBF,YAAaA,IJ0bT,SAAUzW,EAAQH,EAASqN,GKtjBjC,IAAArX,EAAc+N,EAAQ,IAClBgT,EAAiBhT,EAAQ,GACzBkS,EAAYlS,EAAQ,GACpB0P,EAAe1P,EAAQ,GAGvB2Q,EAAAA,CAIJA,uBAAqC,WACnC,IACE,IAAAjgB,EAAcigB,EAAYsC,kBAC1B,OAAAR,EAAmBS,YAAYzL,GAC/B,MAAO/W,GACP,OAAA,IAIJigB,yBAAuC,WACrC,IACE,IAAAjgB,EAAcigB,EAAYwC,oBAC1B,OAAAV,EAAmBS,YAAYzL,GAC/B,MAAO/W,GACP,OAAA,IAIJigB,eAA6B,SAASL,GAEpC,QAAA5f,EADU4f,GAAAA,IACG8C,oBAAsBzC,EAAY0C,2BACtCL,EAAerC,EAAYwC,oBAAqBjB,EAAU9B,mBACxDO,EAAY2C,yBACdN,EAAerC,EAAYsC,kBAAmBf,EAAU9B,mBAExD4C,EAAerC,EAAY4C,iBAAiBjD,GAAU4B,EAAU9B,oBAI3EO,aAA2B,SAASL,GAClC,OAAAmC,EAAgBa,yBACPN,EAAerC,EAAYsC,kBAAmBf,EAAU/B,oBACtDQ,EAAY0C,2BACdL,EAAerC,EAAYwC,oBAAqBjB,EAAU/B,oBAE1D6C,EAAerC,EAAY4C,iBAAiBjD,GAAU4B,EAAU/B,qBAI3EQ,gBAA8B,WAC5B,OAAA6C,cAGF7C,kBAAgC,WAC9B,OAAA8C,gBAIF9C,iBAA+B,SAASL,GACtC,IAAAlf,EAAekf,EAAQoD,OACjBC,EAAWrD,EAAQqD,SACzB,QAAA,IAAWD,QAAAA,IAAiCC,EAC1C,MAAA,IAAA1J,EAAuB,sEAEzB,MAAA,CACE2J,QAASjD,EAAYlJ,QAAQrT,IAC7Byf,QAAS,SAAS7gB,EAAKzC,GAErBogB,EAAYlJ,QAAQxT,IAAIjB,EAAKzC,EAAO,2BAAA,CAClCmjB,OAAQA,EACRC,SAAUA,OAOlBhD,mBAAiC,WAC/B,IAAAjgB,EAAA,GACA,MAAA,CACEkjB,QAAS,SAAS5gB,GAChB,OAAAtC,EAAasC,IAEf6gB,QAAS,SAAS7gB,EAAKzC,GACrBujB,EAAM9gB,GAAOzC,KAKnBogB,YAA0B,SAASlJ,GACjC,IAAArW,EAAU,oBACV,IAGE,OAAAV,EAFQmjB,QAAQ7gB,EAAKA,GACrByU,EAAQsM,WAAW/gB,IAAAA,EAEnB,MAAOtC,GACP,OAAA,KAIJigB,EAAYlJ,QAAAA,CACVxT,IAAK,SAAS0V,EAAMpZ,EAAO4gB,EAAWb,GACpC,IAAAlH,EAAekH,EAAQoD,OACjBC,EAAWrD,EAAQqD,SACzB,QAAA,IAAWD,QAAAA,IAAiCC,EAC1C,MAAA,IAAA1J,EAAuB,iEAEzB,IAAAR,EAAA,CACE+E,KAAM8B,EAAQ9B,MAAQ,IACtBkF,OAAAA,EACAC,SAAAA,GAaF,OAAAjP,KATYwI,MAAMiE,KAKhB6C,EAAcC,QAAU,IAAAvP,KAASyM,IAGnC+C,EAAQjgB,IAAI0V,EAAMpZ,EAAOyjB,GAClBrD,EAAYlJ,QAAQrT,IAAIuV,IAGjCvV,IAAK,SAASuV,GACZ,OAAA1X,EAAemC,IAAIuV,IAGrBsI,OAAQ,SAAStI,GACf,OAAA1X,EAAekiB,OAAOxK,EAAAA,CAAQ6E,KAAM,QAIxCpS,EAAOH,QAAU0U,GLglBX,SAAUvU,EAAQH,GMpuBxB,SAAAiN,EAAiBwC,GAWf,MAVsB,mBAAA5Z,QAAyC,iBAAAA,OAAbC,SAChDqK,EAAOH,QAAUmY,EAAU,SAAiB1I,GAC1C,cAAAhb,GAGF0L,EAAOH,QAAUmY,EAAU,SAAiB1I,GAC1C,OAAAhb,GAAgC,mBAAAoB,QAAc4Z,EAAIhP,cAAgB5K,QAAU4Z,IAAQ5Z,OAAOsB,UAAY,gBAAA1C,GAIpG0jB,EAAQ1I,GAGjBtP,EAAOH,QAAUmY,GN0uBX,SAAUhY,EAAQH,EAASqN,GO3uBjC,IAAAH,EAAmBnJ,EAAQ,GAkD3B5D,EAAOH,QA/CP,SAAwBoY,EAAYC,GAKlC,SAAApL,IACE,IAAAA,EAAoBmL,EAAWT,QAAQU,GACvCC,EAAgBA,GAAiB,KACjC,IACE,OAAAvH,KAAYE,MAAMqH,GAClB,MAAM7jB,GACN,MAAA,IAAAyY,EAAuB,mCAAqCmL,IAIhE,SAAAriB,EAAoBwV,GAClB,IACE,IAAAxV,EAAoB+a,KAAKC,UAAUxF,GACnC4M,EAAWR,QAAQS,EAAaC,GAChC,MAAM7jB,GACN,MAAA,IAAAyY,EAAuB,0BAA4BmL,IAIvD,SAAAlL,EAAsBpW,GACpB,IAAKA,EACH,OAAAf,EAAA,IAEF,IAAAb,EAAc4f,WAAAA,EACChe,GACfwhB,EAAW/M,GAGb,SAAAwC,EAAuBjX,EAAKzC,GAC1B,IAAA4Y,EAAc6H,IACdvJ,EAAQzU,GAAOzC,EACfikB,EAAW/M,GAnCb,GAA2B,iBAAArW,IAAakjB,EAAY/hB,OAClD,MAAA,IAAA4W,EAAuB,6BAqCzB,MAAA,CACE6H,WAAYA,EACZwD,WAAYA,EACZC,aAAcA,EACdtC,cAAeA,KPmwBb,SAAU/V,EAAQH,EAASqN,GQ9zBjClN,EAAOH,QAAUiN,EAAQ,KRq0BnB,SAAU9M,EAAQH,GSr0BxB,SAAAiN,EAA4BwL,EAAKtkB,EAASC,EAAQskB,EAAOC,EAAQ5hB,EAAK6K,GACpE,IACE,IAAA4U,EAAWiC,EAAI1hB,GAAK6K,GAChBtN,EAAQskB,EAAKtkB,MACjB,MAAOukB,GAEP,YAAA5L,EADO4L,GAILD,EAAKhkB,KACPT,EAAQG,GAERJ,QAAQC,QAAQG,GAAOO,KAAK6jB,EAAOC,GAwBvCxY,EAAOH,QApBP,SAA2BkP,GACzB,OAAA,WACE,IAAA/Z,EAAWY,KACP8R,EAAOlF,UACX,OAAA,IAAAzO,QAAmB,SAAUC,EAASC,GAGpC,SAAA4Z,EAAe1Z,GACbwkB,EAAmBL,EAAKtkB,EAASC,EAAQskB,EAAOC,EAAQ,OAAQrkB,GAGlE,SAAAkiB,EAAgBD,GACduC,EAAmBL,EAAKtkB,EAASC,EAAQskB,EAAOC,EAAQ,QAASpC,GAPnE,IAAAwC,EAAU7J,EAAGpa,MAAMmE,EAAM4O,GAUzB6Q,OAAAA,QTg1BA,SAAUvY,EAAQH,EAASqN,GU31BjC,SAAArX,EAAuB0f,EAAKrB,GAC1B,IAAApH,EAAA,GAQA,OAAA/X,EAPKsb,OAAOwI,EAAW3E,IAGlB2E,EAAUjD,YAAcL,EAAIK,aAC/BiD,EAAUjD,WAAaL,EAAIK,YAGtBiD,EAGT,SAAA9L,EAAuBwI,GACrB,OAAA1f,EAAqB0f,GA0CvB,SAAAqD,EAAyB3E,EAAKvM,GAG5B,OAAA1S,EAFO8jB,EAAc7E,EAAKvM,GAEnBqR,EAAKrC,KAAKzC,EAAKA,EAAIsC,kBAAoB,2BAA4B7O,GAQ5E,SAAA5S,EAA2Bmf,EAAK7E,EAAK1H,EAAMwM,GACzC,OAAA/G,EAAYuJ,KAAKzC,EAAK7E,EAAK1H,EAAMwM,GAC9Bxf,KAAK,SAAS6gB,GACb,OAAA,IAAAtgB,EAA2Bgf,EAAKsB,KAItC,SAAAtI,EAAmBgH,EAAKsB,EAAKyD,GAC3B,OAAA,SAAiB9E,GAqBf,SAAAlH,IACE,IAAAF,EAAA,GACA,GAAwB,mBAAA8L,EACtB,IACEK,EAAKC,WAAaA,IAEpB,MAAO5kB,GACL,OAAAP,QAAeE,OAAO,IAAA6B,EAAiB,wCAAA,MAGlCojB,IACPD,EAAKC,WAAaA,GAEpB,GAA8B,mBAAA7C,EAC5B,IACE4C,EAAKE,iBAAmBA,IAE1B,MAAO7kB,GACL,OAAAP,QAAeE,OAAO,IAAA6B,EAAiB,8CAAA,MAGlCqjB,IACPF,EAAKE,iBAAmBA,GAG1B,IAAAtjB,EAAWujB,EAASC,KAAOvL,EAAK+B,cAAcoJ,GAC9C,OAAA9L,EAAYuJ,KAAKzC,EAAKoF,EAAMC,EAAc/D,GAAAA,CACxCnB,gBAAAA,IA/CJ,IAAAvG,EACIsL,EACAD,EACAK,EAEAzL,EAAKyB,SAAS2E,GAChBzB,EAAQyB,EACCpG,EAAKxT,SAAS4Z,KACvBzB,EAAQyB,EAAQzB,MAChB0G,EAAiBjF,EAAQiF,eACzBD,EAAWhF,EAAQgF,SACnBK,EAAsBrF,EAAQqF,qBAG3B9G,GAAmB,IAAVA,IACZA,EAAQqD,EAAUtC,uBAIpB,IAAA1e,EAAegZ,EAAKwD,QAAQiE,EAAK,OAAQ,QAgCzCyD,EAAIQ,WAAAA,EAEJ,IAAAvM,EAAiB,EA8CjB,OAAA,SAAAjY,IA3CE,OAAA8X,EAAS0M,UAGFC,IACJ/kB,KAAK,SAAUglB,GAKd,GAHAC,EAAa,EAGTD,EAAQE,cAAyC,YAAzBF,EAAQE,aAA4B,CAG9D,IAAKZ,EAAIQ,UACP,MAAA,IAAAK,EAQF,MALmC,mBAAAxM,GACjCkM,EAAoBG,GAIf5L,EAAK2E,MAAMA,GAAO/d,KAAKolB,GAM9B,OAAAhN,EADI0M,WAAAA,EACG,IAAAvkB,EAAoBgf,EAAKyF,KAGnC1D,MAAM,SAASI,GAEd,GAAIA,EAAIrD,MACgB,IAAnBqD,EAAIrD,IAAImD,QAAmC,MAAnBE,EAAIrD,IAAImD,SACjCyD,GAAc,EAAG,CACnB,IAAA7M,EAA4C,IAA1BlF,KAAKmS,IAAI,EAAGJ,GAE9B,OAAA1M,IAAOa,EAAK2E,MAAMuH,GACftlB,KAAKolB,GAEV,MAAAxlB,IAvCKP,QAAQE,OAAO,IAAA4lB,GA0C1B,GACG7D,MAAM,SAASI,GAEd,MAAAtJ,EADI0M,WAAAA,EACEpD,KAKd,SAAAxI,EAAiBqG,EAAKsB,EAAKjG,EAAKoC,EAAMsH,GACpC,GAAIjiB,MAAM2L,QAAQgP,GAChB,OAAA,SAAgBnE,EAAM0L,GACpB,IAAK1L,EACH,MAAA,IAAAzX,EAAuB,4BAGzB,IAAAugB,EAASvI,EAAKmD,KAAKS,EAAAA,CAAOnE,KAAMA,IAChC,IAAK0M,EACH,MAAA,IAAAnkB,EAAuB,+BAGzB,OAAA8X,EAAeqG,EAAKsB,EAAKjG,EAAK2K,EAAIjB,EAAlCpL,CAAuCqL,IAGpC,GAAIvH,EAAKwI,OACZxI,EAAKwI,MAAMC,OACiB,IAA5BzI,EAAKwI,MAAMC,MAAMhkB,OAEnB,OADaub,EAAKwI,MAAMC,MAAM,IAG5B,IAAK,MACH,OAAA,WACE,OAAAhN,EAAYnV,IAAIic,EAAKvC,EAAK2H,OAG9B,IAAK,OACH,OAAA,SAAgBJ,GACVD,GAAOA,EAAIQ,YACbR,EAAIQ,WAAAA,GAGN,IAAAnD,EAAWyC,EAAcvD,EAAK0D,GAEX,eAAf1D,EAAIW,QAA0C,kBAAfX,EAAIW,QAErCpI,EAAKuC,OAAOnZ,EAAAA,CACVkjB,WAAY9K,EAAI8K,WAChBC,SAAU/K,EAAI+K,WAIlB,IAAAzB,EAAA,GACIM,EAAWhiB,EAAKgiB,SACpB,QAAA,IAAIA,EAAwB,CAC1B,GAAwB,mBAAA7L,EACtB,IACEiN,EAAOpB,WAAaA,IAEtB,MAAO5kB,GACL,OAAAP,QAAeE,OAAO,IAAA6B,EAAiB,wCAAA,OAGlCojB,IACPoB,EAAOpB,WAAaA,GAEtBhiB,EAAO4W,EAAKiD,KAAK7Z,EAAM,YAGzB,IAAA+V,EAAqB/V,EAAKiiB,eAC1B,QAAA,IAAIA,EAA8B,CAChC,GAA8B,mBAAAlM,EAC5B,IACEqN,EAAOnB,iBAAmBA,IAE5B,MAAO7kB,GACL,OAAAP,QAAeE,OAAO,IAAA6B,EAAiB,8CAAA,OAGlCqjB,IACPmB,EAAOnB,iBAAmBA,GAE5BjiB,EAAO4W,EAAKiD,KAAK7Z,EAAM,uBAAAmf,EAETkE,cAAAA,IACNrjB,EAAKqjB,QAAQC,cACjBtjB,EAAKqjB,QAAQC,cACfF,EAAOE,aAAAA,GAETtjB,EAAKqjB,QAAUzM,EAAKiD,KAAK7Z,EAAKqjB,QAAS,gBAEzC,IAAA3M,EAAW8D,EAAK2H,KAAOvL,EAAK+B,cAAcyK,GAC1C,OAAAxlB,EAAyBmf,EAAKoF,EAAMniB,KAyC9C,SAAAoW,EAAyB2G,EAAKsB,EAAKjG,EAAK0J,GAItC,GAHA1J,EAAMA,GAAOiG,EACbjG,EAAMxB,EAAK6C,MAAMrB,GAEbvY,MAAM2L,QAAQ4M,GAAM,CAEtB,IAAK,IAAAvC,EAAA,GAAIA,EAAI,EAAG0N,EAAKnL,EAAInZ,OAAQ4W,EAAI0N,EAAI1N,IACvC2N,EAAOtkB,KAAKukB,EAAgB1G,EAAKsB,EAAKjG,EAAIvC,GAAIiM,IAEhD,OAAAjM,EAGF,IAAAsJ,EAAe/G,EAAIsL,WAAAA,GAEnB,IAAK,IAAAhC,KAAAvC,EACEwE,EAASxhB,eAAezC,KAKzBkX,EAAKxT,SAASugB,EAASjkB,KAASG,MAAM2L,QAAQmY,EAASjkB,OACzDikB,EAASjkB,GAAO+jB,EAAgB1G,EAAKsB,EAAKsF,EAASjkB,GAAMoiB,IAK7D,IAAA3L,EA7DF,SAAmB4G,EAAKsB,EAAKjG,EAAK0J,GAChC,IAAAjM,EAAA,GACA,IAAK,IAAAC,KAAAF,EAAoB2E,OACvB,GAAKnC,EAAImC,OAAOpY,eAAekY,GAA/B,CAIA,IAAA1D,EAAWyB,EAAImC,OAAOF,GAMtB,GAJiB,SAAbA,IACFA,EAAWG,EAAKnE,MAGdmE,EAAKvX,KACP2gB,EAAIvJ,GAAYG,OAAAA,OAIVH,GAGN,IAAK,OACHuJ,EAAIC,KAAOC,EAAU/G,EAAKsB,EAAKyD,GAC/B,MAAA,QAGA,IAAA3C,EAAS4E,EAAQhH,EAAKsB,EAAKjG,EAAKoC,EAAMsH,GAClCjK,IACF+L,EAAIvJ,GAAYxC,IAIxB,OAAAhC,EA6BUmO,CAAUjH,EAAKsB,EAAKjG,EAAK0J,GAKnC,OAAAjkB,EAJKsb,OAAOwK,EAAUC,GAEtBxL,EAAMxB,EAAKiD,KAAKzB,EAAK,YAAa,UAClCxB,EAAKuC,OAAOf,EAAKuL,GACVvL,EAGT,SAAAra,EAAyBgf,EAAKsB,GACxBA,IACF3f,KAAKsB,KAAOqe,EACZzH,EAAKuC,OAAOza,KAAM+kB,EAAgB1G,EAAKsB,EAAKA,EAAAA,YAAAA,KAChCK,WAMO,uBAAfL,EAAIW,QAAoCX,EAAI9D,SAC9C7b,KAAKulB,OAAS,WACZ,OAAApnB,QAAeC,QAAQ,IAAAiB,EAAoBgf,OArWnD,IAAA9G,EAAwBvJ,EAAQ,GAC5BkK,EAAoBlK,EAAQ,GAC5B0P,EAAoB1P,EAAQ,GAC5BwX,EAAoBxX,EAAQ,IAC5BkS,EAAoBlS,EAAQ,GAuWhC5D,EAAOH,QAAAA,CACLwb,kBAtVF,SAA2BpH,EAAKvM,GAE9B,OAAA1S,EADO8jB,EAAc7E,EAAKvM,GACnBqR,EAAKrC,KAAKzC,EAAKA,EAAIsC,kBAAoB,gBAAiB7O,IAqV/D4T,kBAlVF,SAA2BrH,EAAKvM,GAC9B,IAAKA,IAASA,EAAKkO,WAAY,CAC7B,IAAA9I,EAAiBmH,EAAIsH,GAAGC,OAAOC,KAAK3F,EAAUvC,sBAC9C,IAAIqC,EAKF,OAAA7hB,QAAeE,OAAO,IAAA6B,EAAiB,6BAJvC4R,EAAAA,CACEkO,WAAYA,GAMlB,OAAAthB,EAAWinB,GAAGrF,OAAOxO,GAClBhT,KAAK,SAAS6gB,GACb,OAAA,IAAAtgB,EAA2Bgf,EAAKsB,MAsUpCmG,kBA3SF,SAA2BzH,GAEzB,QAASA,EAAIsH,GAAGC,OAAOC,KAAK3F,EAAUvC,uBA0StCoI,kBAAmBA,EACnBC,WApUF,SAAqB3H,EAAKvM,GACxB,IAAKA,IAASA,EAAKkO,WAAY,CAC7B,IAAA9I,EAAiBmH,EAAIsH,GAAGC,OAAOC,KAAK3F,EAAUvC,sBAC9C,IAAIqC,EAKF,OAAA7hB,QAAeE,OAAO,IAAA6B,EAAiB,+BAJvC4R,EAAAA,CACEkO,WAAYA,GAMlB,OAAAgD,EAAuB3E,EAAKvM,GACzBhT,KAAK,SAAU6gB,GACd,OAAA,IAAAtgB,EAA2Bgf,EAAKsB,QV8qChC,SAAUvV,EAAQH,EAASqN,GWxqCjC,SAAApY,EAAsBmf,EAAKlI,GACzB,IAAAe,EAAqBf,GAAUkI,EAAIC,QAAQnI,OAC3C,OAAA9W,EAAY+C,IAAIic,EAAK4H,EAAgB,oCAAA,CACnClH,eAAAA,IAlEJ,IAAA1f,EAAW2O,EAAQ,GACfkK,EAAOlK,EAAQ,GACf2Q,EAAc3Q,EAAQ,GACtB0P,EAAe1P,EAAQ,GAwN3B5D,EAAOH,QAAAA,CACLic,cAvNF,WACE,OAAA3O,EAAY6C,gBAAgB,KAuN5B+L,cApNF,WACE,OAAA5O,EAAY6C,gBAAgB,KAoN5BgM,aAAcA,EACdC,OAzJF,SAAgBhI,EAAKlI,EAAQmQ,GAC3B,IAAArmB,EAAgB0e,EAAYE,aAAaR,EAAIC,QAAQQ,SAErD,OAAA5f,EAAoBmf,EAAKlI,GACxBrX,KAAK,SAASynB,GACb,IAAApP,EAAcoP,EAASC,SAInBvH,EADgBL,EAAUI,aACKyH,GACnC,GAAIxH,GAAkBvM,KAAKC,MAAM,IAAOsM,EAAeE,UAAW,CAChE,IAAAsB,EAAgBvI,EAAKmD,KAAK4D,EAAeG,SAASpa,KAAAA,CAChDshB,IAAKA,IAGP,GAAII,EACF,OAAAjG,EAQJ,OAAAxgB,EAHUwiB,aAAagE,GAGhBtD,EAAK/gB,IAAIic,EAAKoI,EAAAA,CACnB1H,eAAAA,IAEDjgB,KAAK,SAAS6gB,GACb,IAAAvgB,EAAU8Y,EAAKmD,KAAKsE,EAAI3a,KAAAA,CACtBshB,IAAKA,IAGP,GAAItlB,EACF,OAAA5B,EAGF,MAAA,IAAAc,EAAuB,eAAiBomB,EAAM,6CAsHlDK,eAjHF,SAAwBtI,EAAKuI,EAAQC,GACnC,IAAA5mB,EAAU4mB,EAAiB/Q,SACvBgR,EAAMD,EAAiB1Q,OACvB4Q,EAAQF,EAAiBE,MAE7B,IAAKH,IAAWE,IAAQE,EACtB,MAAA,IAAA9mB,EAAuB,oDAGzB,GAAI6mB,GAASH,EAAOG,QAAUA,EAC5B,MAAA,IAAA7mB,EAAuB,yDAGzB,IAAA+X,EAAUjG,KAAKwI,MAAM9H,KAAKC,MAAM,KAEhC,GAAIiU,EAAOE,MAAQA,EACjB,MAAA,IAAA5mB,EAAuB,eAAiB0mB,EAAOE,IAAM,qBAC9BA,EAAM,KAG/B,GAAIF,EAAOI,MAAQA,EACjB,MAAA,IAAA9mB,EAAuB,iBAAmB0mB,EAAOI,IAAM,qBAChCA,EAAM,KAG/B,GAAIJ,EAAOK,IAAML,EAAOM,IACtB,MAAA,IAAAhnB,EAAuB,wCAGzB,GAAKyS,EAAM0L,EAAIC,QAAQ6I,aAAgBP,EAAOM,IAC5C,MAAA,IAAAhnB,EAAuB,0CAGzB,GAAI0mB,EAAOK,IAAOtU,EAAM0L,EAAIC,QAAQ6I,aAClC,MAAA,IAAAjnB,EAAuB,qCAgFzBknB,aA5EF,SAAsB/I,EAAKC,GACzB,GAAuB,EAAnB1R,UAAUrM,OACZ,MAAA,IAAAL,EAAuB,wEAEzBoe,EAAUA,GAAAA,GAGV,IAAApH,EAAmBgB,EAAKqE,oBAAoB+B,EAAQ+I,eAAiBhJ,EAAIC,QAAQ+I,aAC7ElR,EAAS+B,EAAKqE,oBAAoB+B,EAAQnI,SAAWkI,EAAIC,QAAQnI,OACjEmR,EAAcpP,EAAKqE,oBAAoB+B,EAAQgJ,cAAgBjJ,EAAIC,QAAQgJ,YAC3EC,EAAWrP,EAAKqE,oBAAoB+B,EAAQiJ,WAAalJ,EAAIC,QAAQiJ,SACrEC,EAAYtP,EAAKqE,oBAAoB+B,EAAQkJ,YAAcnJ,EAAIC,QAAQkJ,UACvEC,EAAYvP,EAAKqE,oBAAoB+B,EAAQmJ,YAAcpJ,EAAIC,QAAQmJ,UAEvEC,EAAsC,EAA5BvR,EAAON,QAAQ,WAAiBM,EAASA,EAAS,UAQhE,MAFmC,CAGjCA,OAAQA,EACRkR,aAFFnQ,EANemQ,GAAgBK,EAAU,gBASvCJ,YARFA,EAAcA,GAAeI,EAAU,eASrCH,SARFA,EAAWA,GAAYG,EAAU,YAS/BD,UARFA,EAAYA,GAAaC,EAAU,aASjCF,UARFA,EAAYA,GAAaE,EAAU,eAyDnCC,UA5LF,SAAmBC,GACjB,IAAAxoB,EAAaud,SAASkL,cAAc,UAIpC,OAAAzoB,EAHO0oB,MAAMC,QAAU,OACvBC,EAAOJ,IAAMA,EAENjL,SAAS1d,KAAKgpB,YAAYD,IAwLjCE,UArLF,SAAmBN,EAAKtJ,GACtB,IAAApH,EAAYoH,EAAQ6J,YAAc,iDAC9BC,EAAa,sFAGjB,GAAIlQ,EAAKwE,eAAgB,CAIvB,IAAAvF,EAAY6E,OAAOqM,KAAK,IAAKC,EAAOF,GAEpC,OAAAjR,EADMoR,SAAS9E,KAAOmE,EACfY,EAEP,OAAAxM,OAAcqM,KAAKT,EAAKU,EAAOF,IAyKjCK,kBA/CF,SAA2BC,GAEzB,IAAAtpB,EAAiB,MACbupB,EAAa,qBACbC,EAAWF,EAGY,MAAvBE,EAASC,OAAO,IAAqC,MAAvBD,EAASC,OAAO,KAChDD,EAAWA,EAASE,UAAU,IAIL,MAAvBF,EAASC,OAAO,IAAqC,MAAvBD,EAASC,OAAO,KAChDD,EAAWA,EAASE,UAAU,IAQhC,IAJA,IAAA3R,EAAIuC,EAAAA,GAKFqP,EAAQJ,EAAW7jB,KAAK8jB,IADb,CAEG,IAAA3Q,EAEJ8Q,EAAM,GACZxqB,EAAQwqB,EAAM,GAIhBrP,EAAI1Y,GADM,aAARA,GAA8B,iBAARA,GAAkC,SAARA,EACvCzC,EAEAqa,mBAAmBra,EAAMmH,QAAQsjB,EAAY,MAG5D,OAAA5R,GAaA6R,QAxNF,SAAiBvP,GACf,SAAIA,IACCA,EAAI+E,cAAe/E,EAAIwP,UACxB/nB,MAAM2L,QAAQ4M,EAAIvE,UAsNtBgU,YAhNF,SAAqBC,EAAazR,EAAMwB,GAClCiQ,EAAYC,iBACdD,EAAYC,iBAAiB1R,EAAMwB,GAEnCiQ,EAAYE,YAAY,KAAO3R,EAAMwB,IA6MvCoQ,eAzMF,SAAwBH,EAAazR,EAAMwB,GACrCiQ,EAAYI,oBACdJ,EAAYI,oBAAoB7R,EAAMwB,GAEtCiQ,EAAYK,YAAY,KAAO9R,EAAMwB,MX47CnC,SAAU/O,EAAQH,EAASqN,GY/9CjC,IAAArX,EAAmB+N,EAAQ,IACvB2Q,EAAc3Q,EAAQ,GAE1B5D,EAAOH,QAAU+D,EAAQ,GAARA,CAAqB2Q,EAAa+K,IZk/C7C,SAAUtf,EAAQH,EAASqN,Gan/CjC,SAAArX,EAAkBmf,GAChB,OAAA1gB,EAAa+gB,QAAQrd,IAAI,iBAC2D,GAAlFgd,EAASK,QAAQrd,IAAI,gBAAgBunB,cAAc9T,QAAQ,oBACtDuJ,EAASwK,OAEbxJ,MAAM,SAAA1hB,GACL,MAAA,CACEokB,MAAOpkB,EACP4e,aAAc,qCAIX8B,EAAShD,OAIpB,SAAAjF,EAAsBmJ,EAAQhf,GAC5B,IAAA4V,EAAiC,WAAhBe,EAAO3W,GAClB1C,EAAAA,CACJmhB,aAAcrb,EAAWsW,KAAKC,UAAU3Z,GAAQA,EAChDgf,OAAQA,GAMV,OAAApJ,IAHEtY,EAAO+W,aAAe,OACtB/W,EAAOirB,aAAevoB,GAEjB1C,Eb29CT,IAAAqZ,EAAcX,EAAoB,Gax/C9BwS,EAAQ9b,EAAQ,IAmEpB5D,EAAOH,QAlCP,SAAsBsU,EAAQ/E,EAAK1H,GACjC,IAAAsF,EAAWtF,EAAKxQ,KACZme,EAAU3N,EAAK2N,SAAAA,GA6BnB,MAzBoB,sBAHDA,EAAQ,iBAAmBA,EAAQ,iBAAmB,KAG/BxgB,GAAwB,iBAAAmY,IAChEnY,EAAO+b,KAAKC,UAAUhc,IAGL6qB,EAAMtQ,EAAAA,CACvB+E,OAAQA,EACRkB,QAAS3N,EAAK2N,QACdxgB,KAAMA,EACN8qB,YAAajY,EAAK4M,gBAAkB,UAAY,SAEjD5f,KAAK,SAASsgB,GACb,IAAAhgB,GAAaggB,EAAS4K,GAClB1J,EAASlB,EAASkB,OACtB,OAAArgB,EAAgBmf,GACbtgB,KAAK,SAAAwC,GACJ,OAAA6V,EAAoBmJ,EAAQhf,KAE7BxC,KAAK,SAAAF,GACJ,GAAIkkB,EAEF,MAAApkB,EAEF,OAAAA,Qb4gDF,SAAU0L,EAAQH,GcrlDxB,IAAAiN,EAAe,SAAW3T,GAC1B,SAAAnE,IACAY,KAAK8pB,OAAAA,EACL9pB,KAAKiqB,aAAe1mB,EAAK0mB,aAGzB,OAAA7qB,EADEgC,UAAYmC,EACP,IAAAnE,EANQ,CAOI,oBAAA8D,KAAcA,KAAOlD,OACxC,SAAUkD,IAEQ,SAAU+G,GA2C1B,SAAAhK,EAAuB0X,GAIrB,GAHoB,iBAAAjZ,IAClBiZ,EAAOhI,OAAOgI,IAEZ,4BAA4B7R,KAAK6R,GACnC,MAAA,IAAAvX,UAAoB,0CAEtB,OAAA1B,EAAYirB,cAGd,SAAAxS,EAAwB5Y,GAItB,MAHqB,iBAAAG,IACnBH,EAAQoR,OAAOpR,IAEVA,EAIT,SAAA6Y,EAAqB8S,GACnB,IAAA9qB,EAAA,CACEX,KAAM,WACJ,IAAAW,EAAY8qB,EAAMC,QAClB,MAAA,CAAQtrB,UAAAA,IAAMN,EAAqBA,MAAOA,KAU9C,OAAA6rB,EANYvgB,WACV9J,EAASD,OAAOC,UAAY,WAC1B,OAAAX,IAIGW,EAGT,SAAAkY,EAAiBwH,GACfzf,KAAKuH,IAAAA,GAEDkY,aAAAA,EACFA,EAAQ/E,QAAQ,SAASnc,EAAOoZ,GAC9B3X,KAAKqqB,OAAO1S,EAAMpZ,IACjByB,MACMmB,MAAM2L,QAAQ2S,GACvBA,EAAQ/E,QAAQ,SAAS4P,GACvBtqB,KAAKqqB,OAAOC,EAAO,GAAIA,EAAO,KAC7BtqB,MACMyf,GACTzc,OAAOunB,oBAAoB9K,GAAS/E,QAAQ,SAAS/C,GACnD3X,KAAKqqB,OAAO1S,EAAM8H,EAAQ9H,KACzB3X,MAgEP,SAAAygB,EAAkBxhB,GAChB,GAAIA,EAAKurB,SACP,OAAArsB,QAAeE,OAAO,IAAA+B,UAAc,iBAEtCnB,EAAKurB,UAAAA,EAGP,SAAAxH,EAAyByH,GACvB,OAAA,IAAAtsB,QAAmB,SAASC,EAASC,GACnCosB,EAAOC,OAAS,WACdtsB,EAAQqsB,EAAO7rB,SAEjB6rB,EAAOE,QAAU,WACftsB,EAAOosB,EAAO3H,UAKpB,SAAArL,EAA+BmT,GAC7B,IAAAxrB,EAAa,IAAAyrB,WACTC,EAAUC,EAAgBN,GAE9B,OAAArrB,EADO4rB,kBAAkBJ,GAClBE,EAoBT,SAAA9S,EAAqBiT,GACnB,GAAIA,EAAIxgB,MACN,OAAA/L,EAAW+L,MAAM,GAEjB,IAAArL,EAAW,IAAAyL,WAAeogB,EAAIjgB,YAE9B,OAAA5L,EADK6C,IAAI,IAAA4I,WAAeogB,IACjBC,EAAK3gB,OAIhB,SAAA4gB,IA0FE,OAAAnrB,KAzFKwqB,UAAAA,EAELxqB,KAAKorB,UAAY,SAASnsB,IACxBe,KAAKqrB,UAAYpsB,GAGU,iBAAAP,EACzBsB,KAAKsrB,UAAYrsB,EACRssB,EAAQX,MAAQY,KAAKpqB,UAAUqqB,cAAcxsB,GACtDe,KAAK0rB,UAAYzsB,EACRssB,EAAQI,UAAYC,SAASxqB,UAAUqqB,cAAcxsB,GAC9De,KAAK6rB,cAAgB5sB,EACZssB,EAAQhQ,cAAgBuQ,gBAAgB1qB,UAAUqqB,cAAcxsB,GACzEe,KAAKsrB,UAAYrsB,EAAK0E,WACb4nB,EAAQxgB,aAAewgB,EAAQX,MA5M9C,SAAoBlR,GAClB,OAAAhb,GAAcqtB,SAAS3qB,UAAUqqB,cAAc/R,GA2MKsS,CAAW/sB,IAC3De,KAAKisB,iBAAmBC,EAAYjtB,EAAKsL,QAEzCvK,KAAKqrB,UAAY,IAAAG,KAAA,CAAUxrB,KAAKisB,oBACvBV,EAAQxgB,cAAgBohB,YAAY/qB,UAAUqqB,cAAcxsB,IAASmtB,EAAkBntB,IAChGe,KAAKisB,iBAAmBC,EAAYjtB,GAEpCe,KAAKsrB,UAAYrsB,EAAO+D,OAAO5B,UAAUuC,SAAStD,KAAKpB,GAhBvDe,KAAKsrB,UAAY,GAmBdtrB,KAAKyf,QAAQrd,IAAI,kBACA,iBAAA1D,EAClBsB,KAAKyf,QAAQxd,IAAI,eAAgB,4BACxBjC,KAAK0rB,WAAa1rB,KAAK0rB,UAAUnnB,KAC1CvE,KAAKyf,QAAQxd,IAAI,eAAgBjC,KAAK0rB,UAAUnnB,MACvCgnB,EAAQhQ,cAAgBuQ,gBAAgB1qB,UAAUqqB,cAAcxsB,IACzEe,KAAKyf,QAAQxd,IAAI,eAAgB,qDAKnCspB,EAAQX,OACV5qB,KAAK4qB,KAAO,WACV,IAAAlsB,EAAe2tB,EAASrsB,MACxB,GAAIrB,EACF,OAAAD,EAGF,GAAIsB,KAAK0rB,UACP,OAAAvtB,QAAeC,QAAQ4B,KAAK0rB,WACvB,GAAI1rB,KAAKisB,iBACd,OAAA9tB,QAAeC,QAAQ,IAAAotB,KAAA,CAAUxrB,KAAKisB,oBACjC,GAAIjsB,KAAK6rB,cACd,MAAA,IAAApX,MAAgB,wCAEhB,OAAAtW,QAAeC,QAAQ,IAAAotB,KAAA,CAAUxrB,KAAKsrB,cAI1CtrB,KAAK+K,YAAc,WACjB,OAAA/K,KAASisB,iBACAI,EAASrsB,OAAS7B,QAAQC,QAAQ4B,KAAKisB,kBAEvCjsB,KAAK4qB,OAAO9rB,KAAKwtB,KAK9BtsB,KAAKoc,KAAO,WACV,IAAA1d,EAAe2tB,EAASrsB,MACxB,GAAIrB,EACF,OAAAD,EAGF,GAAIsB,KAAK0rB,UACP,OAjGN,SAAwBd,GACtB,IAAAxrB,EAAa,IAAAyrB,WACTC,EAAUC,EAAgBN,GAE9B,OAAArrB,EADOmtB,WAAW3B,GACXE,EA6FH5rB,CAAsBc,KAAK0rB,WACtB,GAAI1rB,KAAKisB,iBACd,OAAA9tB,QAAeC,QA5FrB,SAA+B6sB,GAI7B,IAAK,IAAA7rB,EAHM,IAAAyL,WAAeogB,GACtBuB,EAAQ,IAAArrB,MAAU+pB,EAAK3qB,QAElB6W,EAAI,EAAGA,EAAI8T,EAAK3qB,OAAQ6W,IAC/BoV,EAAMpV,GAAKzH,OAAO8c,aAAavB,EAAK9T,IAEtC,OAAAF,EAAaiD,KAAK,IAqFSuS,CAAsB1sB,KAAKisB,mBAC7C,GAAIjsB,KAAK6rB,cACd,MAAA,IAAApX,MAAgB,wCAEhB,OAAAtW,QAAeC,QAAQ4B,KAAKsrB,YAI5BC,EAAQI,WACV3rB,KAAK2rB,SAAW,WACd,OAAA3rB,KAAYoc,OAAOtd,KAAK6tB,KAI5B3sB,KAAK4pB,KAAO,WACV,OAAA5pB,KAAYoc,OAAOtd,KAAKkc,KAAKE,QAGxBlb,KAWT,SAAAX,EAAiButB,EAAOtO,GAEtB,IAAApH,GADAoH,EAAUA,GAAAA,IACSrf,KAEnB,GAAI2tB,aAAAA,EAA0B,CAC5B,GAAIA,EAAMpC,SACR,MAAA,IAAApqB,UAAoB,gBAEtBJ,KAAKwZ,IAAMoT,EAAMpT,IACjBxZ,KAAK+pB,YAAc6C,EAAM7C,YACpBzL,EAAQmB,UACXzf,KAAKyf,QAAU,IAAAxH,EAAY2U,EAAMnN,UAEnCzf,KAAKue,OAASqO,EAAMrO,OACpBve,KAAK6sB,KAAOD,EAAMC,KAClB7sB,KAAK8sB,OAASF,EAAME,OACf7tB,GAA2B,MAAnB2tB,EAAMvB,YACjBpsB,EAAO2tB,EAAMvB,UACbuB,EAAMpC,UAAAA,QAAWxqB,KAGdwZ,IAAM7J,OAAOid,GAYpB,GATA5sB,KAAK+pB,YAAczL,EAAQyL,aAAe/pB,KAAK+pB,aAAe,eAC1DzL,EAAQmB,SAAYzf,KAAKyf,UAC3Bzf,KAAKyf,QAAU,IAAAxH,EAAYqG,EAAQmB,UAErCzf,KAAKue,OAjCP,SAAyBA,GACvB,IAAAnf,EAAcmf,EAAOwO,cACrB,OAAmC,EAAnCC,EAAenX,QAAQoX,GAAgBA,EAAU1O,EA+BnC2O,CAAgB5O,EAAQC,QAAUve,KAAKue,QAAU,OAC/Dve,KAAK6sB,KAAOvO,EAAQuO,MAAQ7sB,KAAK6sB,MAAQ,KACzC7sB,KAAK8sB,OAASxO,EAAQwO,QAAU9sB,KAAK8sB,OACrC9sB,KAAKmtB,SAAW,MAEK,QAAhBntB,KAAKue,QAAoC,SAAhBve,KAAKue,SAAsBtf,EACvD,MAAA,IAAAmB,UAAoB,6CAEtBJ,KAAKorB,UAAUnsB,GAOjB,SAAAsY,EAAgBtY,GACd,IAAAG,EAAW,IAAAwsB,SAYX,OAAAltB,EAVG0uB,OACA/X,MAAM,KACNqF,QAAQ,SAAS2S,GAChB,GAAIA,EAAO,CACT,IAAAnW,EAAYmW,EAAMhY,MAAM,KACpBsC,EAAOtC,EAAM8U,QAAQzkB,QAAQ,MAAO,KACpCnH,EAAQ8W,EAAM8E,KAAK,KAAKzU,QAAQ,MAAO,KAC3C4nB,EAAKjD,OAAOzR,mBAAmBjB,GAAOiB,mBAAmBra,OAGxD+uB,EAGT,SAAAnuB,EAAsBouB,GACpB,IAAAnuB,EAAc,IAAA6Y,EAYd,OAAAvZ,EATqCgH,QAAQ,eAAgB,KACzC2P,MAAM,SAASqF,QAAQ,SAAS8S,GAClD,IAAAtW,EAAYsW,EAAKnY,MAAM,KACnBrU,EAAM+Y,EAAMoQ,QAAQiD,OACxB,GAAIpsB,EAAK,CACP,IAAAmW,EAAY4C,EAAMI,KAAK,KAAKiT,OAC5B3N,EAAQ4K,OAAOrpB,EAAKzC,MAGjBkhB,EAKT,SAAAvf,EAAkButB,EAAUnP,GAExBA,EADGA,GACHA,GAGFte,KAAKuE,KAAO,UACZvE,KAAKsgB,YAAAA,IAAShC,EAAQgC,OAAuB,IAAMhC,EAAQgC,OAC3DtgB,KAAKgqB,GAAoB,KAAfhqB,KAAKsgB,QAAiBtgB,KAAKsgB,OAAS,IAC9CtgB,KAAK0tB,WAAa,eAAAtuB,EAA0Bkf,EAAQoP,WAAa,KACjE1tB,KAAKyf,QAAU,IAAAxH,EAAYqG,EAAQmB,SACnCzf,KAAKwZ,IAAM8E,EAAQ9E,KAAO,GAC1BxZ,KAAKorB,UAAUqC,GA4CjB,SAAAxJ,EAAe2I,EAAOe,GACpB,OAAA,IAAAxvB,QAAmB,SAASC,EAASC,GASnC,SAAA+Y,IACE+F,EAAIyQ,QATN,IAAA3V,EAAc,IAAA5Y,EAAYutB,EAAOe,GAEjC,GAAIE,EAAQf,QAAUe,EAAQf,OAAOgB,QACnC,OAAA3W,EAAc,IAAA/X,EAAY6qB,aAAa,UAAW,eAGpD,IAAAxJ,EAAU,IAAAsN,eAMV5Q,EAAIuN,OAAS,WACX,IAAAhsB,EAAA,CACE4hB,OAAQnD,EAAImD,OACZoN,WAAYvQ,EAAIuQ,WAChBjO,QAASuO,EAAa7Q,EAAI8Q,yBAA2B,KAEvD3P,EAAQ9E,IAAM,gBAAAiH,EAAuBtD,EAAI+Q,YAAc5P,EAAQmB,QAAQrd,IAAI,iBAC3E,IAAAhD,EAAW,aAAAqhB,EAAoBtD,EAAIiC,SAAWjC,EAAI4C,aAClD3hB,EAAQ,IAAA8B,EAAajB,EAAMqf,KAG7BnB,EAAIwN,QAAU,WACZtsB,EAAO,IAAA+B,UAAc,4BAGvB+c,EAAIgR,UAAY,WACd9vB,EAAO,IAAA+B,UAAc,4BAGvB+c,EAAIiR,QAAU,WACZ/vB,EAAO,IAAAe,EAAY6qB,aAAa,UAAW,gBAG7C9M,EAAIkL,KAAKwF,EAAQtP,OAAQsP,EAAQrU,KAAAA,GAEL,YAAxBqU,EAAQ9D,YACV5M,EAAIuB,iBAAAA,EAC6B,SAAxBmP,EAAQ9D,cACjB5M,EAAIuB,iBAAAA,GAGF,iBAAA+B,GAAyB8K,EAAQX,OACnCzN,EAAIxH,aAAe,QAGrBkY,EAAQpO,QAAQ/E,QAAQ,SAASnc,EAAOoZ,GACtCwF,EAAIkR,iBAAiB1W,EAAMpZ,KAGzBsvB,EAAQf,SACVe,EAAQf,OAAOzD,iBAAiB,QAASiF,GAEzCnR,EAAIoR,mBAAqB,WAEA,IAAnBpR,EAAIqR,YACNX,EAAQf,OAAOtD,oBAAoB,QAAS8E,KAKlDnR,EAAIsR,UAAAA,IAAYZ,EAAQxC,UAA4B,KAAOwC,EAAQxC,aAxfvE,IAAAjB,EAAA,CACE7O,aAAc,oBAAA7c,EACdmL,SAAU,WAAAnL,GAAoB,aAAAoB,OAC9B8qB,KACE,eAAAlsB,GACA,SAAAA,GACA,WACE,IAEE,OAAA,IAAA8sB,MAAA,EACA,MAAO9sB,GACP,OAAA,GALJ,GAQFitB,SAAU,aAAAjtB,EACVqM,YAAa,gBAAArM,GAOf,GAAI6sB,EAAQxgB,YACV,IAAA2jB,EAAA,CACE,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEtC,EACFD,YAAYwC,QACZ,SAASjV,GACP,OAAAhb,IAA0E,EAA5DkwB,EAAY/Y,QAAQ7S,OAAO5B,UAAUuC,SAAStD,KAAKqZ,KAyDvEmV,EAAQztB,UAAUipB,OAAS,SAAS1S,EAAMpZ,GACxCoZ,EAAOmX,EAAcnX,GACrBpZ,EAAQwwB,EAAexwB,GACvB,IAAA2Y,EAAelX,KAAKuH,IAAIoQ,GACxB3X,KAAKuH,IAAIoQ,GAAQqX,EAAWA,EAAW,KAAOzwB,EAAQA,GAGxDswB,EAAQztB,UAAkB6e,OAAI,SAAStI,UAAAA,KACzBpQ,IAAIunB,EAAcnX,KAGhCkX,EAAQztB,UAAUgB,IAAM,SAASuV,GAE/B,OAAAjZ,EADOowB,EAAcnX,GACd3X,KAAKsC,IAAIqV,GAAQ3X,KAAKuH,IAAIoQ,GAAQ,MAG3CkX,EAAQztB,UAAUkB,IAAM,SAASqV,GAC/B,OAAA3X,KAAYuH,IAAI9D,eAAeqrB,EAAcnX,KAG/CkX,EAAQztB,UAAUa,IAAM,SAAS0V,EAAMpZ,GACrCyB,KAAKuH,IAAIunB,EAAcnX,IAASoX,EAAexwB,IAGjDswB,EAAQztB,UAAUsZ,QAAU,SAASuU,EAAUlxB,GAC7C,IAAK,IAAAmZ,KAAAlX,KAAiBuH,IAChBvH,KAAKuH,IAAI9D,eAAekU,IAC1BsX,EAAS5uB,KAAKtC,EAASiC,KAAKuH,IAAIoQ,GAAOA,EAAM3X,OAKnD6uB,EAAQztB,UAAU4D,KAAO,WACvB,IAAAtG,EAAA,GAIA,OAAAsB,KAHK0a,QAAQ,SAASnc,EAAOoZ,GAC3BuS,EAAM1pB,KAAKmX,KAENuX,EAAYhF,IAGrB2E,EAAQztB,UAAU+tB,OAAS,WACzB,IAAAzwB,EAAA,GAIA,OAAAsB,KAHK0a,QAAQ,SAASnc,GACpB2rB,EAAM1pB,KAAKjC,KAEN2wB,EAAYhF,IAGrB2E,EAAQztB,UAAUU,QAAU,WAC1B,IAAApD,EAAA,GAIA,OAAAsB,KAHK0a,QAAQ,SAASnc,EAAOoZ,GAC3BuS,EAAM1pB,KAAAA,CAAMmX,EAAMpZ,MAEb2wB,EAAYhF,IAGjBqB,EAAQ1hB,WACVglB,EAAQztB,UAAUtB,OAAOC,UAAY8uB,EAAQztB,UAAUU,SAqJzD,IAAAkrB,EAAA,CAAe,SAAU,MAAO,OAAQ,UAAW,OAAQ,OA8C3DoC,EAAQhuB,UAAU2Z,MAAQ,WACxB,OAAA,IAAA1b,EAAmBW,KAAAA,CAAOf,KAAMe,KAAKqrB,aAmCvCgE,EAAKhvB,KAAK+uB,EAAQhuB,WAgBlBiuB,EAAKhvB,KAAKivB,EAASluB,WAEnBkuB,EAASluB,UAAU2Z,MAAQ,WACzB,OAAA,IAAA7a,EAAoBF,KAAKqrB,UAAAA,CACvB/K,OAAQtgB,KAAKsgB,OACboN,WAAY1tB,KAAK0tB,WACjBjO,QAAS,IAAAxH,EAAYjY,KAAKyf,SAC1BjG,IAAKxZ,KAAKwZ,OAId8V,EAASxM,MAAQ,WACf,IAAApkB,EAAe,IAAAwB,EAAa,KAAA,CAAOogB,OAAQ,EAAGoN,WAAY,KAE1D,OAAAhvB,EADS6F,KAAO,QACT6a,GAGT,IAAAmQ,EAAA,CAAwB,IAAK,IAAK,IAAK,IAAK,KAE5CD,EAASE,SAAW,SAAShW,EAAK8G,GAChC,IAA0C,IAAtCmP,EAAiB5Z,QAAQyK,GAC3B,MAAA,IAAAoP,WAAqB,uBAGvB,OAAA,IAAAxvB,EAAoB,KAAA,CAAOogB,OAAQA,EAAQb,QAAAA,CAAU8I,SAAU/O,MAGjEvP,EAAQggB,aAAe/mB,EAAK+mB,aAC5B,IACE,IAAA7qB,EAAY6qB,aACZ,MAAOzJ,GACPvW,EAAQggB,aAAe,SAAS7M,EAASzF,GACvC3X,KAAKod,QAAUA,EACfpd,KAAK2X,KAAOA,EACZ,IAAAT,EAAYzC,MAAM2I,GAClBpd,KAAK0Q,MAAQoS,EAAMpS,OAErBzG,EAAQggB,aAAa7oB,UAAY4B,OAAOwI,OAAOiJ,MAAMrT,WACrD6I,EAAQggB,aAAa7oB,UAAUsJ,YAAcT,EAAQggB,aAuEvDH,EAAM6F,UAAAA,EAEDzsB,EAAK4mB,QACR5mB,EAAK4mB,MAAQA,EACb5mB,EAAK2rB,QAAUA,EACf3rB,EAAKksB,QAAUA,EACflsB,EAAKosB,SAAWA,GAGlBrlB,EAAQ4kB,QAAUA,EAClB5kB,EAAQmlB,QAAUA,EAClBnlB,EAAQqlB,SAAWA,EACnBrlB,EAAQ6f,MAAQA,EAzgBA,CAygBAA,IA3gBlB,CAghBG8F,UAAAA,EACa9F,MAAM6F,UACtB1lB,EAAU2lB,EAAS9F,OACXhS,QAAU8X,EAAS9F,MAC3B7f,EAAQ6f,MAAQ8F,EAAS9F,MACzB7f,EAAQ4kB,QAAUe,EAASf,QAC3B5kB,EAAQmlB,QAAUQ,EAASR,QAC3BnlB,EAAQqlB,SAAWM,EAASN,SAC5BllB,EAAOH,QAAUA,Gd4lDX,SAAUG,EAAQH,EAASqN,Ge5nEjC,IAAArX,EAAAkX,GAOE,SAAU0Y,QAGV,KAAA1Y,EAAA,mBAAAlX,EAAAmX,GAAAnX,EAAAI,KAAAjB,EAAA8X,EAAA9X,EAAAV,GAAAuB,KAAAvB,EAAAuL,QAAAkN,GAIA/M,EAAOH,QAAU4lB,IAPjB,CAkBA,WACD,SAAAnxB,IAGC,IAFA,IAAAA,EAAQ,EACJE,EAAAA,GACGwY,EAAIxK,UAAUrM,OAAQ6W,IAAK,CACjC,IAAAF,EAAiBtK,UAAWwK,GAC5B,IAAK,IAAAnX,KAAAiX,EACJtY,EAAOoC,GAAO8uB,EAAW9uB,GAG3B,OAAA5B,EAgID,OA7HA,SAAAA,EAAe2wB,GACd,SAAA9vB,EAAce,EAAKzC,EAAOuxB,GACzB,IAAA7X,EACA,GAAwB,oBAAA0E,SAAxB,CAMA,GAAuB,EAAnB/P,UAAUrM,OAAY,CAKzB,GAAkC,iBAJlCuvB,EAAarV,EAAAA,CACZ+B,KAAM,KACJwT,EAAIC,SAAUH,IAEK7N,QAAsB,CAC3C,IAAAxB,EAAc,IAAA/N,KACduP,EAAQiO,gBAAgBjO,EAAQkO,kBAAyC,MAArBL,EAAW7N,SAC/D6N,EAAW7N,QAAUA,EAItB6N,EAAW7N,QAAU6N,EAAW7N,QAAU6N,EAAW7N,QAAQjI,cAAgB,GAE7E,IACCpb,EAASoc,KAAKC,UAAU1c,GACpB,UAAUuH,KAAKlH,KAClBL,EAAQK,GAER,MAAOF,IAMRH,EAJIwxB,EAAUK,MAINL,EAAUK,MAAM7xB,EAAOyC,GAHvBkZ,mBAAmBvK,OAAOpR,IAChCmH,QAAQ,4DAA6DkT,oBAOxE5X,GADAA,GADAA,EAAMkZ,mBAAmBvK,OAAO3O,KACtB0E,QAAQ,2BAA4BkT,qBACpClT,QAAQ,UAAWmT,QAE7B,IAAAmK,EAA4B,GAE5B,IAAK,IAAAvL,KAAAL,EACC0Y,EAAWO,KAGhBC,GAAyB,KAAOD,GAAAA,IAC5BP,EAAWO,KAGfC,GAAyB,IAAMR,EAAWO,KAE3C,OAAA1T,SAAiB4T,OAASvvB,EAAM,IAAMzC,EAAQ+xB,EAK1CtvB,IACJpC,EAAAA,IAUD,IAJA,IAAAM,EAAcyd,SAAS4T,OAAS5T,SAAS4T,OAAOlb,MAAM,MAAA,GAClDmb,EAAU,mBACVpZ,EAAI,EAEDA,EAAI0H,EAAQve,OAAQ6W,IAAK,CAC/B,IAAA+T,EAAYrM,EAAQ1H,GAAG/B,MAAM,KACzBkb,EAASxW,EAAMtP,MAAM,GAAG0P,KAAK,KAE5Bna,KAAK4pB,MAA6B,MAArB2G,EAAO1H,OAAO,KAC/B0H,EAASA,EAAO9lB,MAAM,GAAI,IAG3B,IACC,IAAApL,EAAW0a,EAAM,GAAGrU,QAAQ8qB,EAAS5X,oBAKrC,GAJA2X,EAASR,EAAUU,KAClBV,EAAUU,KAAKF,EAAQ5Y,GAAQoY,EAAUQ,EAAQ5Y,IACjD4Y,EAAO7qB,QAAQ8qB,EAAS5X,oBAErB5Y,KAAK4pB,KACR,IACC2G,EAASvV,KAAKE,MAAMqV,GACnB,MAAO7xB,IAGV,GAAIsC,IAAQ2W,EAAM,CACjB/Y,EAAS2xB,EACT,MAGIvvB,IACJpC,EAAO+Y,GAAQ4Y,GAEf,MAAO7xB,KAGV,OAAAuZ,GAsBD,OAAAhY,EAnBIgC,IAAM+tB,GACN5tB,IAAM,SAAUpB,GACnB,OAAAf,EAAWI,KAAK2vB,EAAKhvB,IAEtBgvB,EAAIU,QAAU,WACb,OAAAzwB,EAAWlB,MAAAA,CACV6qB,MAAAA,GAAM,GACDnf,MAAMpK,KAAKuM,aAElBojB,EAAIC,SAAAA,GAEJD,EAAI7N,OAAS,SAAUnhB,EAAK8uB,GAC3BE,EAAIhvB,EAAK,GAAIyZ,EAAOqV,EAAAA,CACnB7N,SAAU,MAIZ+N,EAAIW,cAAgBhD,EAEbqC,EAGR5wB,CAAY,iBfwoEP,SAAUgL,EAAQH,EAASqN,GgB7wEjC,SAAArX,EAAyB6R,GACvB,IAAA1S,EAAUY,KAEV4wB,EAAYC,kBAAkB/e,GAE9B,IAAAoF,EAAqBgB,EAAKuC,OAAAA,CACxBiH,QAAAA,GACC5P,EAAKgN,SACWT,EAAIyS,SAASC,gBAAkB1S,EAAIyS,SAASE,YAE7DC,EAAevP,QAAAA,QAAS,IAEfuP,EAAetP,WAExBsP,EAAetP,SAAWsP,EAAevP,OAAS,OAAS,OAEzDuP,EAAevP,SAAWrD,EAAIyS,SAASE,YAEzCza,QAAQC,KACN,2LAIFya,EAAevP,QAAAA,GAGjB1hB,KAAKse,QAAAA,CACHxI,SAAUhE,EAAKgE,SACfK,OAAQ+B,EAAKqE,oBAAoBzK,EAAKqE,QACtCkR,aAAcnP,EAAKqE,oBAAoBzK,EAAKuV,cAC5CC,YAAapP,EAAKqE,oBAAoBzK,EAAKwV,aAC3CC,SAAUrP,EAAKqE,oBAAoBzK,EAAKyV,UACxCE,UAAWvP,EAAKqE,oBAAoBzK,EAAK2V,WACzCD,UAAWtP,EAAKqE,oBAAoBzK,EAAK0V,WACzC0J,MAAAA,IAAMpf,EAAKof,KACXlb,YAAalE,EAAKkE,YAClBmb,sBAAuBrf,EAAKqf,sBAC5BC,aAActf,EAAKsf,aACnBvR,kBAAmB/N,EAAK+N,kBACxBlB,YAAa7M,EAAK6M,YAClB4B,kBAAmBzO,EAAKyO,kBACxBd,QAAS3N,EAAK2N,QACd4R,iBAAkBvf,EAAKuf,iBACvBvS,QAASmS,GAGXjxB,KAAKwf,UAAYoR,EAAYU,aAAaxf,EAAzB,gBAAAwH,OAA+CiY,UAS3Dzf,EAAKqV,cAAsC,IAAtBrV,EAAKqV,aAG7BnnB,KAAKse,QAAQ6I,aAAerV,EAAKqV,aAFjCnnB,KAAKse,QAAQ6I,aAAejH,EAAUrC,uBAOxC7d,KAAKse,QAAQkT,kBAAoB1f,EAAK0f,gBAEtCnT,EAAIoT,QAAAA,CACFC,MAAOxZ,EAAKgB,KAAKuY,EAAQE,aAAc,KAAMtT,GAC7CuH,OAAQ1N,EAAKgB,KAAKuY,EAAQG,cAAe,KAAMvT,GAC/Cjc,IAAK8V,EAAKgB,KAAKuY,EAAQI,WAAY,KAAMxT,GACzCyT,QAAS5Z,EAAKgB,KAAKuY,EAAQM,eAAgB,KAAM1T,GACjD2T,qBAAsB9Z,EAAKgB,KAAKuY,EAAQO,qBAAsB,KAAM3T,IAGtEA,EAAIsH,GAAAA,CACFrF,OAAQpI,EAAKgB,KAAKyM,EAAGF,kBAAmB,KAAMpH,GAC9C4T,OAAQ/Z,EAAKgB,KAAKyM,EAAGD,kBAAmB,KAAMrH,GAC9CuH,OAAQ1N,EAAKgB,KAAKyM,EAAGG,kBAAmB,KAAMzH,GAC9C2H,WAAY9N,EAAKgB,KAAKyM,EAAGK,WAAY,KAAM3H,IAI7CA,EAAIsH,GAAGC,OAAOC,KAAO,SAASlO,GAC5B,OAAAzY,EAAekD,IAAIuV,IAIrB0G,EAAI6K,QAAAA,CACFgJ,UAAAA,CACEC,iBAAkB,WAChB,OAAAnW,OAAcuM,SAAS9E,QAK7BpF,EAAI+T,YAAc,IAAAlyB,EAClBme,EAAIgU,MAAAA,CACFC,iBAAkBpa,EAAKgB,KAAKmZ,EAAMC,iBAAkB,KAAMjU,GAC1DkU,aAAcra,EAAKgB,KAAKmZ,EAAME,aAAc,KAAMlU,GAClDmU,gBAAiBta,EAAKgB,KAAKmZ,EAAMG,gBAAiB,KAAMnU,GACxDoU,aAAcva,EAAKgB,KAAKmZ,EAAMI,aAAc,KAAMpU,GAClDsO,OAAQ0F,EAAMK,YACdC,OAAQza,EAAKgB,KAAKmZ,EAAMO,YAAa,KAAMvU,GAC3CwU,MAAO3a,EAAKgB,KAAKmZ,EAAMS,WAAY,KAAMzU,GACzC0U,YAAa7a,EAAKgB,KAAKmZ,EAAMU,YAAa,KAAM1U,GAChD2U,OAAQ9a,EAAKgB,KAAKmZ,EAAMY,YAAa,KAAM5U,IAG7Crb,OAAOgC,KAAKqZ,EAAIgU,OAAO3X,QAAQ,SAAA1Z,GAC7B,GAAY,WAARA,EAAJ,CAGA,IAAAkW,EAAamH,EAAIgU,MAAMrxB,GACvBqd,EAAIgU,MAAMrxB,GAAOkX,EAAKgB,KAAKga,EAAa9xB,UAAUZ,KAAM6d,EAAI+T,YAAa7T,EAAQ,SAGnFF,EAAIgU,MAAMG,gBAAgBW,aAAe,SAAS3Z,GAChDwC,OAAOuM,SAAW/O,GAIpB6E,EAAIgU,MAAMI,aAAaW,YAAc,WACnC,OAAApX,OAAcqX,SAIhBhV,EAAIgU,MAAMI,aAAaa,aAAe,WACpC,OAAAtX,OAAcuM,UAIhBlK,EAAIgU,MAAMI,aAAac,aAAe,WACpC,OAAAvX,OAAcW,UAGhB0B,EAAImV,YAAYC,cAAgB,WAC9B,OAAAC,UAAiBlU,WAGnB,IAAAvf,EAAqB,oCACrBoe,EAAIyS,SAAS6C,uBAAyB,WACpC,IAAAj1B,EAAY2f,EAAImV,YAAYC,gBAC5B,OAAA/0B,IAAiBk1B,EAAe9tB,KAAK+tB,IAGvCxV,EAAIyV,QAAU,IAAA7b,EACdoG,EAAI/I,aAAe,IAAAjW,EAAiBgf,EAAKvM,EAAKwD,cAC9C+I,EAAI/I,aAAaye,GAAG,QAAS/zB,KAAKg0B,qBAAsBh0B,MhB6nE1D,IAAAmX,EAA0BG,EAAoB,GAE1C2c,EAAoB3c,EAAoB,GgB/xExC4c,EAAoBlmB,EAAQ,IAC5B0P,EAAoB1P,EAAQ,GAC5B4iB,EAAoB5iB,EAAQ,IAC5BkS,EAAoBlS,EAAQ,GAC5B8Q,EAAoB9Q,EAAQ,GAAoByH,QAChD0N,EAAoBnV,EAAQ,GAC5BmmB,EAAoBnmB,EAAQ,IAC5ByjB,EAAoBzjB,EAAQ,IAC5BqkB,EAAoBrkB,EAAQ,IAC5BomB,EAAoBpmB,EAAQ,IAC5B2X,EAAoB3X,EAAQ,GAC5BkK,EAAoBlK,EAAQ,GAC5BklB,EAAqBllB,EAAQ,IAuJ7BtC,EAAQ2oB,EAAgBjzB,UAC5BsK,EAAMsoB,qBAAuB,SAASlR,GAEvB,mBADFA,EAAMzF,WACgByF,EAAMrE,cACjCze,KAAKse,QAAQ+S,iBACfrxB,KAAKse,QAAQ+S,mBAGb9a,QAAQuM,MAAM,gEAKpBpX,EAAMolB,SAAAA,GAENplB,EAAMolB,SAASwD,4BAA8B,WAC3C,IAAA51B,EAAeie,SAASC,cAAgBD,SAASC,aAAe,GAChE,SAAIZ,OAAOuY,aAAgBC,IAM7B9oB,EAAMolB,SAAS2D,uBAAyB,WACtC,MAAyB,oBAAAC,QAAeA,OAAOC,QAAgC,oBAAA9pB,YAGjFa,EAAMolB,SAAS8D,eAAiB,WAC9B,MAA8B,oBAAAC,aAGhCnpB,EAAMolB,SAASgE,gBAAkB,WAC/B,OAAA7Q,EAAa6M,SAAS2D,0BAA4B/oB,EAAMolB,SAAS8D,kBAGnElpB,EAAMolB,SAASE,QAAU,WACvB,MAAoC,WAA7BhV,OAAOuM,SAASwM,UAGzBrpB,EAAMolB,SAASC,YAAc,WAC3B,MAAoC,cAA7B/U,OAAOuM,SAASyM,UAGzBtpB,EAAMupB,OAAS,SAAU5R,GAGvB,SAAAjkB,EAA2Bkf,GAEzB,cAAA5f,EADYw2B,gBACLvP,EAAGI,kBAAkB1H,EAAK,gBAAiBgF,EAAM/E,GAJ1D,IAAApH,EAAUlX,KAMV,OAAAtB,EALOwZ,EAAK6C,MAAMsI,GAAAA,KAKR6R,gBAGH7W,EAAImV,cACV10B,KAAK,SAAS00B,GACb,OAAAp0B,EAAA,CACEqgB,QAAAA,CACE0V,uBAAwB3B,OANrBzN,KAaXra,EAAMimB,aAAe,WAMnB,OALU3xB,KAGNsV,aAAavT,QAHP/B,KAKCyxB,QAAQC,QAClBtR,MAAM,SAAS1hB,GACd,GAAe,iBAAXA,EAAEiZ,MAA2C,aAAhBjZ,EAAE2e,UAInC,MAAA3e,KAKJgN,EAAM0pB,kBAAN,WAAA,IAAAh2B,EAAAgY,EAAAD,EAAAke,KAA0B,SAAA32B,EAAiC+f,GAAjC,IAAAvH,EAAA,OAAAC,EAAAme,KAAA,SAAA52B,GAAA,OAAA,OAAAA,EAAA62B,KAAA72B,EAAAD,MAAA,KAAA,EAAA,GACpB4f,EAAMre,KACLye,EAFmB,CAAA/f,EAAAD,KAAA,EAAA,MAAA,OAAAC,EAAAD,KAAA,EAGF4f,EAAI/I,aAAalT,IAAI,eAHnB,KAAA,EAGtBqc,EAHsB/f,EAAAc,KAAA,KAAA,EAAA,GAMnBif,EANmB,CAAA/f,EAAAD,KAAA,EAAA,MAAA,OAAAC,EAAA82B,OAAA,SAOfr3B,QAAQC,WAPO,KAAA,EAAA,OAAAM,EAAA82B,OAAA,SASjBnX,EAAIgU,MAAMM,OAAOlU,IATA,KAAA,EAAA,IAAA,MAAA,OAAA/f,EAAA+2B,SAAA/2B,EAAAsB,SAA1B,OAAA,SAAAtB,GAAA,OAAAU,EAAAL,MAAAiB,KAAA4M,YAAA,GAaAlB,EAAMgqB,QAAN,WAAA,IAAAh3B,EAAA0Y,EAAAD,EAAAke,KAAgB,SAAA32B,EAAgB4f,GAAhB,IAAApH,EAAAjX,EAAAmX,EAAAa,EAAAwI,EAAAuC,EAAAvL,EAAAvY,EAAAmY,EAAA8T,EAAA,OAAAhU,EAAAme,KAAA,SAAA52B,GAAA,OAAA,OAAAA,EAAA62B,KAAA72B,EAAAD,MAAA,KAAA,EAAA,GACd6f,EAAUpG,EAAKuC,OAAAA,GAAW6D,GAGtBqX,EAAa3Z,OAAOuM,SAASqN,OAC7BzE,EAAwB7S,EAAQ6S,uBAC/BnxB,KAAKse,QAAQ6S,uBACbwE,EAEDlX,EAAcH,EAAQG,YACtB2W,GAAAA,IAAoB9W,EAAQ8W,kBAC5BlM,EAAU5K,EAAQ4K,QAElB7K,EAAMre,KACNwnB,EAAY2M,EAAU/M,aAAa/I,GAAKmJ,eAAAA,IAEjC0B,EAhBG,OAAAxqB,EAAAD,KAAA,GAiBI4f,EAAI/I,aAAalT,IAAI,WAjBzB1D,EAAAD,KAAA,GAAA,MAAA,KAAA,GAiBZyqB,EAjBYxqB,EAAAc,KAAA,KAAA,GAAA,GAoBV41B,QAAAA,IAA4B3W,EApBlB,OAAA/f,EAAAD,KAAA,GAqBQ4f,EAAI/I,aAAalT,IAAI,SArB7B1D,EAAAD,KAAA,GAAA,MAAA,KAAA,GAqBZggB,EArBY/f,EAAAc,KAAA,KAAA,GAAA,GAyBd6e,EAAI/I,aAAavT,QAEbqzB,GAAqB3W,EA3BX,OAAA/f,EAAAD,KAAA,GA4BN4f,EAAI+W,kBAAkB3W,GA5BhB/f,EAAAD,KAAA,GAAA,MAAA,KAAA,GAAA,GAiCTyqB,EAjCS,CAAAxqB,EAAAD,KAAA,GAAA,MAAA,OAAAC,EAAA82B,OAAA,SAkCLnX,EAAIsT,eACV7yB,KAAK,WACAqyB,IAA0BwE,EAC5B3Z,OAAOuM,SAASsN,SAEhB7Z,OAAOuM,SAASuN,OAAO3E,MAvCf,KAAA,GA6CV4E,EAAQzX,EAAQyX,MAChBC,EAAc9M,EAAQA,QACtB+M,EAAYzO,EAAY,kBAAoBtN,mBAAmB8b,GACjE,6BAA+B9b,mBAAmBiX,GAGhD4E,IACFE,GAAa,UAAY/b,mBAAmB6b,IAG9C/Z,OAAOuM,SAASuN,OAAOG,GAvDT,KAAA,GAAA,IAAA,MAAA,OAAAv3B,EAAA+2B,SAAA/2B,EAAAsB,SAAhB,OAAA,SAAAZ,GAAA,OAAAV,EAAAK,MAAAiB,KAAA4M,YAAA,GA0DAgkB,EAAYsF,oBAAoBxqB,GAGhCA,EAAMyqB,UAAY,SAAU9S,GAC1B,IAAAjkB,EAAU,yBAA2B8Y,EAAK+B,cAAcoJ,GAMxD,OAAAhM,EAAYjV,IAAIpC,KAAMwZ,EALlB8E,CACFmB,QAAAA,CACEJ,OAAU,2BAMhB3T,EAAM8nB,YAAc,SAASlV,GAC3BA,EAAUA,GAAAA,GACV,IAKApH,EACI8Q,EACAoO,EAPJh3B,EAAUY,KACV,OAAKqe,EAAIyS,SAAS6C,yBA0ClB,IAAAx1B,QAnC0B,SAAUC,EAASC,IAC3C2pB,EAASrL,SAASkL,cAAc,WACzBC,MAAMC,QAAU,OAEvBqO,EAAW,SAAkB13B,GAC3B,GAAKA,GAAMA,EAAE4C,MAAQ5C,EAAEk3B,SAAWvX,EAAIsC,kBAAtC,CAIA,IACE,IAAAzJ,EAAU8D,KAAKE,MAAMxc,EAAE4C,MACvB,MAAOkf,GACP,OAAAvI,EAAc,IAAAwI,EAAiB,oCAGjC,GAAKvD,EACL,MAAiB,yBAAbA,EAAI3Y,KACCnG,EAAQ8e,EAAIsW,kBAEJ,4BAAbtW,EAAI3Y,MACN7F,EAAE4M,OAAOipB,YAAYvZ,KAAKC,UAAAA,CACxB1W,KAAM,mBACJ7F,EAAEk3B,WAGVzB,EAAUhL,YAAYnN,OAAQ,UAAWoa,GAEzCpO,EAAOJ,IAAMvJ,EAAIsC,kBAAoB,mCACrChE,SAAS1d,KAAKgpB,YAAYD,GAE1BqO,EAAUtZ,WAAW,WACnB1e,EAAO,IAAAoiB,EAAiB,8BACvBnC,EAAQ+X,SAAW,QAGTpZ,QAAQ,WACrBqZ,aAAaD,GACblC,EAAU5K,eAAevN,OAAQ,UAAWoa,GACxCzZ,SAAS1d,KAAKs3B,SAASvO,IACzBA,EAAOwO,cAAcC,YAAYzO,KA7CnC7pB,QAAeE,OAAO,IAAAoiB,EAAiB,oDAkD3CrW,EAAOH,QAAU2mB,EAAY8F,cAAcrC,IhBu5ErC,SAAUjqB,EAAQH,EAASqN,GiB9xFjC,IAAArX,EAAe,SAAUgK,GACvB,SAAA7K,EAUcu3B,EAASC,EAAS1zB,EAAM2zB,GAEpC,IAAAzf,EAAqBwf,GAAWA,EAAQx1B,qBAAAA,EAAiCw1B,EAAUE,EAC/E54B,EAAY8E,OAAOwI,OAAOurB,EAAe31B,WACzC41B,EAAU,IAAAhf,EAAY6e,GAAAA,IAM1B,OAAA5e,EAFUgf,QAAUC,EAAiBP,EAASzzB,EAAM8zB,GAE7C94B,EAcT,SAAAgZ,EAAkBiC,EAAIO,EAAK7N,GACzB,IACE,MAAA,CAAStH,KAAM,SAAUsH,IAAKsN,EAAG9Y,KAAKqZ,EAAK7N,IAC3C,MAAO2U,GACP,MAAA,CAASjc,KAAM,QAASsH,IAAK2U,IAiBjC,SAAAvgB,KACA,SAAAkX,KACA,SAAAC,KA4BA,SAAAa,EAA+B7W,GAAAA,CAC5B,OAAQ,QAAS,UAAUsZ,QAAQ,SAAS6D,GAC3Cnd,EAAUmd,GAAU,SAAS1S,GAC3B,OAAA7L,KAAYi3B,QAAQ1Y,EAAQ1S,MAoClC,SAAA4U,EAAuBviB,GACrB,SAAAkB,EAAgBmf,EAAQ1S,EAAKzN,EAASC,GACpC,IAAAoiB,EAAa0W,EAASj5B,EAAUqgB,GAASrgB,EAAW2N,GACpD,GAAoB,UAAhBurB,EAAO7yB,KAEJ,CACL,IAAAye,EAAaoU,EAAOvrB,IAChBtN,EAAQK,EAAOL,MACnB,OAAAkZ,GACqB,iBAAAA,GACjB4f,EAAOh3B,KAAK9B,EAAO,WACdJ,QAAQC,QAAQG,EAAM+4B,SAASx4B,KAAK,SAASP,GAClDg5B,EAAO,OAAQh5B,EAAOH,EAASC,IAC9B,SAASmiB,GACV+W,EAAO,QAAS/W,EAAKpiB,EAASC,KAI3BF,QAAQC,QAAQG,GAAOO,KAAK,SAAS04B,GAI1C54B,EAAOL,MAAQi5B,EACfp5B,EAAQQ,IACP,SAASkkB,GAGV,OAAA1jB,EAAc,QAAS0jB,EAAO1kB,EAASC,KAvBzCA,EAAO+4B,EAAOvrB,KA4BlB,IAAAsL,EAgCAnX,KAAKi3B,QA9BL,SAAiB1Y,EAAQ1S,GACvB,SAAA5L,IACE,OAAA,IAAA9B,QAAmB,SAASC,EAASC,GACnCk5B,EAAOhZ,EAAQ1S,EAAKzN,EAASC,KAIjC,OAAA8Y,EAaEsgB,EAAkBA,EAAgB34B,KAChC44B,EAGAA,GACEA,KA6BV,SAAA1U,EAA0B2T,EAASzzB,EAAM8zB,GACvC,IAAA7f,EAAYwgB,EAEZ,OAAA,SAAuBpZ,EAAQ1S,GAC7B,GAAIkqB,IAAU6B,EACZ,MAAA,IAAAnjB,MAAgB,gCAGlB,GAAIshB,IAAU8B,EAAmB,CAC/B,GAAe,UAAXtZ,EACF,MAAAtG,EAKF,OAAAP,IAMF,IAHAsf,EAAQzY,OAASA,EACjByY,EAAQnrB,IAAMA,IAED,CACX,IAAA4U,EAAeuW,EAAQc,SACvB,GAAIA,EAAU,CACZ,IAAA9U,EAAqB+U,EAAoBD,EAAUd,GACnD,GAAIgB,EAAgB,CAClB,GAAIA,IAAmBC,EAAkB,SAAA,OAAAjV,GAK7C,GAAuB,SAAnBgU,EAAQzY,OAGVyY,EAAQx3B,KAAOw3B,EAAQkB,MAAQlB,EAAQnrB,SAAAA,GAEX,UAAnBmrB,EAAQzY,OAAoB,CACrC,GAAIwX,IAAU4B,EAEZ,MAAAxgB,EADQ0gB,EACFb,EAAQnrB,IAGhBmrB,EAAQmB,kBAAkBnB,EAAQnrB,SAEN,WAAnBmrB,EAAQzY,QACjByY,EAAQxB,OAAO,SAAUwB,EAAQnrB,KAGnCkqB,EAAQ6B,EAER,IAAA14B,EAAai4B,EAASR,EAASzzB,EAAM8zB,GACrC,GAAoB,WAAhBI,EAAO7yB,KAAmB,CAO5B,GAJAwxB,EAAQiB,EAAQn4B,KACZg5B,EACAO,EAEAhB,EAAOvrB,MAAQosB,EACjB,SAAA,MAAA,CAIA15B,MAAO64B,EAAOvrB,IACdhN,KAAMm4B,EAAQn4B,MAGS,UAAhBu4B,EAAO7yB,OAChBwxB,EAAQ8B,EAGRb,EAAQzY,OAAS,QACjByY,EAAQnrB,IAAMurB,EAAOvrB,OAU7B,SAAA4L,EAA6BqgB,EAAUd,GACrC,IAAA/2B,EAAa63B,EAAS/3B,SAASi3B,EAAQzY,QACvC,GAAIA,IAAW7c,EAAW,CAKxB,GAFAs1B,EAAQc,SAAW,KAEI,UAAnBd,EAAQzY,OAAoB,CAE9B,GAAIuZ,EAAS/3B,SAAiBF,SAG5Bm3B,EAAQzY,OAAS,SACjByY,EAAQnrB,IAAMnK,EACdq2B,EAAoBD,EAAUd,GAEP,UAAnBA,EAAQzY,QAGV,OAAA8Z,EAIJrB,EAAQzY,OAAS,QACjByY,EAAQnrB,IAAM,IAAAzL,UACZ,kDAGJ,OAAAi4B,EAGF,IAAAlhB,EAAaggB,EAAS5Y,EAAQuZ,EAAS/3B,SAAUi3B,EAAQnrB,KAEzD,GAAoB,UAAhBurB,EAAO7yB,KAIT,OAAAnF,EAHQmf,OAAS,QACjByY,EAAQnrB,IAAMurB,EAAOvrB,IACrBmrB,EAAQc,SAAW,KACZG,EAGT,IAAA7gB,EAAWggB,EAAOvrB,IAElB,OAAAuL,EAOIyL,EAAKhkB,MAGPm4B,EAAQc,EAASQ,YAAczV,EAAKtkB,MAGpCy4B,EAAQv4B,KAAOq5B,EAASS,QAQD,WAAnBvB,EAAQzY,SACVyY,EAAQzY,OAAS,OACjByY,EAAQnrB,IAAMnK,GAUlBs1B,EAAQc,SAAW,KACZG,GANEpV,GA3BPmU,EAAQzY,OAAS,QACjByY,EAAQnrB,IAAM,IAAAzL,UAAc,oCAC5B42B,EAAQc,SAAW,KACZG,GAoDX,SAAA/4B,EAAsBs5B,GACpB,IAAAp5B,EAAA,CAAcq5B,OAAQD,EAAK,IAEvB,KAAA95B,IACFsD,EAAM02B,SAAWF,EAAK,IAGpB,KAAA95B,IACFsD,EAAM22B,WAAaH,EAAK,GACxBx2B,EAAM42B,SAAWJ,EAAK,IAGxBx4B,KAAK64B,WAAWr4B,KAAKwB,GAGvB,SAAAqV,EAAuBrV,GACrB,IAAA5C,EAAa4C,EAAM82B,YAAAA,GACnB1B,EAAO7yB,KAAO,gBAAAnF,EACAyM,IACd7J,EAAM82B,WAAa1B,EAGrB,SAAApf,EAAiB6e,GAIf72B,KAAK64B,WAAAA,CAAAA,CAAgBJ,OAAQ,SAC7B5B,EAAYnc,QAAQqe,EAAc/4B,MAClCA,KAAKg5B,OAAAA,GA8BP,SAAA7N,EAAgBthB,GACd,GAAIA,EAAU,CACZ,IAAAzK,EAAqByK,EAASovB,GAC9B,GAAIC,EACF,OAAA95B,EAAsBiB,KAAKwJ,GAG7B,GAA6B,mBAAAnL,EAATD,KAClB,OAAAC,EAGF,IAAKy6B,MAAMtvB,EAAStJ,QAAS,CAC3B,IAAA2W,GAAS,EAAGzY,EAAO,SAAAW,IACjB,OAASgY,EAAIvN,EAAStJ,QACpB,GAAI82B,EAAOh3B,KAAKwJ,EAAUuN,GAGxB,OAAAhY,EAFKb,MAAQsL,EAASuN,GACtB3Y,EAAKI,MAAAA,EACEJ,EAOX,OAAAW,EAHKb,MAAQmD,EACbjD,EAAKI,MAAAA,EAEEJ,GAGT,OAAAwB,EAAYxB,KAAOA,GAKvB,MAAA,CAASA,KAAM26B,GAIjB,SAAA1hB,IACE,MAAA,CAASnZ,MAAOmD,EAAW7C,MAAAA,GAre7B,IAAAQ,EAAIg6B,EAAKr2B,OAAO5B,UACZi2B,EAASgC,EAAG51B,eAEZ61B,EAA4B,mBAAAx5B,OAAaA,OAAAA,GACzCm5B,EAAiBK,EAAQv5B,UAAY,aACrCw5B,EAAsBD,EAAQE,eAAiB,kBAC/CC,EAAoBH,EAAQz1B,aAAe,gBAc/CoG,EAAQqrB,KAAOA,EAoBf,IAAAoE,EAA6B,iBACzBtB,EAAyB,iBACzBR,EAAoB,YACpBC,EAAoB,YAIpBI,EAAAA,GAYA0B,EAAAA,GACJA,EAAkBV,GAAkB,WAClC,OAAAj5B,MAGF,IAAA45B,EAAe52B,OAAO+I,eAClB8tB,EAA0BC,GAAYA,EAASA,EAAS3K,EAAAA,MACxD0K,GACAA,IAA4BR,GAC5BhC,EAAOh3B,KAAKw5B,EAAyBZ,KAGvCU,EAAoBE,GAGtB,IAAA57B,EAAS87B,EAA2B34B,UAClC01B,EAAU11B,UAAY4B,OAAOwI,OAAOmuB,GAymBtC,OAAAxiB,EAxmBkB/V,UAAY44B,EAAGtvB,YAAcqvB,EAC/CA,EAA2BrvB,YAAcuvB,EACzCF,EAA2BN,GACzBQ,EAAkBC,YAAc,oBAYlCjwB,EAAQkwB,oBAAsB,SAASC,GACrC,IAAAh7B,EAA6B,mBAAAV,GAAc07B,EAAO1vB,YAClD,QAAO2vB,IACHA,IAASJ,GAG2B,uBAAnCI,EAAKH,aAAeG,EAAK1iB,QAIhC1N,EAAQorB,KAAO,SAAS+E,GAUtB,OAAAp3B,OATWuR,eACTvR,OAAOuR,eAAe6lB,EAAQL,IAE9BK,EAAOhmB,UAAY2lB,EACbN,KAAAA,IACJW,EAAOX,GAAqB,sBAGhCW,EAAOh5B,UAAY4B,OAAOwI,OAAOwuB,GAC1BI,GAOTnwB,EAAQqwB,MAAQ,SAASzuB,GACvB,MAAA,CAASyrB,QAASzrB,IAsEpB0uB,EAAsBC,EAAcp5B,WACpCo5B,EAAcp5B,UAAUm4B,GAAuB,WAC7C,OAAAv5B,MAEFiK,EAAQuwB,cAAgBA,EAKxBvwB,EAAQwwB,MAAQ,SAAS9D,EAASC,EAAS1zB,EAAM2zB,GAC/C,IAAA5e,EAAW,IAAAwI,EACT6U,EAAKqB,EAASC,EAAS1zB,EAAM2zB,IAG/B,OAAAn4B,EAAey7B,oBAAoBvD,GAC/B8D,EACAA,EAAKj8B,OAAOK,KAAK,SAASF,GACxB,OAAAF,EAAcG,KAAOD,EAAOL,MAAQm8B,EAAKj8B,UAuKjD87B,EAAsBP,GAEtBA,EAAGP,GAAqB,YAOxBO,EAAGf,GAAkB,WACnB,OAAAj5B,MAGFg6B,EAAGr2B,SAAW,WACZ,MAAO,sBAkCTsG,EAAQjF,KAAO,SAASiB,GACtB,IAAA7G,EAAA,GACA,IAAK,IAAA8X,KAAAxY,EACHsG,EAAKxE,KAAKQ,GAMZ,OAAA5B,EAJKu7B,UAIE,SAAAzjB,IACL,KAAOlS,EAAKzE,QAAQ,CAClB,IAAAN,EAAU+E,EAAK1E,MACf,GAAIU,KAAAA,EAGF,OAAAkW,EAFK3Y,MAAQyC,EACbvC,EAAKI,MAAAA,EACEJ,EAQX,OAAAyY,EADKrY,MAAAA,EACEJ,IAsCXwL,EAAQklB,OAASA,EAMjByL,EAAQx5B,UAAAA,CACNsJ,YAAakwB,EAEb5B,MAAO,SAAS6B,GAcd,GAbA76B,KAAKu1B,KAAO,EACZv1B,KAAKvB,KAAO,EAGZuB,KAAKR,KAAOQ,KAAKk4B,MAAQx2B,EACzB1B,KAAKnB,MAAAA,EACLmB,KAAK83B,SAAW,KAEhB93B,KAAKue,OAAS,OACdve,KAAK6L,IAAMnK,EAEX1B,KAAK64B,WAAWne,QAAQogB,IAEnBD,EACH,IAAK,IAAAz7B,KAAAY,KAEoB,MAAnB2X,EAAKkR,OAAO,IACZwO,EAAOh3B,KAAKL,KAAM2X,KACjBwhB,OAAOxhB,EAAKlN,MAAM,MACrBzK,KAAK2X,GAAQjW,IAMrB+zB,KAAM,WACJz1B,KAAKnB,MAAAA,EAEL,IAAAH,EAAgBsB,KAAK64B,WAAW,GAC5BkC,EAAaC,EAAUlC,WAC3B,GAAwB,UAApBiC,EAAWx2B,KACb,MAAAnF,EAAiByM,IAGnB,OAAA7L,KAAYi7B,MAGd9C,kBAAmB,SAAS+C,GAM1B,SAAA97B,EAAgB+7B,EAAKC,GAYnB,OAAAhkB,EAXO7S,KAAO,QACd6yB,EAAOvrB,IAAMqvB,EACblE,EAAQv4B,KAAO08B,EAEXC,IAGFpE,EAAQzY,OAAS,OACjByY,EAAQnrB,IAAMnK,KAGN05B,EAjBZ,GAAIp7B,KAAKnB,KACP,MAAAH,EAmBF,IAAK,IAAAwY,EAhBSlX,KAgBLoX,EAAIpX,KAAK64B,WAAWt4B,OAAS,EAAQ,GAAL6W,IAAUA,EAAG,CACpD,IAAAD,EAAYnX,KAAK64B,WAAWzhB,GACxBggB,EAASp1B,EAAM82B,WAEnB,GAAqB,SAAjB92B,EAAMy2B,OAIR,OAAAr5B,EAAc,OAGhB,GAAI4C,EAAMy2B,QAAUz4B,KAAKu1B,KAAM,CAC7B,IAAAtd,EAAeof,EAAOh3B,KAAK2B,EAAO,YAC9Bq5B,EAAahE,EAAOh3B,KAAK2B,EAAO,cAEpC,GAAIs5B,GAAYD,EAAY,CAC1B,GAAIr7B,KAAKu1B,KAAOvzB,EAAM02B,SACpB,OAAAt5B,EAAc4C,EAAM02B,UAAAA,GACf,GAAI14B,KAAKu1B,KAAOvzB,EAAM22B,WAC3B,OAAAv5B,EAAc4C,EAAM22B,iBAAAA,GAGb2C,GACT,GAAIt7B,KAAKu1B,KAAOvzB,EAAM02B,SACpB,OAAAt5B,EAAc4C,EAAM02B,UAAAA,OAGjB,CAAA,IAAI2C,EAMT,MAAA,IAAA5mB,MAAgB,0CALhB,GAAIzU,KAAKu1B,KAAOvzB,EAAM22B,WACpB,OAAAv5B,EAAc4C,EAAM22B,gBAU9BnD,OAAQ,SAASjxB,EAAMsH,GACrB,IAAK,IAAAqL,EAAQlX,KAAK64B,WAAWt4B,OAAS,EAAQ,GAAL6W,IAAUA,EAAG,CACpD,IAAAnX,EAAYD,KAAK64B,WAAWzhB,GAC5B,GAAIpV,EAAMy2B,QAAUz4B,KAAKu1B,MACrB8B,EAAOh3B,KAAK2B,EAAO,eACnBhC,KAAKu1B,KAAOvzB,EAAM22B,WAAY,CAChC,IAAAxhB,EAAmBnV,EACnB,OAIAu5B,IACU,UAATh3B,GACS,aAATA,IACDg3B,EAAa9C,QAAU5sB,GACvBA,GAAO0vB,EAAa5C,aAGtB4C,EAAe,MAGjB,IAAAnkB,EAAamkB,EAAeA,EAAazC,WAAAA,GAIzC,OAAA1hB,EAHO7S,KAAOA,EACd6yB,EAAOvrB,IAAMA,EAET0vB,GACFv7B,KAAKue,OAAS,OACdve,KAAKvB,KAAO88B,EAAa5C,WAClBV,GAGFj4B,KAAKw7B,SAASpE,IAGvBoE,SAAU,SAASpE,EAAQwB,GACzB,GAAoB,UAAhBxB,EAAO7yB,KACT,MAAA7F,EAAamN,IAcf,MAXoB,UAAhBurB,EAAO7yB,MACS,aAAhB6yB,EAAO7yB,KACTvE,KAAKvB,KAAO24B,EAAOvrB,IACM,WAAhBurB,EAAO7yB,MAChBvE,KAAKi7B,KAAOj7B,KAAK6L,IAAMurB,EAAOvrB,IAC9B7L,KAAKue,OAAS,SACdve,KAAKvB,KAAO,OACa,WAAhB24B,EAAO7yB,MAAqBq0B,IACrC54B,KAAKvB,KAAOm6B,GAGPX,GAGTwD,OAAQ,SAAS9C,GACf,IAAK,IAAAv5B,EAAQY,KAAK64B,WAAWt4B,OAAS,EAAQ,GAAL6W,IAAUA,EAAG,CACpD,IAAAF,EAAYlX,KAAK64B,WAAWzhB,GAC5B,GAAIpV,EAAM22B,aAAeA,EAGvB,OAAA34B,KAFKw7B,SAASx5B,EAAM82B,WAAY92B,EAAM42B,UACtCkC,EAAc94B,GACPi2B,IAKb7X,MAAS,SAASqY,GAChB,IAAK,IAAAr5B,EAAQY,KAAK64B,WAAWt4B,OAAS,EAAQ,GAAL6W,IAAUA,EAAG,CACpD,IAAAF,EAAYlX,KAAK64B,WAAWzhB,GAC5B,GAAIpV,EAAMy2B,SAAWA,EAAQ,CAC3B,IAAAx4B,EAAa+B,EAAM82B,WACnB,GAAoB,UAAhB1B,EAAO7yB,KAAkB,CAC3B,IAAA4S,EAAaigB,EAAOvrB,IACpBivB,EAAc94B,GAEhB,OAAAmV,GAMJ,MAAA,IAAA1C,MAAgB,0BAGlBinB,cAAe,SAAS7xB,EAAUyuB,EAAYC,GAa5C,OAAAv4B,KAZK83B,SAAAA,CACH/3B,SAAUovB,EAAOtlB,GACjByuB,WAAYA,EACZC,QAASA,GAGS,SAAhBv4B,KAAKue,SAGPve,KAAK6L,IAAMnK,GAGNu2B,IAQJhuB,EAvrBM,CA8rBgBG,EAAOH,SAGtC,IACE0xB,mBAAqBC,EACrB,MAAOC,GAUPx4B,SAAS,IAAK,yBAAdA,CAAwCu4B,KjB6yFpC,SAAUxxB,EAAQH,GkBjgHxB,SAAAiN,KAKAqY,EAAEnuB,UAAAA,CACA2yB,GAAI,SAAUpc,EAAMsX,EAAU7V,GAC5B,IAAAnZ,EAAQD,KAAKtB,IAAMsB,KAAKtB,EAAAA,IAOxB,OALCA,EAAEiZ,KAAUjZ,EAAEiZ,GAAAA,KAAanX,KAAAA,CAC1B2Y,GAAI8V,EACJ7V,IAAKA,IAGApZ,MAGT87B,KAAM,SAAUnkB,EAAMsX,EAAU7V,GAE9B,SAAAnZ,IACEiD,EAAK64B,IAAIpkB,EAAMye,GACfnH,EAASlwB,MAAMqa,EAAKxM,WAHtB,IAAAuK,EAAWnX,KAOX,OAAAC,EADSX,EAAI2vB,EACNjvB,KAAK+zB,GAAGpc,EAAMye,EAAUhd,IAGjC4iB,KAAM,SAAUrkB,GAMd,IALA,IAAAvY,EAAA,GAAcqL,MAAMpK,KAAKuM,UAAW,GAChCqvB,IAAWj8B,KAAKtB,IAAMsB,KAAKtB,EAAAA,KAASiZ,IAAAA,IAAalN,QACjD2M,EAAI,EACJ8kB,EAAMD,EAAO17B,OAET6W,EAAI8kB,EAAK9kB,IACf6kB,EAAO7kB,GAAG+B,GAAGpa,MAAMk9B,EAAO7kB,GAAGgC,IAAK9X,GAGpC,OAAAtB,MAGF+7B,IAAK,SAAUpkB,EAAMsX,GACnB,IAAA/X,EAAQlX,KAAKtB,IAAMsB,KAAKtB,EAAAA,IACpBy9B,EAAOz9B,EAAEiZ,GACTykB,EAAAA,GAEJ,GAAID,GAAQlN,EACV,IAAK,IAAA7X,EAAQ,EAAG8kB,EAAMC,EAAK57B,OAAQ6W,EAAI8kB,EAAK9kB,IACtC+kB,EAAK/kB,GAAG+B,KAAO8V,GAAYkN,EAAK/kB,GAAG+B,GAAG7Z,IAAM2vB,GAC9CmN,EAAW57B,KAAK27B,EAAK/kB,IAY3B,OAAAD,EAJkB5W,OACd7B,EAAEiZ,GAAQykB,SAAAA,EACDzkB,GAEN3X,OAIXoK,EAAOH,QAAUslB,GlBwgHX,SAAUnlB,EAAQH,EAASqN,GmB7jHjC,IAAAmJ,EAAmBzS,EAAQ,GACvB2X,EAAK3X,EAAQ,GACbkK,EAAOlK,EAAQ,GAsGnB5D,EAAOH,QAAAA,CACLisB,oBAnEF,SAA6BxqB,GAC3BA,EAAMiV,gBAAkB,WAEtB,OAAA3gB,KAAYse,QAAQnI,OAAOd,MAAM,YAAY,IAI/C3J,EAAM2wB,eAAiB,SAAUhZ,GAC/B,OAAAL,EAAU+C,kBAAkB/lB,KAAM,kCAAmCqjB,IAIvE3X,EAAM4wB,cAAgB,SAAUjZ,GAC9B,OAAAL,EAAU+C,kBAAkB/lB,KAAM,gCAAiCqjB,IAIrE3X,EAAM6wB,oBAAsB,SAAUlZ,GACpC,OAAAL,EAAU+C,kBAAkB/lB,KAAM,+BAAgCqjB,KAkDpEqT,cA9CF,SAAuBrC,GACrB,OAAA,SAAgB1V,EAAakB,GAC3B,SAAA5f,EAAkB6R,GAChB,KAAM9R,gBAAAA,GACJ,OAAA,IAAAC,EAAoB6R,GAGlBA,IACFA,EAAK6M,YAAcA,EAEf7M,EAAK0qB,aACPtkB,EAAKmE,UAAU,6EACfvK,EAAK+N,kBAAoB/N,EAAK0qB,aACpB1qB,EAAK+N,oBACf/N,EAAK+N,kBAAoBA,IAI7B3H,EAAKgB,KAAKmb,EAAiBr0B,KAA3BkY,CAAiCpG,GAQnC,QAAA7R,EANSmB,UAAYizB,EAAgBjzB,WAClBsJ,YAAc+xB,GAGxB3L,SAAWuD,EAAgBjzB,UAAU0vB,SAEvC2L,IAqBT5L,kBArGF,SAA2B/e,GACzB,IAAKA,EACH,MAAA,IAAA2O,EAAuB,0EAIzB,IAAArhB,EAAa0S,EAAKqE,OAClB,IAAKA,EACH,MAAA,IAAAsK,EAAuB,iIAKzB,IADiB,IAAAhb,OAAW,iBACZK,KAAKgM,EAAKqE,QACxB,MAAA,IAAAsK,EAAuB,4HAIzB,IAAmC,IAA/BtK,EAAON,QAAQ,WACjB,MAAA,IAAA4K,EAAuB,0IAIzB,IAAAvJ,EAAgBpF,EAAK0N,UAGrB,GADEA,GAAaA,EAAUkd,WAA6D,IAAjDld,EAAUkd,SAAS7mB,QAAQ,iBAE9D,MAAA,IAAA4K,EAAuB,2IA2EzB6Q,aAlBF,SAAsBxf,EAAM6qB,GAC1B,IAAAzlB,EAAgBpF,EAAK0N,WAAAA,GAErB,OAAAtI,EAAc3Y,MACLihB,EAAUjhB,MAGfihB,EAAUkd,SACLld,EAAUkd,SAASh3B,QAAQ,gBAAiBi3B,GAG9CA,KnBolHH,SAAUvyB,EAAQH,GoBzrHxB,SAAAiN,EAAsBsJ,EAAKrD,GACzBnd,KAAK2X,KAAO,eACZ3X,KAAKod,QAAUoD,EAAIlD,aACnBtd,KAAKsd,aAAekD,EAAIlD,aACxBtd,KAAKqd,UAAYmD,EAAInD,UACrBrd,KAAKud,UAAYiD,EAAIjD,UACrBvd,KAAKwd,QAAUgD,EAAIhD,QACnBxd,KAAKyd,YAAc+C,EAAI/C,YAEnBN,IACFnd,KAAKmd,IAAMA,GAGfuD,EAAatf,UAAY,IAAAqT,MAEzBrK,EAAOH,QAAUyW,GpB0sHX,SAAUtW,EAAQH,GqBztHxB,SAAAiN,IACElX,KAAK2X,KAAO,oBACZ3X,KAAKod,QAAU,kCAEjBoI,EAAkBpkB,UAAY,IAAAqT,MAE9BrK,EAAOH,QAAUub,GrB0uHX,SAAUpb,EAAQH,EAASqN,GsB/uHjC,IAAA0L,EAAWhV,EAAQ,GACfmV,EAAOnV,EAAQ,GAyDnB5D,EAAOH,QAAAA,CACL2nB,cAxDF,SAAuBvT,GACrB,OAAA3f,EAAW+yB,QAAQrvB,MAChBtD,KAAK,SAAS6gB,GACb,MAAmB,WAAfA,EAAIW,SAKTF,MAAM,WACL,OAAA,KAgDJyR,WA5CF,SAAoBxT,GAClB,OAAA5G,EAAYrV,IAAIic,EAAK,uBACpBvf,KAAK,SAAS2yB,GACb,IAAAva,EAAUgB,EAAKiD,KAAKsW,EAAS,UAU7B,OAAAva,EARI4a,QAAU,WACZ,OAAAra,EAAYqJ,KAAKzC,EAAKnG,EAAKwD,QAAQ+V,EAAS,WAAWhO,OAGzD9D,EAAIid,KAAO,WACT,OAAAnlB,EAAYrV,IAAIic,EAAKnG,EAAKwD,QAAQ+V,EAAS,QAAQhO,OAG9C9D,IAERS,MAAM,WAEL,MAAA,CAAQE,OAAQ,eA4BlBqR,aAxBF,SAAsBtT,GACpB,OAAA5G,EAAYoJ,YAAYxC,EAAAA,CACtB7E,IAAK6E,EAAIsC,kBAAoB,sBAC7BpC,OAAQ,YAsBVwT,eAlBF,SAAwB1T,GACtB,OAAA5G,EAAYqJ,KAAKzC,EAAK,0CAkBtB2T,qBAfF,SAA8B3T,EAAKwe,EAAcC,GAC/CA,EAAcA,GAAe9gB,OAAOuM,SAAS9E,KAC7CzH,OAAOuM,SAAWlK,EAAIsC,kBAAoB,+BACxCzI,EAAK+B,cAAAA,CACH8iB,2BAAAA,EACA1K,MAAOwK,EACPC,YAAaA,OtB4wHb,SAAU1yB,EAAQH,EAASqN,GuB3xHjC,SAAAH,EAAqBkb,GACnB,IAAAjzB,EAAI49B,EAAM3K,EAAMhd,MAAM,KAGtB,IACE4nB,EAAAA,CACE3S,OAAQtP,KAAKE,MAAMhD,EAAKQ,kBAAkBskB,EAAI,KAC9CE,QAASliB,KAAKE,MAAMhD,EAAKQ,kBAAkBskB,EAAI,KAC/CG,UAAWH,EAAI,IAEjB,MAAMt+B,GACN,MAAA,IAAA0+B,EAAuB,mBAGzB,OAAAh+B,EAIF,SAAAgY,EAAqBiH,EAAKgU,EAAOxL,GAC/B,OAAA1oB,QAAeC,UACdU,KAAK,WACJ,IAAKuzB,IAAUA,EAAMnJ,QACnB,MAAA,IAAAkU,EAAuB,iCAGzB,IAAAn9B,EAAUyyB,EAAYL,EAAMnJ,SAExBmU,EAAAA,CACFvnB,SAAUuI,EAAIC,QAAQxI,SACtBK,OAAQkI,EAAIC,QAAQnI,OACpBqb,gBAAiBnT,EAAIC,QAAQkT,iBAU/B,OAAAoI,EAPKnf,OAAO4iB,EAAmBxW,GAG/BsN,EAAUxN,eAAetI,EAAK2e,EAAIE,QAASG,GAIF,GAArCA,EAAkB7L,iBAA4BnT,EAAIyS,SAAS2D,yBAIxDN,EAAU9N,OAAOhI,EAAKgU,EAAMlc,OAAQ6mB,EAAI1S,OAAOhE,KACrDxnB,KAAK,SAASkC,GACb,OAAA/C,EAAiBg1B,YAAYZ,EAAMnJ,QAASloB,KAE7ClC,KAAK,SAASw+B,GACb,IAAKA,EACH,MAAA,IAAAF,EAAuB,oCAEzB,GAAIvW,GAAoBA,EAAiBpI,aAAe4T,EAAMzL,OAAO2W,QACnE,OAAAt/B,EAAiBu/B,YAAY3W,EAAiBpI,aAC3C3f,KAAK,SAAAiJ,GACJ,GAAIA,IAASsqB,EAAMzL,OAAO2W,QACxB,MAAA,IAAAH,EAAuB,sCAKhCt+B,KAAK,WACJ,OAAAM,IArBOizB,IA0Bb,SAAApa,EAAgCoG,EAAKgY,EAASN,GAC5C,IAAA91B,EACIw9B,EA0BJ,OAAA,IAAAt/B,QAzBuC,SAASC,EAASC,GAEvDq/B,EAAkB,SAAyBh/B,GACzC,GAAKA,EAAE4C,MAAQ5C,EAAE4C,KAAKy0B,QAAUA,EAShC,OAAA32B,EAAMw2B,SAAWvX,EAAIsC,kBACZtiB,EAAO,IAAA++B,EAAiB,yDAAAhmB,EAEzB1Y,EAAE4C,OAGZ6yB,EAAUhL,YAAYnN,OAAQ,UAAW0hB,GAEzCD,EAAY1gB,WAAW,WACrB1e,EAAO,IAAA++B,EAAiB,0BACvB/G,GAAW,QAIbpZ,QAAQ,WACPqZ,aAAamH,GACbtJ,EAAU5K,eAAevN,OAAQ,UAAW0hB,KA4DlD,SAAAjmB,EAA0BkI,EAAKge,GAC7B,GAAIhe,EAAGmD,OAAanD,EAAGie,kBACrB,MAAA,IAAAC,EAAqBle,EAAGmD,MAAWnD,EAAGie,mBAGxC,GAAIje,EAAIoW,QAAU4H,EAAY5H,MAC5B,MAAA,IAAAqH,EAAuB,yDAI3B,SAAAl+B,EAA6Bmf,EAAKsf,EAAahe,EAAKme,GAClDA,EAAOA,GAAAA,GAEP,IAAA3mB,EAAmBwmB,EAAYhoB,aAC1BxU,MAAM2L,QAAQ6I,KACjBA,EAAAA,CAAgBA,IAGlB,IAAAsC,EAAaC,EAAK6C,MAAM4iB,EAAYxoB,QAChCW,EAAW6nB,EAAY7nB,UAAYuI,EAAIC,QAAQxI,SAC/Cob,GAAAA,IAAO7S,EAAIC,QAAQ4S,KAEvB,OAAA/yB,QAAeC,UACdU,KAAK,WAMJ,OAAA2Y,EALiBkI,EAAKge,GAKlBhe,EAAIoe,MAAQ7M,GAGdvb,EAAAA,CAAgB,UACkB,IAA9BR,EAAOU,QAAQ,WACjBF,EAAanV,KAAK,YAtD1B,SAA8B6d,EAAKsf,EAAaK,EAAmBF,GAGjE,IAAA3mB,EAAW8mB,EAAKC,SAAS7f,GACrB8f,EAAAA,CACFroB,SAAU6nB,EAAY7nB,SACtBkoB,kBAAmBA,EACnBI,aAAcC,EAAKD,aACnBpoB,YAAaqoB,EAAKroB,aAEpB,OAAAsoB,EAAYC,SAASlgB,EAAK8f,EAAgBL,GACzCh/B,KAAK,SAAS6gB,GAEb,OAAAlI,EADiBkI,EAAKwe,GACfxe,IAER1C,QAAQ,WACPghB,EAAKO,UAAUngB,KAwCNogB,CAAqBpgB,EAAKsf,EAAahe,EAAIoe,KAAMD,IAEnDne,IACN7gB,KAAK,SAAS6gB,GACf,IAAAxI,EAAA,GACIunB,EAAY/e,EAAIgf,WAChBC,EAAYjf,EAAIkf,WAChBpgB,EAAckB,EAAImf,aAClB5V,EAAUvJ,EAAIof,SAclB,GAZItgB,IACFugB,EAAUvgB,YAAAA,CACRlgB,MAAOkgB,EACPA,YAAaA,EACbU,UAAW8f,OAAOP,GAAa1sB,KAAKwI,MAAM9H,KAAKC,MAAM,KACrDisB,UAAWA,EACXzpB,OAAQA,EACRkS,aAAcyW,EAAKzW,aACnBC,YAAawW,EAAKxW,cAIlB4B,EAAS,CACX,IAAAlR,EAAUqG,EAAIgU,MAAM1F,OAAOzD,GAEvBgW,EAAAA,CACF3gC,MAAO2qB,EACPA,QAASA,EACTtC,OAAQoW,EAAIE,QACZ/d,UAAW6d,EAAIE,QAAQhW,IACvB/R,OAAQA,EACRkS,aAAcyW,EAAKzW,aACnBlR,OAAQ2nB,EAAK3nB,OACbL,SAAUA,GAGR+Q,EAAAA,CACF/Q,SAAUA,EACVK,OAAQ2nB,EAAK3nB,OACb4Q,MAAO4W,EAAY5W,MACnBtI,YAAaA,GAOf,YAAA,IAJIkf,EAAYnM,kBACd3K,EAAiB2K,gBAAkBmM,EAAYnM,iBAG1CyB,EAAY5U,EAAK6gB,EAAYrY,GACnC/nB,KAAK,WAEJ,OAAAqY,EADU+R,QAAUgW,EACbF,IAIX,OAAA7nB,IAEDrY,KAAK,SAASkgC,GAEb,IAAuC,IAAnCrpB,EAAaE,QAAQ,WAAoBmpB,EAAUvgB,YAErD,MAAA,IAAA2e,EAAuB,iHAEzB,IAA0C,IAAtCznB,EAAaE,QAAQ,cAAuBmpB,EAAU9V,QAExD,MAAA,IAAAkU,EAAuB,gHAGzB,MAAA,CACE+B,OAAQH,EACRjJ,MAAOpW,EAAIoW,MACXgI,KAAMpe,EAAIoe,QAgEhB,SAAA5S,EAA8BwS,GAC5B,IAAAv+B,EA9CF,SAAyCu+B,GAEvC,IAAKA,EAAY7nB,SACf,MAAA,IAAAsnB,EAAuB,2EAGzB,GAAIllB,EAAKuB,SAASkkB,EAAYhoB,gBAA4D,IAA3CgoB,EAAYhoB,aAAaE,QAAQ,KAC9E,MAAA,IAAAunB,EAAuB,4DAIzB,IAAAh+B,EAAuB8Y,EAAK2C,WAAAA,CAC1B9E,UAAa4nB,EAAY7nB,SACzBspB,eAAkBzB,EAAY0B,cAC9BC,sBAAyB3B,EAAY4B,oBACrCxX,QAAW4V,EAAY5V,QACvByX,IAAO7B,EAAY6B,IACnBC,UAAa9B,EAAY+B,SACzBC,WAAchC,EAAYiC,UAC1BC,QAAWlC,EAAYmC,OACvB/Y,MAAS4W,EAAY5W,MACrBgZ,OAAUpC,EAAYoC,OACtB9pB,aAAgB0nB,EAAY3nB,YAC5BgqB,cAAiBrC,EAAYvM,aAC7Bxb,cAAiB+nB,EAAYhoB,aAC7BknB,aAAgBc,EAAYd,aAC5B9G,MAAS4H,EAAY5H,QASvB,GAAA,CANC,YAAa,iBAAiBrb,QAAS,SAAUulB,GAC5C9+B,MAAM2L,QAAQozB,EAAiBD,MACjCC,EAAiBD,GAAcC,EAAiBD,GAAY9lB,KAAK,SAIf,IAAlDwjB,EAAYhoB,aAAaE,QAAQ,cACS,IAA1C8nB,EAAYxoB,OAAOU,QAAQ,UAC7B,MAAA,IAAAunB,EAAuB,qFAKzB,OAAAh+B,EAHmBgW,MAAQuoB,EAAYxoB,OAAOgF,KAAK,KAG5C+lB,EAIgBC,CAAgCxC,GACvD,OAAA/D,EAAY3f,cAAcimB,GAqD5B,SAAAxoB,EAAkB2G,EAAKC,GACrB,OAAuB,EAAvB1R,UAAcrM,OACLpC,QAAQE,OAAO,IAAA++B,EAAiB,qEAKlCgD,EAAmB/hB,EAF1BC,EAAUA,GAAAA,IAGTxf,KAAK,SAAS6+B,GAuCb,SAAA19B,EAAmBuZ,GAGjB,MADkB,2CACC1U,KAAK0U,GAAK,GAvC/B,IAiBAwJ,EACIqd,EACAvC,EAwBJ,OAjCIxf,EAAQue,aACV3kB,EAAKuC,OAAOkjB,EAXd,CACEoC,OAAQ,OACR3O,aAAc,oBACdrJ,QAAS,OASAzJ,EAAQkhB,KACjBtnB,EAAKuC,OAAOkjB,EAPV2C,CACFvY,QAAS,UAeX+V,EAAO3J,EAAU/M,aAAa/I,EAAKsf,GACnC0C,EAAW/hB,EAAQ8f,aAAeN,EAAKvW,SAAWuW,EAAKzW,aACvDkZ,EAAaF,EAAWG,EAAqB7C,GAIzCA,EAAYd,cAAwC,OAAxBc,EAAY5V,QAC/B,SACsB,UAAxB4V,EAAY5V,QACV,QAEA,YAWX,IAAK,SACH,IAAA/P,EAAoByoB,EAAuBpiB,EAAKC,EAAQ+X,QAASsH,EAAY5H,OACzE2K,EAAWvM,EAAUxM,UAAU4Y,GACnC,OAAAvoB,EACGlZ,KAAK,SAAS6gB,GACb,OAAAzgB,EAA2Bmf,EAAKsf,EAAahe,EAAKme,KAEnD7gB,QAAQ,WACHN,SAAS1d,KAAKs3B,SAASmK,IACzBA,EAASlK,cAAcC,YAAYiK,KAI3C,IAAK,QACH,IAAArhC,EAIA,GAAiC,sBAA7Bs+B,EAAYvM,aAAsC,CACpD,IAAK/S,EAAIyS,SAASwD,8BAChB,MAAA,IAAA8I,EAAuB,sDAEzBuD,EAAeF,EAAuBpiB,EAAKC,EAAQ+X,QAASsH,EAAY5H,OAI1E,IAAAxe,EAAA,CACE4Q,WAAY7J,EAAQ6J,YAElByY,EAAWzM,EAAUjM,UAAUqY,EAAYM,GAG/C,GAAiC,aAA7BlD,EAAYvM,aAA6B,CAC3C,IAAAlxB,EAAmB4gC,EAAUziB,EAAI6K,QAAQgJ,UAAUC,oBAC/C4O,EAAoBD,EAAUnD,EAAY3nB,aAC9C,GAAIgrB,IAAiBD,EACnB,MAAA,IAAA3D,EAAuB,2CAA6C2D,EAClE,yCAA2CC,EAAe,KAE9DL,EAvXV,SAA6BtiB,EAAKuiB,EAAUvK,GAC1C,IAAAp2B,EA8BA,OAAA,IAAA9B,QA7B0B,SAASC,EAASC,GAC1C,SAAA+Y,IAQE,IACMwpB,GACAA,EAASrY,UACTqY,EAASrY,SAASxgB,KACpB3J,EAAQ+1B,EAAU8M,aAAaL,EAASrY,SAASxgB,OACxC64B,IAAaA,EAASM,QAC/BnkB,WAAWokB,EAAmB,KAEhC,MAAO3gB,GACPzD,WAAWokB,EAAmB,MAIlCA,IAEA1D,EAAY1gB,WAAW,WACrB1e,EAAO,IAAA++B,EAAiB,0BACvB/G,GAAW,QAGDpZ,QAAQ,WACrBqZ,aAAamH,KAuVQ2D,CAAoB/iB,EAAKuiB,EAAUtiB,EAAQ+X,SAwB5D,OAAA,IAAAl4B,QApB+B,SAASC,EAASC,GAC/C,IAAA6Y,EAAkBmqB,YAAY,WACvBT,IAAYA,EAASM,SACxBI,cAAcC,GACdljC,EAAO,IAAA++B,EAAiB,0CAEzB,KAGHuD,EACC7hC,KAAK,SAAS6gB,GACb2hB,cAAcC,GACdnjC,EAAQuhB,KAETS,MAAM,SAASI,GACd8gB,cAAcC,GACdljC,EAAOmiB,OAKR1hB,KAAK,SAAS6gB,GACb,OAAAzgB,EAA2Bmf,EAAKsf,EAAahe,EAAKme,KAEnD7gB,QAAQ,WACH2jB,IAAaA,EAASM,QACxBN,EAASlP,UAIjB,QACE,MAAA,IAAA0L,EAAuB,mDAK/B,SAAA/9B,EAA0Bgf,EAAKC,GAC7B,OAAuB,EAAvB1R,UAAcrM,OACLpC,QAAQE,OAAO,IAAA++B,EAAiB,8EAEzC9e,EAAUpG,EAAK6C,MAAMuD,IAAAA,GACrBpG,EAAKuC,OAAO6D,EAAAA,CACVyhB,OAAQ,OACR3O,aAAc,oBACdrJ,QAAS,OAEJwW,EAASlgB,EAAKC,IAevB,SAAAnf,EAA4Bkf,EAAKC,GAE/BA,EAAUpG,EAAK6C,MAAMuD,IAAAA,GAGrB,IAAApH,EAtRF,SAA+BmH,GAC7B,MAAA,CACE6S,KAAM7S,EAAIC,QAAQ4S,KAClBpb,SAAUuI,EAAIC,QAAQxI,SACtBE,YAAaqI,EAAIC,QAAQtI,aAAegG,OAAOuM,SAAS9E,KACxD9N,aAAAA,CAAe,QAAS,YACxByb,aAAc/S,EAAIC,QAAQ8S,aAC1B2E,MAAO5B,EAAUjO,gBACjBa,MAAOoN,EAAUhO,gBACjBhR,OAAAA,CAAS,SAAU,SACnBqc,gBAAiBnT,EAAIC,QAAQkT,iBA4QbgQ,CAAsBnjB,GAGxC,GAFAnG,EAAKuC,OAAOkjB,EAAarf,IAAAA,IAErBqf,EAAYzM,KACd,OAAA/yB,QAAeC,QAAQu/B,GAIzB,GAAKtf,EAAIyS,SAASgE,kBAqBlB,OAAA5d,EAPiBqoB,sBACf5B,EAAY4B,oBAAsBtB,EAAKwD,+BAIzC9D,EAAYhoB,aAAe,OAEpBwe,EAAU/N,aAAa/H,EAAK,MAChCvf,KAAK,SAAS6gB,GAEb,IAA0D,KAD5CA,EAAG+hB,kCAAA,IACL7rB,QAAQ8nB,EAAY4B,qBAC9B,MAAA,IAAAnC,EAAuB,mCAG1Bt+B,KAAK,WAEJ,IAAAM,EAAmB6+B,EAAK0D,iBAAiBhE,EAAYS,cAGjDC,EAAAA,CACFD,aAAcA,EACdpoB,YAAa2nB,EAAY3nB,aAI3B,OAAAsoB,EAFKsD,SAASvjB,EAAKggB,GAEZJ,EAAK4D,iBAAiBzD,KAE9Bt/B,KAAK,SAASugC,GAGb,IAAAjgC,EAAmB8Y,EAAK6C,MAAM4iB,IAAAA,GAI9B,OAAA/D,EAHKnf,OAAOqnB,EAAcnE,EAAAA,CACxB0B,cAAeA,IAEVyC,IA/CT,IAAA7hC,EAAmB,sFASnB,OAAAvB,EARSoyB,SAASE,YAEhB+Q,GAAgB,oGAEb1jB,EAAIyS,SAAS8D,mBAEhBmN,GAAgB,0GAEX5jC,QAAQE,OAAO,IAAA++B,EAAiB2E,IAuG3C,SAAA3X,EAAoB/L,GAClB,IAAAjf,EAAoBif,EAAIgU,MAAMI,aAAaW,cACvC4O,EAAY3jB,EAAIgU,MAAMI,aAAac,eACnC0O,EAAY5jB,EAAIgU,MAAMI,aAAaa,eACnC4O,GAAiBA,EAAcC,aACjCD,EAAcC,aAAa,KAAMH,EAAU1Z,MAAO2Z,EAAUG,SAAWH,EAAUI,QAEjFJ,EAAUl6B,KAAO,GAIrB,SAAA2mB,EAAsBrQ,GACpB,IAAAjf,EAAoBif,EAAIgU,MAAMI,aAAaW,cACvC4O,EAAY3jB,EAAIgU,MAAMI,aAAac,eACnC0O,EAAY5jB,EAAIgU,MAAMI,aAAaa,eACnC4O,GAAiBA,EAAcC,aACjCD,EAAcC,aAAa,KAAMH,EAAU1Z,MAAO2Z,EAAUG,SAAWH,EAAUl6B,MAEjFk6B,EAAUI,OAAS,GvB03HvB,SAAA9S,IA2FE,OAAAA,EA1Fe0E,EAEfqO,EAAoBjN,KuBx0HtB,SAAA32B,EAA2B2f,EAAKkkB,EAAmBC,GAAnD,OAAAC,EAAAnN,KAAA,SAAA52B,GAAA,OAAA,OAAAA,EAAA62B,KAAA72B,EAAAD,MAAA,KAAA,EAAA,GAEO8jC,EAFP,CAAA7jC,EAAAD,KAAA,EAAA,MAAA,OAAAC,EAAAD,KAAA,EAG8B4f,EAAI/I,aAAalT,IAAI,eAHnD,KAAA,EAGImgC,EAHJ7jC,EAAAc,KAAA,KAAA,EAAA,GAKOgjC,EALP,CAAA9jC,EAAAD,KAAA,EAAA,MAAA,OAAAC,EAAAD,KAAA,EAM0B4f,EAAI/I,aAAalT,IAAI,WAN/C,KAAA,EAMIogC,EANJ9jC,EAAAc,KAAA,KAAA,EAAA,GASO+iC,IACCpO,EAAUlL,QAAQsZ,IAAuBA,EAAkB9jB,aAAgB8jB,EAAkBjb,aAVrG,CAAA5oB,EAAAD,KAAA,GAAA,MAAA,OAAAC,EAAA82B,OAAA,SAWWr3B,QAAQE,OAAO,IAAA++B,EAAiB,iDAX3C,KAAA,GAAA,GAcOoF,IACDrO,EAAUlL,QAAQuZ,IAAmBA,EAActZ,SAfzD,CAAAxqB,EAAAD,KAAA,GAAA,MAAA,OAAAC,EAAA82B,OAAA,SAgBWr3B,QAAQE,OAAO,IAAA++B,EAAiB,6CAhB3C,KAAA,GAAA,OAAA1+B,EAAA82B,OAAA,SAmBSrS,EAAKtC,YAAYxC,EAAAA,CACtB7E,IAAK+oB,EAAkBjb,YACvB/I,OAAQ,MACRE,YAAa8jB,EAAkB9jB,cAEhC3f,KAAK,SAAA4jC,GAEJ,OAAAhkC,EAAaikC,MAAQH,EAAc5b,OAAO+b,IACjCD,EAEFvkC,QAAQE,OAAO,IAAA++B,EAAiB,6DAExChd,MAAM,SAASI,GAEZ,IAAAphB,EADF,GAAIohB,EAAIrD,MAA2B,MAAnBqD,EAAIrD,IAAImD,QAAqC,MAAnBE,EAAIrD,IAAImD,UAE5CE,EAAIrD,IAAIsC,SAAWvH,EAAKrS,WAAW2a,EAAIrD,IAAIsC,QAAQrd,MAAQoe,EAAIrD,IAAIsC,QAAQrd,IAAI,oBACjFwgC,EAAqBpiB,EAAIrD,IAAIsC,QAAQrd,IAAI,oBAChC8V,EAAKrS,WAAW2a,EAAIrD,IAAI0lB,qBACjCD,EAAqBpiB,EAAIrD,IAAI0lB,kBAAkB,qBAE7CD,GAAoB,CACtB,IAAA1rB,EAAmB0rB,EAAmBnsB,MAAM,kBAAA,GACxCqsB,EAA0BF,EAAmBnsB,MAAM,8BAAA,GACnDqM,EAAQigB,EAAa,GACrBC,EAAmBF,EAAwB,GAC3ChgB,GAASkgB,IACXxiB,EAAM,IAAAqd,EAAe/a,EAAOkgB,IAIlC,MAAAtkC,KAjDJ,KAAA,GAAA,IAAA,MAAA,OAAAA,EAAA+2B,SAAA/2B,OvBg6HsBK,MAAMiB,KAAM4M,WAt2BlC,IAAA61B,EAA0BnrB,EAAoB,GAE1C2c,EAAoB3c,EAAoB,GuBr0HxC6L,EAAgBnV,EAAQ,GACxBkK,EAAgBlK,EAAQ,GACxBmmB,EAAgBnmB,EAAQ,IACxBi1B,EAAgBj1B,EAAQ,IACxB0P,EAAgB1P,EAAQ,GACxBk1B,EAAgBl1B,EAAQ,IACxBkS,EAAgBlS,EAAQ,GACxB8Q,EAAgB9Q,EAAQ,GAA4ByH,QACpDwoB,EAAgBjwB,EAAQ,IAszB5B5D,EAAOH,QAAAA,CACL2oB,YApzBF,SAAqBvU,EAAKgU,GACxB,OAAAl0B,QAAeC,UACdU,KAAK,WACJ,IAAKuzB,IAAUA,EAAM5T,YACnB,MAAA,IAAA2e,EAAuB,2CAEzB,IAAAlmB,EAAemH,EAAIC,QAAQxI,SAC3B,IAAKA,EACH,MAAA,IAAAsnB,EAAuB,8EAEzB,IAAAn9B,EAAgBk0B,EAAU/M,aAAa/I,GAAKoJ,UACxChJ,EAAc4T,EAAM5T,YACpB3M,EAAOoG,EAAK+B,cAAAA,CAEdkpB,gBAAiB,eACjB9Q,MAAO5T,IACNhU,MAAM,GACL24B,EAAQ/qB,KAAKvC,GACjB,OAAAxW,EAAYwhB,KAAKzC,EAAKoJ,EAAW3V,EAAAA,CAC/B2N,QAAAA,CACEH,eAAgB,oCAChBI,cAAiB,SAAW0jB,QAgyBlC7E,SAAUA,EACVjM,iBAAkBA,EAClBC,aA1QF,SAAsBlU,EAAKC,GACzB,OAAuB,EAAvB1R,UAAcrM,OACLpC,QAAQE,OAAO,IAAA++B,EAAiB,0EAEzC9e,EAAUpG,EAAK6C,MAAMuD,IAAAA,GACrBpG,EAAKuC,OAAO6D,EAAAA,CACVyJ,QAAS,QACTqJ,aAAc,sBAETmN,EAASlgB,EAAKC,KAkQrBkU,gBA9LF,SAAyBnU,EAAKC,GAC5B,OAAuB,EAAvB1R,UAAcrM,OACLpC,QAAQE,OAAO,IAAA++B,EAAiB,6EAEzC9e,EAAUpG,EAAK6C,MAAMuD,IAAAA,GAEd8hB,EAAmB/hB,EAAKC,GAC5Bxf,KAAK,SAAS6+B,GACb,IAAA19B,EAAWk0B,EAAU/M,aAAa/I,EAAKC,GACnCiiB,EAAazC,EAAKzW,aAAemZ,EAAqB7C,GAG1D7e,EAAQ7c,IAAIie,EAAUnC,kCAAmC/C,KAAKC,UAAAA,CAC5DtF,aAAcgoB,EAAYhoB,aAC1BogB,MAAO4H,EAAY5H,MACnBhP,MAAO4W,EAAY5W,MACnB5R,OAAQwoB,EAAYxoB,OACpBW,SAAU6nB,EAAY7nB,SACtBgoB,KAAMA,EACNtM,gBAAiBmM,EAAYnM,kBAC3B,KAAMnT,EAAIC,QAAQQ,SAGtBA,EAAQ7c,IAAIie,EAAUjC,2BAA4B0f,EAAY5W,MAAO,KAAM1I,EAAIC,QAAQQ,SAGvFA,EAAQ7c,IAAIie,EAAUlC,2BAA4B2f,EAAY5H,MAAO,KAAM1X,EAAIC,QAAQQ,SAEvFT,EAAIgU,MAAMG,gBAAgBW,aAAaoN,OAmK3C9N,aA5GF,SAAsBpU,EAAKC,GACzBA,EAAUA,GAAAA,GACNpG,EAAKuB,SAAS6E,KAChBA,EAAAA,CAAY9E,IAAK8E,IAInB,IAAApH,EAAImsB,EAAsBhlB,EAAIC,QAAQ4S,KAAO,QAAU,WAEnD1X,EAAM8E,EAAQ9E,IACd4X,EAAe9S,EAAQ8S,cAAgB/S,EAAIC,QAAQ8S,cAAgBiS,EACnEpB,EAAY5jB,EAAIgU,MAAMI,aAAaa,eASvC,KALEgQ,EADmB,UAAjBlS,EACS5X,EAAMA,EAAIsP,UAAUtP,EAAI3D,QAAQ,MAAQosB,EAAUI,OAElD7oB,EAAMA,EAAIsP,UAAUtP,EAAI3D,QAAQ,MAAQosB,EAAUl6B,MAI7D,OAAA5J,QAAeE,OAAO,IAAA++B,EAAiB,yCAGzC,IAAA3c,EAAwB3B,EAAQ1c,IAAI8d,EAAUnC,mCAC9C,IAAKwlB,EACH,OAAAplC,QAAeE,OAAO,IAAA++B,EAAiB,oDAGzC,IACE,IAAApa,EAAkBhI,KAAKE,MAAMqoB,GACzBzF,EAAOH,EAAYG,YAAAA,EACJA,KACnBhf,EAAQmB,OAAOC,EAAUnC,mCACzB,MAAMrf,GACN,OAAAP,QAAeE,OAAO,IAAA++B,EAAiB,uBACvCld,EAAUnC,kCAAoC,YAAcrf,EAAE0e,UAGhE,OAAAjf,QAAeC,QAAQ+1B,EAAU1L,kBAAkB6a,IAChDxkC,KAAK,SAAS6gB,GAKb,OAAAxI,IAFmB,UAAjBia,EAA2BoS,EAAanlB,GAAOolB,EAAWplB,IAErDqlB,EAAoBrlB,EAAKsf,EAAahe,EAAKme,MAgEtDpL,YAAaA,EACbI,WAjKF,SAAoBzU,EAAKgU,GACvB,OAAK8B,EAAUlL,QAAQoJ,IAcvBnb,EARImH,EAAIC,QAAQ4S,KACC,OACNmB,EAAM5T,YACA,QAEA,WAGV6T,EAAiBjU,EAAAA,CACtB1I,aAAcA,EACdR,OAAQkd,EAAMld,OACdkS,aAAcgL,EAAMhL,aACpBC,YAAa+K,EAAM/K,YACnBnR,OAAQkc,EAAMlc,SAEfrX,KAAK,SAAS6gB,GAEb,IAAAzI,EAAayI,EAAIwf,OACjB,OAAA//B,EAAa8pB,QAAUiW,EAAOjW,QAAUiW,EAAO1gB,eAvB/CtgB,QAAeE,OAAO,IAAA++B,EAAiB,uFAIzC,IAAAlmB,GA4JA6b,YvBmwHF,SAAAr0B,EAAAU,EAAA8X,GACE,OAAAqY,EAAoBxwB,MAAMiB,KAAM4M,YuBnwHhCqmB,YAAaA,EACbyQ,oBAAqBA,EACrBtD,mBAAoBA,IvBm3HhB,SAAUh2B,EAAQH,EAASqN,GwB/rJjC,IAAAF,EAAWpJ,EAAQ,GAmDnB5D,EAAOH,QAAAA,CACLuzB,YAlDF,SAAqBplB,GACnB,IAAAhZ,GAAA,IAAay1B,aAAkB8O,OAAOvrB,GACtC,OAAAsc,OAAcC,OAAOiP,OAAO,UAAWr5B,GAAQzL,KAAK,SAASiM,GAC3D,IACI84B,EADY,IAAAh5B,WAAeE,GACLN,MAAM,EAAG,IAC/B1C,EAAO4H,OAAO8c,aAAa1tB,MAAM,KAAM8kC,GAE3C,OAAAzsB,EADgBe,kBAAkBpQ,MA6CpCkrB,YAxCF,SAAqB/J,EAASloB,GAC5BA,EAAMkX,EAAK6C,MAAM/Z,GAEjB,IAAAkW,EAAA,CAEES,KAAM,oBACN5P,KAAAA,CAAQ4P,KAAM,YAGZmsB,EAAAA,CAAU,UAOd,cAAA1kC,EAFW2kC,IAEJrP,OAAOC,OAAOqP,UAbR,MAeXhjC,EACAijC,GAAAA,EAEAH,GAEDhlC,KAAK,SAASolC,GACb,IAAAjkC,EAAUipB,EAAQ7T,MAAM,KACpB6nB,EAAUhlB,EAAKa,eAAeikB,EAAI,GAAK,IAAMA,EAAI,IACjDmH,EAAejsB,EAAKe,gBAAgB+jB,EAAI,IACxCG,EAAYjlB,EAAKa,eAAeorB,GAEpC,OAAAzP,OAAcC,OAAO3B,OACnBiR,EACAC,EACA/G,EACAD,QxB6sJA,SAAU9yB,EAAQH,GyB3vJxB,SAAAiN,EAAoBmG,EAAW+mB,GAC7BpkC,KAAK2X,KAAO,aACZ3X,KAAKod,QAAUgnB,EAEfpkC,KAAKqd,UAAYA,EACjBrd,KAAKsd,aAAe8mB,EAEtBlB,EAAW9hC,UAAY,IAAAqT,MAEvBrK,EAAOH,QAAUi5B,GzB2wJX,SAAU94B,EAAQH,EAASqN,G0BxwJjC,SAAArX,EAAkBokC,GAChB,OAAQ,IAAMA,EAAI1gC,SAAS,KAAK2gC,QAAQ,GAG1C,SAAAntB,EAAyB5W,GACvB,IAAAnB,EAAQ,IAAAyL,WAAemH,KAAKuyB,KAAKhkC,EAAS,IAG1C,OAAAm0B,OAFO8P,gBAAgB/jB,GACbtf,MAAMsjC,KAAKhkB,EAAGikB,GAASvqB,KAAK,IAC3B1P,MAAM,EAAGlK,GAWtB,SAAA0X,EAAoBoG,EAAKC,GAEvB,OAAAlf,EADU8Y,EAAKuC,OAAAA,GAAW4D,EAAIC,QAAQQ,QAASR,GACxCD,EAAIC,QAAQK,YAAYgmB,eAAermB,GA0ChD,SAAAjH,EAAyButB,GAEvB,IAAKA,EAAa9uB,SAChB,MAAA,IAAA4B,EAAuB,2EAGzB,IAAKktB,EAAa5uB,YAChB,MAAA,IAAA0B,EAAuB,sEAGzB,IAAKktB,EAAa5G,kBAChB,MAAA,IAAAtmB,EAAuB,6EAGzB,IAAKktB,EAAaxG,aAChB,MAAA,IAAA1mB,EAAuB,iFAI3B,SAAAM,EAAqBsG,GAEnB,IAAAlf,EAAa8Y,EAAK2C,WAAAA,CAChB9E,UAAauI,EAAQxI,SACrBG,aAAgBqI,EAAQtI,YACxB6uB,WAAc,qBACd9G,KAAQzf,EAAQ0f,kBAChB8G,cAAiBxmB,EAAQ8f,eAG3B,OAAA7mB,EAAY0C,cAAcyK,GAAQja,MAAM,GAtG1C,IAAAiN,EAAoB1J,EAAQ,GACxBmV,EAAgBnV,EAAQ,GACxBkK,EAAgBlK,EAAQ,GAuH5B5D,EAAOH,QAAAA,CACLw3B,8BAlHkC,OAmHlCE,iBAtGF,SAA0BoD,GACxB,IAAA3lC,EAAe2lC,GAAU,GAIzB,OAAA3lC,EAHamB,OAjBW,KAkBtBykC,GAAsBC,EAlBA,GAkBsCD,EAASzkC,SAEhE2Z,mBAAmB8qB,GAAUv6B,MAAM,EAnBlB,MAqHxB+zB,UAnEF,SAAmBngB,GACHW,EAAWX,GACjBoE,gBAkERmf,SA3FF,SAAkBvjB,EAAKggB,GACPrf,EAAWX,GACjBmE,WAAW6b,IA0FnBH,SAvFF,SAAkB7f,GAChB,IAAAjf,EAAc4f,EAAWX,GACrB3E,EAAMjE,EAAQuJ,aAElB,IAAKtF,EAAI0kB,eAGP3oB,EAAUuJ,EAAWX,EAAAA,CAAO+C,oBAAAA,MAC5B1H,EAAMjE,EAAQuJ,cACLof,cAGP,MAAA,IAAA1mB,EAAuB,iDAG3B,OAAAR,GAyEA2qB,iBAhEF,SAA0BzpB,GACxB,IAAAhZ,GAAA,IAAay1B,aAAkB8O,OAAOvrB,GACtC,OAAAsc,OAAcC,OAAOiP,OAAO,UAAWr5B,GAAQzL,KAAK,SAASiM,GAC3D,IAAA3L,EAAWuQ,OAAO8c,aAAa1tB,MAAM,KAAM,IAAA8L,WAAeE,IAE1D,OAAAwM,EADgBY,kBAAkBpQ,MA6DpCw2B,SAtBF,SAAkBlgB,EAAKumB,EAAc9G,GACnCoH,EAAgBN,GAChB,IAAA3kC,EAAWklC,EAAYP,GAEvB,OAAAvlC,EAAYwhB,YAAYxC,EAAAA,CACtB7E,IAAKskB,EAAKvW,SACVhJ,OAAQ,OACRzM,KAAMxQ,EACNod,iBAAAA,EACAe,QAAAA,CACEH,eAAgB,0C1B6zJhB,SAAUlV,EAAQH,EAASqN,G2Bp6JjC,SAAArX,EAAuBmlC,EAAc/S,GAEnC,OAAAjzB,EADuB+f,UAAYimB,EAAa9mB,QAAQ+mB,mBAI1D,SAAAluB,EAAoBiuB,EAAc/S,GAEhC,OAAApyB,EAD+BmlC,EAAc/S,IACxB+S,EAAaE,MAAM3yB,MAO1C,SAAAsF,EAAmBmtB,EAActiB,GAC/BsiB,EAAatR,QAAQkI,KAAK,QAASlZ,GAGrC,SAAArC,EAAiC2kB,EAAcpkC,GAC7Cs1B,aAAa8O,EAAaG,eAAevkC,WAAAA,EACrBukC,eAAevkC,UAAAA,EAGfwkC,aAAaxkC,GAanC,SAAAyW,EAA+B4G,EAAK+mB,EAAcpkC,EAAKqxB,GACrD,IAAApa,EAAiBwtB,EAAcL,EAAc/S,GACzCqT,EAAuE,IAArD1zB,KAAKC,IAAI0zB,EAAaP,EAAaE,MAAM3yB,MAAO,GAGtEizB,EAAwBR,EAAcpkC,GAEtC,IAAAyW,EAAyBsF,WAAW,YAjCtC,SAAqBqoB,EAAcpkC,EAAKqxB,GACtC+S,EAAatR,QAAQkI,KAAK,UAAWh7B,EAAKqxB,GAiCxCwT,CAAYT,EAAcpkC,EAAKqxB,IAC9BqT,GAGHN,EAAaG,eAAevkC,GAAO8kC,EAGrC,SAAA5mC,EAAkCmf,EAAK+mB,EAAc3vB,GACnD,IACE,IAAAxV,EAAmBwV,EAAQuJ,aAC3B,MAAMtgB,GAIN,YAAAuZ,EADUmtB,EAAc1mC,GAI1B,IAAI,IAAAyY,KAAAlX,EACF,GAAK8lC,EAAatiC,eAAezC,GAAjC,CAGA,IAAAoW,EAAY2uB,EAAa/kC,GACzBglC,EAAsB3nB,EAAK+mB,EAAcpkC,EAAKqxB,IAIlD,SAAAhb,EAAagH,EAAK+mB,EAAc3vB,EAASzU,EAAKqxB,GAC5C,IAAAjb,EAAmB3B,EAAQuJ,aAC3B,IAAK9G,EAAKxT,SAAS2tB,KACdA,EAAMld,SACLkd,EAAMlT,WAAiC,IAApBkT,EAAMlT,YACzBkT,EAAMnJ,UAAYmJ,EAAM5T,YAC5B,MAAA,IAAA2L,EAAuB,4FAEzB2b,EAAa/kC,GAAOqxB,EACpB5c,EAAQ+M,WAAWujB,GACnBC,EAAsB3nB,EAAK+mB,EAAcpkC,EAAKqxB,GAGhD,SAAAra,EAAavC,EAASzU,GAEpB,OAAAtC,EAD2BsgB,aACPhe,GAGtB,SAAAmqB,EAAkB9M,EAAK+mB,EAAc3vB,EAASzU,GAC5C,OAAA,IAAA7C,QAAmB,SAASC,GAC1B,IAAA6Z,EAAY7V,EAAIqT,EAASzU,GACzB,OAAAoW,EAAKib,GAAU4T,EAAWb,EAAc/S,GAIrB+S,EAAa9mB,QAAQ/I,UACpCsd,EAAMxU,EAAK+mB,EAAc3vB,EAASzU,GAClCmhB,EAAOijB,EAAc3vB,EAASzU,GALjBqxB,KAWrB,SAAA3a,EAAgB0tB,EAAc3vB,EAASzU,GAErC4kC,EAAwBR,EAAcpkC,GAGtC,IAAAf,EAAmBwV,EAAQuJ,oBAAAA,EACPhe,GACpByU,EAAQ+M,WAAWujB,GAGrB,SAAA1mC,EAAegf,EAAK+mB,EAAc3vB,EAASzU,GAEzC,IAAAmW,EAAsBiuB,EAAaI,aAAaxkC,GAChD,GAAIklC,EACF,OAAA/uB,EAGF,IACE,IAAAC,EAAYhV,EAAIqT,EAASzU,GACzB,IAAKqxB,EACH,MAAA,IAAAjI,EAAuB,8CAAgDppB,GAEzE,MAAOtC,GACP,OAAAP,QAAeE,OAAOK,GAkCxB,OAAA+hB,EA9BwB2kB,EAAcpkC,GAGtCokC,EAAaI,aAAaxkC,GAAOqd,EAAIgU,MAAMQ,MAAMR,GAC9CvzB,KAAK,SAASqnC,GACb,IAAA/uB,EAAehV,EAAIqT,EAASzU,GAC5B,GAAKolC,EAQL,OAAA/uB,EAFIgH,EAAK+mB,EAAc3vB,EAASzU,EAAKmlC,GACrCf,EAAatR,QAAQkI,KAAK,UAAWh7B,EAAKmlC,EAAYC,GAC/CD,IAER/lB,MAAM,SAASI,GAOd,KANiB,eAAbA,EAAI7I,MAAsC,iBAAb6I,EAAI7I,OACnCwK,EAAOijB,EAAc3vB,EAASzU,GAC9Bwf,EAAI6lB,SAAWrlC,EACfwf,EAAI/B,cAAgB4T,EAAM5T,YAC1B6nB,EAAUlB,EAAc5kB,IAEpBA,IAEPvD,QAAQ,kBAAA7d,EAEaomC,aAAaxkC,KAG9BokC,EAAaI,aAAaxkC,GAGnC,SAAAuW,EAAe6tB,EAAc3vB,IAzI7B,SAAoC2vB,GAClC,IAAAhmC,EAAqBgmC,EAAaG,eAClC,IAAK,IAAAruB,KAAA9X,EACEmmC,EAAe9hC,eAAezC,IAGnC4kC,EAAwBR,EAAcpkC,IAoIxCulC,CAA2BnB,GAC3B3vB,EAAQgN,e3BiwJV,IAAAviB,EAAcoX,EAAoB,G2Bn7J9BY,EAAOlK,EAAQ,GACf0P,EAAe1P,EAAQ,GACvB2Q,EAAc3Q,EAAQ,GACtBkS,EAAYlS,EAAQ,GACpBgT,EAAiBhT,EAAQ,GACzBw4B,EAAWx4B,EAAQ,IAEnBy4B,EAAAA,CACFlxB,WAAAA,EACAE,QAAS,eACT4vB,mBAAoB,IAkQtBj7B,EAAOH,QAvFP,SAAsBoU,EAAKC,GAazB,IAAApH,EACA,GAXwB,kBAFxBoH,EAAUpG,EAAKuC,OAAAA,GAAWgsB,EAAiBvuB,EAAK2C,WAAWyD,KAE/C7I,SAA+BkJ,EAAY2C,2BACrDpJ,EAAK1B,KAAK,2EACV8H,EAAQ7I,QAAU,kBAGI,mBAApB6I,EAAQ7I,SAAiCkJ,EAAY0C,6BACvDnJ,EAAK1B,KAAK,mFACV8H,EAAQ7I,QAAU,UAIW,WAA3BvV,EAAOoe,EAAQ7I,SAEjBixB,EAAkBpoB,EAAQ7I,aAAAA,OAEnB6I,EAAQ7I,SACb,IAAK,eACHixB,EAAkBllB,aAClB,MAAA,IACG,iBACHklB,EAAkBjlB,eAClB,MAAA,IACG,SAEHilB,EAAmB,SAASpoB,GAC1B,IAAAlf,EAAcuf,EAAY4C,iBAAiBjD,GAC3C,MAAA,CACEsD,QAAS,SAAS5gB,GAChB,IAAAkW,EAAWzB,EAAQmM,UACfrjB,EAAAA,GAMJ,OAAAyE,OALOgC,KAAK1D,GAAMoZ,QAAQ,SAAA0P,GACD,IAAnBA,EAAEvU,QAAQ7U,KACZzC,EAAM6rB,EAAE1kB,QAAF,GAAA4T,OAAatY,EAAb,KAAqB,KAAOga,KAAKE,MAAM5Z,EAAK8oB,OAG/CpP,KAAKC,UAAU1c,IAExBsjB,QAAS,SAAS7gB,EAAKzC,GACrB,IAAA0B,EAAqB+a,KAAKE,MAAMlb,KAAK4hB,QAAQ5gB,IAC7CzC,EAAQyc,KAAKE,MAAM3c,GAEnByE,OAAOgC,KAAKzG,GAAOmc,QAAQ,SAAA0P,GACzB,IAAAhT,EAAiBpW,EAAM,IAAMopB,EACzBuc,EAAe3rB,KAAKC,UAAU1c,EAAM6rB,IACxC3U,EAAQoM,QAAQ+kB,EAAYD,UAAAA,EACNvc,KAGxBpnB,OAAOgC,KAAK6hC,GAAgBnsB,QAAQ,SAAA0P,GAClCzL,EAAYlJ,QAAQwK,OAAOjf,EAAM,IAAMopB,OAzB5B,CA6BjB/L,EAAIC,QAAQQ,SACd,MAAA,IACG,SACH4nB,EAAkB/nB,EAAYmoB,qBAC9B,MAAA,QAEA,MAAA,IAAA1c,EAAuB,+BAG7B,IAAAnqB,EAAiBqe,EAAQsoB,YAAc1mB,EAAUhC,mBAC7CzI,EAAUuL,EAAe0lB,EAAiBE,GAE1CxB,EAAAA,CACFE,MAFUkB,EAASh7B,OAAO6S,EAAKC,GAG/BA,QAASA,EACTwV,QAASzV,EAAIyV,QACbyR,eAAAA,GACAC,aAAAA,IAGFxlC,KAAK+mC,IAAM7uB,EAAKgB,KAAK6tB,EAAK/mC,KAAMqe,EAAK+mB,EAAc3vB,GACnDzV,KAAKoC,IAAM8V,EAAKgB,KAAK8tB,EAAUhnC,KAAMqe,EAAK+mB,EAAc3vB,GACxDzV,KAAKmiB,OAASjK,EAAKgB,KAAKiJ,EAAQniB,KAAMolC,EAAc3vB,GACpDzV,KAAK+B,MAAQmW,EAAKgB,KAAKnX,EAAO/B,KAAMolC,EAAc3vB,GAClDzV,KAAK6yB,MAAQ3a,EAAKgB,KAAK2Z,EAAO7yB,KAAMqe,EAAK+mB,EAAc3vB,GACvDzV,KAAK+zB,GAAK7b,EAAKgB,KAAKksB,EAAatR,QAAQC,GAAIqR,EAAatR,SAC1D9zB,KAAK+7B,IAAM7jB,EAAKgB,KAAKksB,EAAatR,QAAQiI,IAAKqJ,EAAatR,SAE5DmT,EAAyB5oB,EAAK+mB,EAAc3vB,K3Bi9JxC,SAAUrL,EAAQH,EAASqN,G4BtuKjC,SAAArX,EAAkBinC,GAEhBlnC,KAAKknC,YAAcC,SAASD,GAAe,GAJlCl5B,EAAQ,GAOdyM,OAAO+rB,EAASplC,UAAAA,CAEnBuR,IAAK,WAEH,OADWD,KAAKC,MAAQ3S,KAAKknC,aAAe,OAMhDV,EAASh7B,OAAS,WAGhB,OAAA,IAAAvL,EADkB,IAIpBmK,EAAOH,QAAUu8B,G5B+uKX,SAAUp8B,EAAQH,EAASqN,G6BhwKjC,SAAArX,IACED,KAAKonC,MAAAA,GACLpnC,KAAKqnC,SAAAA,EAPP,IAAAlwB,EAAWnJ,EAAQ,GAUnBkK,EAAKuC,OAAOyY,EAAa9xB,UAAAA,CAIvBZ,KAAM,WAA4C,IAAA9B,EAAAsB,KAC5C8R,EAAO3Q,MAAMC,UAAUqJ,MAAMpK,KAAKuM,WAClC2R,EAASzM,EAAK,GACdw1B,EAAax1B,EAAK,GAEtB,OAAA1S,EADO0S,EAAKrH,MAAM,GACX,IAAAtM,QAAY,SAACC,EAASC,GAC3BK,EAAK0oC,MAAM5mC,KAAAA,CACT+d,OAAAA,EACA+oB,WAAAA,EACAx1B,KAAAA,EACA1T,QAAAA,EACAC,OAAAA,IAEFK,EAAK6oC,SAGTA,IAAK,WAAW,IAAA7oC,EAAAsB,KACd,IAAIA,KAAKqnC,SAGiB,IAAtBrnC,KAAKonC,MAAM7mC,OAAf,CAGAP,KAAKqnC,SAAAA,EACL,IAAAjoC,EAAgBY,KAAKonC,MAAMjd,QACvBxK,EAAM6nB,EAAUjpB,OAAOxf,MAAMyoC,EAAUF,WAAYE,EAAU11B,MAC7DoG,EAAK8E,UAAU2C,GACjBA,EAAI7gB,KAAK0oC,EAAUppC,QAASopC,EAAUnpC,QAAQ4e,QAAQ,WACpDve,EAAK2oC,SAAAA,EACL3oC,EAAK6oC,SAGPC,EAAUppC,QAAQuhB,GAClB3f,KAAKqnC,SAAAA,EACLrnC,KAAKunC,WAKXn9B,EAAOH,QAAUipB,iHCRJuU,qCAAc,IAAIC,KAAAA,eAA2B,wBC7C1DC,iBACU,qBADVA,oBAEa,mCCoCT,SAAAC,gBAAiC1yB,OAA4B2yB,UAA7D,IAAAC,MAAA9nC,KAA6DA,KAAA6nC,SAAAA,SAC3D7nC,KAAK+nC,UAAY,GAKjB/nC,KAAKkV,OAASlS,OAAO8yB,OAAO,GAAI5gB,QAChClV,KAAKkV,OAAOC,OAASnV,KAAKkV,OAAOC,QAAU,CAAC,SAAU,SAIjDnV,KAAKkV,OAAOmc,mBACfrxB,KAAKkV,OAAOmc,iBAAmBrxB,KAAKgoC,MAAM9uB,KAAKlZ,OAOjDA,KAAKioC,YAAYjoC,KAAKkV,OAAOC,QAG7Be,MAAalW,KAAKkV,OAAOiB,OAAQnW,KAAKkV,OAAOkB,SAC7CM,MAAe1W,KAAKkV,OAAOY,UAC3Be,MAAkB7W,KAAKkV,OAAOc,aAE9BhW,KAAKkoC,SAAW,IAAIzL,SAASz8B,KAAKkV,QAClClV,KAAKkoC,SAAS1oB,UAAemoB,iBAAgB,IAAIA,oBAAmB,IAAI3nC,KAAKkoC,SAAS1oB,UACtFxf,KAAKmoC,qBAAuB,IAAIC,KAAAA,WAAW,SAACC,UAAkCP,MAAKC,UAAUvnC,KAAK6nC,YAiLxG,OA9KIT,gBAAAxmC,UAAA4mC,MAAA,SAAMM,QAAkBC,kBACtBvoC,KAAKwoC,WAAWF,aACVG,eAAmDzoC,KAAKkV,OAAOuzB,eACrE,OAAIA,eACKA,eAAezoC,KAAMA,KAAK6nC,UAE5B7nC,KAAK0oC,mBAAchnC,EAAW6mC,mBAGvCX,gBAAAxmC,UAAAunC,gBAAA,WACE,OAAO3oC,KAAKkoC,SAAS5yB,cAOjBsyB,gBAAAxmC,UAAAwnC,gBAAN,+IAEE,OAAI5oC,KAAKkV,OAAO0zB,gBACd,CAAA,EAAQ5oC,KAAKkV,OAAsB,mBAGjB,CAAA,EAAMlV,KAAK6oC,yBACf,OADVpqB,YAAcqqB,GAAAtpC,OACJ,CAAA,EAAMQ,KAAK+oC,qBAC3B,OADM7f,QAAU4f,GAAAtpC,OAChB,CAAA,KAAUif,cAAeyK,gBAGb0e,gBAAAxmC,UAAA4nC,wBAAd,SAAsCjT,kGACpC/1B,KAAK+nC,UAAUrtB,QAAQ,SAAA2tB,UAAY,OAAAA,SAAS5pC,KAAKs3B,kBAM7C6R,gBAAAxmC,UAAAynC,eAAN,uHAEqC,8BAAA,CAAA,EAAM7oC,KAAKkoC,SAAS5yB,aAAalT,IAAI,uBACtE,MAAA,CAAA,EADiC0mC,GAAAtpC,OACdif,oBAKnB,iBAAA,CAAA,OAAO/c,0BAOLkmC,gBAAAxmC,UAAA2nC,WAAN,uHAE6B,8BAAA,CAAA,EAAM/oC,KAAKkoC,SAAS5yB,aAAalT,IAAI,mBAC9D,MAAA,CAAA,EADyB0mC,GAAAtpC,OACV0pB,gBAKf,iBAAA,CAAA,OAAOxnB,0BAQLkmC,gBAAAxmC,UAAA6nC,QAAN,+IACmC,MAAA,CAAA,EAAMjpC,KAAKkoC,SAAS5yB,aAAalT,IAAI,uBAC7C,OADnBqc,YAA2BqqB,GAAAtpC,OACR,CAAA,EAAMQ,KAAKkoC,SAAS5yB,aAAalT,IAAI,mBAC9D,OADM8mB,QAAmB4f,GAAAtpC,OACpBif,aAAgByK,QAIrB,CAAA,EAAOlpB,KAAKkoC,SAAS7V,MAAMU,eAFzB,CAAA,EAAO7J,QAAUA,QAAQtC,YAASllB,SAQtCkmC,gBAAAxmC,UAAA8nC,cAAA,WACE,OAAOlpC,KAAKkV,QAQd0yB,gBAAAxmC,UAAAsnC,cAAA,SAAcJ,QAAkBC,kBAC1BD,SACFtoC,KAAKwoC,WAAWF,aAGZ5jB,OAAS1hB,OAAO8yB,OAAO,CAC3B3gB,OAAQnV,KAAKkV,OAAOC,OACpBQ,aAAc3V,KAAKkV,OAAOS,cACzB4yB,kBAEH,OAAOvoC,KAAKkoC,SAAS7V,MAAMG,gBAAgB9N,SAQ7CkjB,gBAAAxmC,UAAAonC,WAAA,SAAWF,SAIiB,OAF1BA,QAAUA,SAAWtsB,OAAOuM,SAAS9E,MAEzBoF,OAAO,KACjByf,QAAUtsB,OAAOuM,SAASqN,OAAS0S,SAErC7mB,eAAeI,QAAQ,eAAgBymB,UAMzCV,gBAAAxmC,UAAA+nC,WAAA,eACQb,QAAU7mB,eAAeG,QAAQ,iBAAmB5F,OAAOuM,SAASqN,OAE1E,OADAnU,eAAeM,WAAW,gBACnBumB,SAMHV,gBAAAxmC,UAAAgoC,qBAAN,sIACc,MAAA,CAAA,EAAMppC,KAAKkoC,SAAS7V,MAAMI,uBAQlC,OARE9S,IAAMmpB,GAAAtpC,QACN2/B,OAASxf,IAAIwf,QACR1gB,aACTze,KAAKkoC,SAAS5yB,aAAayxB,IAAI,cAAe5H,OAAkB,aAE9DA,OAAOjW,SACTlpB,KAAKkoC,SAAS5yB,aAAayxB,IAAI,UAAW5H,OAAc,SAEtD,CAAA,EAAMn/B,KAAK4oC,iCAAXE,GAAAtpC,QACFQ,KAAKgpC,yBAAwB,aAS3BpB,gBAAAxmC,UAAAioC,OAAN,SAAa/qB,qIAaX,OAZItI,YAAc,KAEK,iBADvBsI,QAAUA,SAAW,MAIW,OAF9BtI,YAAcsI,SAEEuK,OAAO,KACrB7S,YAAcgG,OAAOuM,SAASqN,OAAS5f,aAEzCsI,QAAU,CACR6S,sBAAuBnb,cAG3B,CAAA,EAAMhW,KAAKkoC,SAASxS,QAAQpX,wBAA5BwqB,GAAAtpC,OACAQ,KAAKgpC,yBAAwB,aAO/BpB,gBAAAxmC,UAAA6mC,YAAA,SAAY9yB,QACsB,GAA5BA,OAAOU,QAAQ,WAGnBV,OAAOm0B,QAAQ,6CAlNpBC,KAAAA,6FAOgBC,KAAAA,OAAM13B,KAAA,CAAC21B,sBA1BKgC,KAAAA,YAuO7B7B,oDC7NE,SAAA8B,sBAAoBC,MAAA3pC,KAAA2pC,KAAAA,KAkBtB,OAhBQD,sBAAAtoC,UAAAwoC,SAAN,8GAIE,MAAA,CAAA,EAAO5pC,KAAK2pC,KAAKP,uBACdtqC,KAAK,eAIEwpC,QAAUR,MAAK6B,KAAKR,aAC1BntB,OAAOuM,SAAS7iB,QAAQ4iC,WAEzBloB,MAAM,SAAA1hB,GACLopC,MAAKhlB,MAAQpkB,EAAEiF,2DArBtBkmC,KAAAA,UAAS/3B,KAAA,CAAC,CACT4qB,SAAU,wFAHHkL,mBA0BT8B,+DCvBE,SAAAI,2BAAoBH,MAAA3pC,KAAA2pC,KAAAA,KAItB,OAHQG,2BAAA1oC,UAAAwoC,SAAN,+FACE,MAAA,CAAA,EAAO5pC,KAAK2pC,KAAKjB,mEAJpBmB,KAAAA,UAAS/3B,KAAA,CAAC,CAAE4qB,SAAU,yEAFdkL,mBAQTkC,uDCIE,SAAAC,cAAoB7B,SAAmCL,UAAnC7nC,KAAAkoC,SAAAA,SAAmCloC,KAAA6nC,SAAAA,SAwCzD,OAhCQkC,cAAA3oC,UAAA4oC,YAAN,SAAkBC,MAA+BlU,sIAC3C,MAAA,CAAA,EAAM/1B,KAAKkoC,SAASU,0BAAxB,OAAIE,GAAAtpC,OACF,CAAA,GAAO,IAOHipC,eAAuCwB,MAAM3oC,KAAqB,gBAAKtB,KAAKkoC,SAASgB,gBAAgBT,eAK3GzoC,KAAKkoC,SAASM,WAAWzS,MAAMvc,KAE3BivB,eACFA,eAAezoC,KAAKkoC,SAAUloC,KAAK6nC,UAEnC7nC,KAAKkoC,SAASQ,gBAGhB,CAAA,GAAO,UAGHqB,cAAA3oC,UAAA8oC,iBAAN,SACED,MACAlU,2FAEA,MAAA,CAAA,EAAO/1B,KAAKgqC,YAAYC,MAAOlU,6CAvClCwT,KAAAA,kEAHQ3B,uBARY6B,KAAAA,YAqDrBM,0BC7DgBI,kBAAkBj1B,OAAoB2yB,UACpD,OAAO,IAAID,gBAAgB1yB,OAAQ2yB,iBC4BnBsC,kBAblBC,eAAA,WAAA,SAAAA,kBAuBA,wCAvBCC,KAAAA,SAAQv4B,KAAA,CAAC,CACRw4B,aAAc,CACZZ,sBACAI,4BAEF7/B,QAAS,CACPy/B,sBACAI,4BAEFS,UAAW,CACTR,cACA,CACES,QAAS5C,gBACT6C,WAAUC,GACVC,KAAM,CACJlD,YACAgC,KAAAA,gBAORW,eAvBA","file":"okta-angular.umd.min.js.map","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*!\n * Copyright (c) 2018-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar merge = require('lodash/merge');\n\nvar ConfigurationValidationError = function (_Error) {\n  _inherits(ConfigurationValidationError, _Error);\n\n  function ConfigurationValidationError() {\n    _classCallCheck(this, ConfigurationValidationError);\n\n    return _possibleConstructorReturn(this, (ConfigurationValidationError.__proto__ || Object.getPrototypeOf(ConfigurationValidationError)).apply(this, arguments));\n  }\n\n  return ConfigurationValidationError;\n}(Error);\n\nvar configUtil = module.exports;\n\nvar findDomainURL = 'https://bit.ly/finding-okta-domain';\nvar findAppCredentialsURL = 'https://bit.ly/finding-okta-app-credentials';\n\nvar copyCredentialsMessage = 'You can copy it from the Okta Developer Console ' + 'in the details for the Application you created. ' + ('Follow these instructions to find it: ' + findAppCredentialsURL);\n\nvar isHttps = new RegExp('^https://');\nvar hasProtocol = new RegExp('://');\nvar hasDomainAdmin = /-admin.(okta|oktapreview|okta-emea).com/;\nvar hasDomainTypo = new RegExp('(.com.com)|(://.*){2,}');\nvar endsInPath = new RegExp('/$');\n\nconfigUtil.buildConfigObject = function (config) {\n  // See all supported options: https://github.com/okta/okta-auth-js#configuration-reference\n  // Support for parameters with an underscore will be deprecated in a future release\n  // camelCase was added 2/11/2019: https://github.com/okta/okta-oidc-js/commit/9b04ada6a01c9d9aca391abf0de3e5ecc9811e64\n\n  config = config || {}; // accept empty\n\n  // Legacy support: allow a property named 'scope' to be either an array or a string.\n  var scopes = config.scopes;\n  if (!scopes && config.scope) {\n    if (Array.isArray(config.scope)) {\n      scopes = config.scope;\n    } else {\n      scopes = config.scope.split(/\\s+/);\n    }\n  }\n\n  // Legacy support: allow TokenManager config 'autoRenew' and 'storage' to be defined at top-level\n  var tokenManager = config.tokenManager;\n  var autoRenew = config.autoRenew || config.auto_renew;\n  var storage = config.storage;\n  if (storage || autoRenew) {\n    // Properties already defined within the \"tokenManager\" section will not be overwritten\n    tokenManager = merge({\n      autoRenew: autoRenew,\n      storage: storage\n    }, tokenManager || {});\n  }\n\n  // Legacy support: allow 'responseType' to be a string or an array\n  var responseType = config.responseType || config.response_type;\n  if (typeof responseType === 'string' && responseType.indexOf(' ') >= 0) {\n    responseType = responseType.split(/\\s+/);\n  }\n\n  var normalizedConfig = merge({}, config, {\n    clientId: config.clientId || config.client_id,\n    redirectUri: config.redirectUri || config.redirect_uri,\n    responseType: responseType,\n    scopes: scopes,\n    tokenManager: tokenManager\n  });\n\n  return normalizedConfig;\n};\n\nconfigUtil.assertIssuer = function (issuer) {\n  var testing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var copyMessage = 'You can copy your domain from the Okta Developer ' + 'Console. Follow these instructions to find it: ' + findDomainURL;\n\n  if (testing.disableHttpsCheck) {\n    var httpsWarning = 'Warning: HTTPS check is disabled. ' + 'This allows for insecure configurations and is NOT recommended for production use.';\n    /* eslint-disable-next-line no-console */\n    console.warn(httpsWarning);\n  }\n\n  if (!issuer) {\n    throw new ConfigurationValidationError('Your Okta URL is missing. ' + copyMessage);\n  } else if (!testing.disableHttpsCheck && !issuer.match(isHttps)) {\n    throw new ConfigurationValidationError('Your Okta URL must start with https. ' + ('Current value: ' + issuer + '. ' + copyMessage));\n  } else if (issuer.match(/{yourOktaDomain}/)) {\n    throw new ConfigurationValidationError('Replace {yourOktaDomain} with your Okta domain. ' + copyMessage);\n  } else if (issuer.match(hasDomainAdmin)) {\n    throw new ConfigurationValidationError('Your Okta domain should not contain -admin. ' + ('Current value: ' + issuer + '. ' + copyMessage));\n  } else if (issuer.match(hasDomainTypo)) {\n    throw new ConfigurationValidationError('It looks like there\\'s a typo in your Okta domain. ' + ('Current value: ' + issuer + '. ' + copyMessage));\n  }\n};\n\nconfigUtil.assertClientId = function (clientId) {\n  if (!clientId) {\n    throw new ConfigurationValidationError('Your client ID is missing. ' + copyCredentialsMessage);\n  } else if (clientId.match(/{clientId}/)) {\n    throw new ConfigurationValidationError('Replace {clientId} with the client ID of your Application. ' + copyCredentialsMessage);\n  }\n};\n\nconfigUtil.assertClientSecret = function (clientSecret) {\n  if (!clientSecret) {\n    throw new ConfigurationValidationError('Your client secret is missing. ' + copyCredentialsMessage);\n  } else if (clientSecret.match(/{clientSecret}/)) {\n    throw new ConfigurationValidationError('Replace {clientSecret} with the client secret of your Application. ' + copyCredentialsMessage);\n  }\n};\n\nconfigUtil.assertRedirectUri = function (redirectUri) {\n  if (!redirectUri) {\n    throw new ConfigurationValidationError('Your redirect URI is missing.');\n  } else if (redirectUri.match(/{redirectUri}/)) {\n    throw new ConfigurationValidationError('Replace {redirectUri} with the redirect URI of your Application.');\n  }\n};\n\nconfigUtil.assertAppBaseUrl = function (appBaseUrl) {\n  if (!appBaseUrl) {\n    throw new ConfigurationValidationError('Your appBaseUrl is missing.');\n  } else if (appBaseUrl.match(/{appBaseUrl}/)) {\n    throw new ConfigurationValidationError('Replace {appBaseUrl} with the base URL of your Application.');\n  } else if (!appBaseUrl.match(hasProtocol)) {\n    throw new ConfigurationValidationError('Your appBaseUrl must contain a protocol (e.g. https://). Current value: ' + appBaseUrl + '.');\n  } else if (appBaseUrl.match(endsInPath)) {\n    throw new ConfigurationValidationError('Your appBaseUrl must not end in a \\'/\\'. Current value: ' + appBaseUrl + '.');\n  }\n};","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9c4c8aabd25ce0bb41bd","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global window, document, btoa, atob, Uint8Array */\nvar util = module.exports; // converts a string to base64 (url/filename safe variant)\n\nutil.stringToBase64Url = function (str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n}; // converts a standard base64-encoded string to a \"url/filename safe\" variant\n\n\nutil.base64ToBase64Url = function (b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}; // converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\n\n\nutil.base64UrlToBase64 = function (b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function (b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n\n  switch (b64.length % 4) {\n    case 0:\n      break;\n\n    case 2:\n      b64 += '==';\n      break;\n\n    case 3:\n      b64 += '=';\n      break;\n\n    default:\n      throw 'Not a valid Base64Url';\n  }\n\n  var utf8 = atob(b64);\n\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function (str) {\n  var buffer = new Uint8Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n\n  return buffer;\n};\n\nutil.base64UrlDecode = function (str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function (fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function (url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isoToUTCString = function (str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function (obj) {\n  var str = [];\n\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function (length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n\n  return random;\n};\n\nutil.extend = function () {\n  // First object will be modified!\n  var obj1 = arguments[0]; // Properties from other objects will be copied over\n\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function (obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function (obj) {\n  var cleaned = {};\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n\n  return cleaned;\n};\n\nutil.clone = function (obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n\n  return obj;\n}; // Analogous to _.omit\n\n\nutil.omit = function (obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n\n  return util.clone(newobj);\n};\n\nutil.find = function (collection, searchParams) {\n  var c = collection.length;\n\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function (obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]); // If a link has a name and we have an altName, return if they match\n\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function () {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function () {\n  var nativeConsole = util.getNativeConsole();\n\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n\n  return {\n    log: function log() {}\n  };\n};\n\nutil.warn = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function (text, fn) {\n  return function () {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function (path) {\n  if (!path) {\n    return;\n  } // Remove any whitespace before or after string\n\n\n  var trimmed = path.replace(/^\\s+|\\s+$/gm, ''); // Remove trailing slash(es)\n\n  trimmed = trimmed.replace(/\\/+$/, '');\n  return trimmed;\n};\n\nutil.isIE11OrLess = function () {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function (fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\nutil.delay = function (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\nutil.isPromise = function (obj) {\n  return obj && obj.finally && typeof obj.finally === 'function';\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\n\nAuthSdkError.prototype = new Error();\nmodule.exports = AuthSdkError;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_COOKIE_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage'\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = __webpack_require__(0);\n\nvar AuthApiError = __webpack_require__(19);\n\nvar constants = __webpack_require__(2);\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false,\n      // default value is true\n  storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions).then(function (resp) {\n    res = resp.responseText;\n\n    if (res && util.isString(res)) {\n      res = JSON.parse(res);\n    }\n\n    if (saveAuthnState) {\n      if (!res.stateToken) {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n    }\n\n    if (res && res.stateToken && res.expiresAt) {\n      storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n    }\n\n    if (res && options.cacheResponse) {\n      httpCache.updateStorage(url, {\n        expiresAt: Math.floor(Date.now() / 1000) + constants.DEFAULT_CACHE_DURATION,\n        response: res\n      });\n    }\n\n    return res;\n  }).catch(function (resp) {\n    var serverErr = resp.responseText || {};\n\n    if (util.isString(serverErr)) {\n      try {\n        serverErr = JSON.parse(serverErr);\n      } catch (e) {\n        serverErr = {\n          errorSummary: 'Unknown error'\n        };\n      }\n    }\n\n    if (resp.status >= 500) {\n      serverErr.errorSummary = 'Unknown error';\n    }\n\n    if (sdk.options.transformErrorXHR) {\n      resp = sdk.options.transformErrorXHR(util.clone(resp));\n    }\n\n    err = new AuthApiError(serverErr, resp);\n\n    if (err.errorCode === 'E0000011') {\n      storage.delete(constants.STATE_TOKEN_KEY_NAME);\n    }\n\n    throw err;\n  });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global localStorage, sessionStorage */\nvar Cookies = __webpack_require__(14);\n\nvar storageBuilder = __webpack_require__(6);\n\nvar constants = __webpack_require__(2);\n\nvar AuthSdkError = __webpack_require__(1); // Building this as an object allows us to mock the functions in our tests\n\n\nvar storageUtil = {}; // IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\n\nstorageUtil.browserHasLocalStorage = function () {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function () {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function (options) {\n  options = options || {};\n\n  if (!options.preferLocalStorage && storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function (options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function () {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function () {\n  return sessionStorage;\n}; // Provides webStorage-like interface for cookies\n\n\nstorageUtil.getCookieStorage = function (options) {\n  var secure = options.secure;\n  var sameSite = options.sameSite;\n\n  if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n    throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n  }\n\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function setItem(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', {\n        secure: secure,\n        sameSite: sameSite\n      });\n    }\n  };\n}; // Provides an in-memory solution\n\n\nstorageUtil.getInMemoryStorage = function () {\n  var store = {};\n  return {\n    getItem: function getItem(key) {\n      return store[key];\n    },\n    setItem: function setItem(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function (storage) {\n  var key = 'okta-test-storage';\n\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function set(name, value, expiresAt, options) {\n    var secure = options.secure;\n    var sameSite = options.sameSite;\n\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n    }\n\n    var cookieOptions = {\n      path: options.path || '/',\n      secure: secure,\n      sameSite: sameSite\n    }; // eslint-disable-next-line no-extra-boolean-cast\n\n    if (!!Date.parse(expiresAt)) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n  get: function get(name) {\n    return Cookies.get(name);\n  },\n  delete: function _delete(name) {\n    return Cookies.remove(name, {\n      path: '/'\n    });\n  }\n};\nmodule.exports = storageUtil;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar AuthSdkError = __webpack_require__(1); // storage must have getItem and setItem\n\n\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n\n    try {\n      return JSON.parse(storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      return setStorage({});\n    }\n\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(16);\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar AuthPollStopError = __webpack_require__(20);\n\nvar constants = __webpack_require__(2);\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options); // Add the stateToken if one isn't passed and we have one\n\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n\n  return sdk.tx.status(args).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction introspect(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n\n  return transactionStep(sdk, args).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args); // v1 pipeline introspect API\n\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    } // Get the poll function\n\n\n    var pollLink = util.getLink(res, 'next', 'poll');\n\n    function pollFn() {\n      var opts = {};\n\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        } catch (e) {\n          return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      } else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        } catch (e) {\n          return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      } else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false\n      });\n    }\n\n    ref.isPolling = true;\n    var retryCount = 0;\n\n    var recursivePoll = function recursivePoll() {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Promise.reject(new AuthPollStopError());\n      }\n\n      return pollFn().then(function (pollRes) {\n        // Reset our retry counter on success\n        retryCount = 0; // If we're still waiting\n\n        if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n          // If the poll was manually stopped while the pollFn was called\n          if (!ref.isPolling) {\n            throw new AuthPollStopError();\n          }\n\n          if (typeof transactionCallBack === 'function') {\n            transactionCallBack(pollRes);\n          } // Continue poll\n\n\n          return util.delay(delay).then(recursivePoll);\n        } else {\n          // Any non-waiting result, even if polling was stopped\n          // during a request, will return\n          ref.isPolling = false;\n          return new AuthTransaction(sdk, pollRes);\n        }\n      }).catch(function (err) {\n        // Exponential backoff, up to 16 seconds\n        if (err.xhr && (err.xhr.status === 0 || err.xhr.status === 429) && retryCount <= 4) {\n          var delayLength = Math.pow(2, retryCount) * 1000;\n          retryCount++;\n          return util.delay(delayLength).then(recursivePoll);\n        }\n\n        throw err;\n      });\n    };\n\n    return recursivePoll().catch(function (err) {\n      ref.isPolling = false;\n      throw err;\n    });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function (name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {\n        name: name\n      });\n\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n  } else if (link.hints && link.hints.allow && link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n\n    switch (method) {\n      case 'GET':\n        return function () {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function (opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              } catch (e) {\n                return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            } else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              } catch (e) {\n                return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            } else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n\n            data = util.omit(data, 'rememberDevice');\n          } else if (data.profile && data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n\n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n\n        if (fn) {\n          fns[linkName] = fn;\n        }\n\n    }\n  }\n\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    } // Flatten any nested _embedded objects\n\n\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  } // Convert any links on the embedded object\n\n\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken; // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function () {\n        return Promise.resolve(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window, document */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0);\n\nvar storageUtil = __webpack_require__(4);\n\nvar AuthSdkError = __webpack_require__(1);\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj && (obj.accessToken || obj.idToken) && Array.isArray(obj.scopes)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' + 'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  var authServerUri = issuer || sdk.options.issuer;\n  return http.get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  var httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n  return getWellKnown(sdk, issuer).then(function (wellKnown) {\n    var jwksUri = wellKnown['jwks_uri']; // Check our kid against the cached version (if it exists and isn't expired)\n\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    } // Remove cache for the key\n\n\n    httpCache.clearStorage(jwksUri); // Pull the latest keys if the key wasn't in the cache\n\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    }).then(function (res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now() / 1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' + 'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' + 'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if (now - sdk.options.maxClockSkew > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > now + sdk.options.maxClockSkew) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, options) {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n\n  options = options || {}; // Get user-supplied arguments\n\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n  var baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction urlParamsToObject(hashOrSearch) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch; // Some hash based routers will automatically add a / character after the hash\n\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  } // Remove the leading # or ?\n\n\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n  var obj = {}; // Loop until we have no more params\n\n  var param;\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n\n    if (!param) {\n      break;\n    }\n\n    var key = param[1];\n    var value = param[2]; // id_token should remain base64url encoded\n\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n\n  return obj;\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  urlParamsToObject: urlParamsToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar fetchRequest = __webpack_require__(12);\n\nvar storageUtil = __webpack_require__(4);\n\nmodule.exports = __webpack_require__(15)(storageUtil, fetchRequest);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(5);\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar fetch = __webpack_require__(13);\n\nfunction readData(response) {\n  if (response.headers.get('Content-Type') && response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n    return response.json() // JSON parse can fail if response is not a valid object\n    .catch(function (e) {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status, data) {\n  var isObject = _typeof(data) === 'object';\n  var result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status\n  };\n\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n\n  return result;\n}\n/* eslint-disable complexity */\n\n\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = headers['Content-Type'] || headers['content-type'] || ''; // JSON encode body (if appropriate)\n\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  }).then(function (response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response).then(function (data) {\n      return formatResult(status, data);\n    }).then(function (result) {\n      if (error) {\n        // Throwing result object since error handling is done in http.js\n        throw result;\n      }\n\n      return result;\n    });\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _regeneratorRuntime = __webpack_require__(7);\n\nvar _asyncToGenerator = __webpack_require__(8);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable complexity */\n\n/* eslint-disable max-statements */\n\n/* SDK_VERSION is defined in webpack config */\n\n/* global SDK_VERSION */\n\n/* global window, navigator, document, crypto */\nvar Emitter = __webpack_require__(17);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar builderUtil = __webpack_require__(18);\n\nvar constants = __webpack_require__(2);\n\nvar cookies = __webpack_require__(4).storage;\n\nvar http = __webpack_require__(3);\n\nvar oauthUtil = __webpack_require__(10);\n\nvar session = __webpack_require__(21);\n\nvar token = __webpack_require__(22);\n\nvar TokenManager = __webpack_require__(26);\n\nvar tx = __webpack_require__(9);\n\nvar util = __webpack_require__(0);\n\nvar PromiseQueue = __webpack_require__(28);\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n  builderUtil.assertValidConfig(args);\n  var cookieSettings = util.extend({\n    secure: true\n  }, args.cookies);\n  var isLocalhost = sdk.features.isLocalhost() && !sdk.features.isHTTPS();\n\n  if (isLocalhost) {\n    cookieSettings.secure = false; // Force secure=false if running on http://localhost\n  }\n\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n\n  if (cookieSettings.secure && !sdk.features.isHTTPS()) {\n    // eslint-disable-next-line no-console\n    console.warn('The current page is not being served with the HTTPS protocol.\\n' + 'For security reasons, we strongly recommend using HTTPS.\\n' + 'If you cannot use HTTPS, set \"cookies.secure\" option to false.');\n    cookieSettings.secure = false;\n  }\n\n  this.options = {\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: args.pkce === false ? false : true,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    responseMode: args.responseMode,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n    cookies: cookieSettings\n  };\n  this.userAgent = builderUtil.getUserAgent(args, \"okta-auth-js/\".concat(\"3.1.4\")); // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  } // Give the developer the ability to disable token signature\n  // validation.\n\n\n  this.options.ignoreSignature = !!args.ignoreSignature;\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  }; // This is exposed so we can mock document.cookie in our tests\n\n  sdk.tx.exists._get = function (name) {\n    return cookies.get(name);\n  }; // This is exposed so we can mock window.location.href in our tests\n\n\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function _getLocationHref() {\n        return window.location.href;\n      }\n    }\n  };\n  sdk._tokenQueue = new PromiseQueue();\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk)\n  }; // Wrap all async token API methods using MethodQueue to avoid issues with concurrency\n\n  Object.keys(sdk.token).forEach(function (key) {\n    if (key === 'decode') {\n      // sync methods should not be wrapped\n      return;\n    }\n\n    var method = sdk.token[key];\n    sdk.token[key] = util.bind(PromiseQueue.prototype.push, sdk._tokenQueue, method, null);\n  }); // This is exposed so we can set window.location in our tests\n\n  sdk.token.getWithRedirect._setLocation = function (url) {\n    window.location = url;\n  }; // This is exposed so we can mock getting window.history in our tests\n\n\n  sdk.token.parseFromUrl._getHistory = function () {\n    return window.history;\n  }; // This is exposed so we can mock getting window.location in our tests\n\n\n  sdk.token.parseFromUrl._getLocation = function () {\n    return window.location;\n  }; // This is exposed so we can mock getting window.document in our tests\n\n\n  sdk.token.parseFromUrl._getDocument = function () {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function () {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n\n  sdk.features.isFingerprintSupported = function () {\n    var agent = sdk.fingerprint._getUserAgent();\n\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\n\nproto._onTokenManagerError = function (error) {\n  var code = error.errorCode;\n\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function () {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function () {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function () {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function () {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function () {\n  return window.location.protocol === 'https:';\n};\n\nproto.features.isLocalhost = function () {\n  return window.location.hostname === 'localhost';\n}; // { username, password, (relayState), (context) }\n\n\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n\n  return sdk.fingerprint().then(function (fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n}; // Ends the current Okta SSO session without redirecting to Okta.\n\n\nproto.closeSession = function closeSession() {\n  var sdk = this; // Clear all local tokens\n\n  sdk.tokenManager.clear();\n  return sdk.session.close() // DELETE /api/v1/sessions/me\n  .catch(function (e) {\n    if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n      // Session does not exist or has already been closed\n      return;\n    }\n\n    throw e;\n  });\n}; // Revokes the access token for the application session\n\n\nproto.revokeAccessToken =\n/*#__PURE__*/\nfunction () {\n  var _revokeAccessToken = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(accessToken) {\n    var sdk;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            sdk = this;\n\n            if (accessToken) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 4;\n            return sdk.tokenManager.get('accessToken');\n\n          case 4:\n            accessToken = _context.sent;\n\n          case 5:\n            if (accessToken) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve());\n\n          case 7:\n            return _context.abrupt(\"return\", sdk.token.revoke(accessToken));\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function revokeAccessToken(_x) {\n    return _revokeAccessToken.apply(this, arguments);\n  }\n\n  return revokeAccessToken;\n}(); // Revokes accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\n\n\nproto.signOut =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(options) {\n    var defaultUri, postLogoutRedirectUri, accessToken, revokeAccessToken, idToken, sdk, logoutUrl, state, idTokenHint, logoutUri;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            options = util.extend({}, options); // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n\n            defaultUri = window.location.origin;\n            postLogoutRedirectUri = options.postLogoutRedirectUri || this.options.postLogoutRedirectUri || defaultUri;\n            accessToken = options.accessToken;\n            revokeAccessToken = options.revokeAccessToken !== false;\n            idToken = options.idToken;\n            sdk = this;\n            logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n            if (!(typeof idToken === 'undefined')) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 11;\n            return sdk.tokenManager.get('idToken');\n\n          case 11:\n            idToken = _context2.sent;\n\n          case 12:\n            if (!(revokeAccessToken && typeof accessToken === 'undefined')) {\n              _context2.next = 16;\n              break;\n            }\n\n            _context2.next = 15;\n            return sdk.tokenManager.get('token');\n\n          case 15:\n            accessToken = _context2.sent;\n\n          case 16:\n            // Clear all local tokens\n            sdk.tokenManager.clear();\n\n            if (!(revokeAccessToken && accessToken)) {\n              _context2.next = 20;\n              break;\n            }\n\n            _context2.next = 20;\n            return sdk.revokeAccessToken(accessToken);\n\n          case 20:\n            if (idToken) {\n              _context2.next = 22;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", sdk.closeSession() // can throw if the user cannot be signed out\n            .then(function () {\n              if (postLogoutRedirectUri === defaultUri) {\n                window.location.reload();\n              } else {\n                window.location.assign(postLogoutRedirectUri);\n              }\n            }));\n\n          case 22:\n            // logout redirect using the idToken.\n            state = options.state;\n            idTokenHint = idToken.idToken; // a string\n\n            logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) + '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri); // State allows option parameters to be passed to logout redirect uri\n\n            if (state) {\n              logoutUri += '&state=' + encodeURIComponent(state);\n            }\n\n            window.location.assign(logoutUri);\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nbuilderUtil.addSharedPrototypes(proto); // { resource, (rel), (requestContext)}\n\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function (options) {\n  options = options || {};\n  var sdk = this;\n\n  if (!sdk.features.isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var timeout;\n  var iframe;\n  var listener;\n  var promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    listener = function listener(e) {\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      try {\n        var msg = JSON.parse(e.data);\n      } catch (err) {\n        return reject(new AuthSdkError('Unable to parse iframe response'));\n      }\n\n      if (!msg) {\n        return;\n      }\n\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint);\n      }\n\n      if (msg.type === 'FingerprintServiceReady') {\n        e.source.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      }\n    };\n\n    oauthUtil.addListener(window, 'message', listener);\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    document.body.appendChild(iframe);\n    timeout = setTimeout(function () {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options.timeout || 15000);\n  });\n  return promise.finally(function () {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar AuthSdkError = __webpack_require__(1);\n\nvar tx = __webpack_require__(9);\n\nvar util = __webpack_require__(0); // TODO: use @okta/configuration-validation (move module to this monorepo?)\n// eslint-disable-next-line complexity\n\n\nfunction assertValidConfig(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' + 'Required usage: new OktaAuth(args)');\n  }\n\n  var issuer = args.issuer;\n\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n\n  if (!isUrlRegex.test(args.issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n\n  var userAgent = args.userAgent;\n  var userAgentTemplateWithNoPlaceholder = userAgent && userAgent.template && userAgent.template.indexOf('$OKTA_AUTH_JS') === -1;\n\n  if (userAgentTemplateWithNoPlaceholder) {\n    throw new AuthSdkError('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. ' + 'Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n  }\n}\n\nfunction addSharedPrototypes(proto) {\n  proto.getIssuerOrigin = function () {\n    // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n    return this.options.issuer.split('/oauth2/')[0];\n  }; // { username, (relayState) }\n\n\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  }; // { username, (relayState) }\n\n\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  }; // { recoveryToken }\n\n\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function (storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth; // Hoist feature detection functions to static type\n\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n    return OktaAuth;\n  };\n}\n\nfunction getUserAgent(args, sdkValue) {\n  var userAgent = args.userAgent || {};\n\n  if (userAgent.value) {\n    return userAgent.value;\n  }\n\n  if (userAgent.template) {\n    return userAgent.template.replace('$OKTA_AUTH_JS', sdkValue);\n  }\n\n  return sdkValue;\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  assertValidConfig: assertValidConfig,\n  getUserAgent: getUserAgent\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\n\nAuthApiError.prototype = new Error();\nmodule.exports = AuthApiError;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\n\nAuthPollStopError.prototype = new Error();\nmodule.exports = AuthPollStopError;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window */\nvar util = __webpack_require__(0);\n\nvar http = __webpack_require__(3);\n\nfunction sessionExists(sdk) {\n  return sdk.session.get().then(function (res) {\n    if (res.status === 'ACTIVE') {\n      return true;\n    }\n\n    return false;\n  }).catch(function () {\n    return false;\n  });\n}\n\nfunction getSession(sdk) {\n  return http.get(sdk, '/api/v1/sessions/me').then(function (session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function () {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function () {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  }).catch(function () {\n    // Return INACTIVE status on failure\n    return {\n      status: 'INACTIVE'\n    };\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' + util.toQueryParams({\n    checkAccountSetupComplete: true,\n    token: sessionToken,\n    redirectUrl: redirectUrl\n  });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _regeneratorRuntime = __webpack_require__(7);\n\nvar _asyncToGenerator = __webpack_require__(8);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window, document, btoa */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0);\n\nvar oauthUtil = __webpack_require__(10);\n\nvar sdkCrypto = __webpack_require__(23);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar OAuthError = __webpack_require__(24);\n\nvar constants = __webpack_require__(2);\n\nvar cookies = __webpack_require__(4).storage;\n\nvar PKCE = __webpack_require__(25); // Only the access token can be revoked in SPA applications\n\n\nfunction revokeToken(sdk, token) {\n  return Promise.resolve().then(function () {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n\n    var clientId = sdk.options.clientId;\n\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch (e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n} // Verify the id token\n\n\nfunction verifyToken(sdk, token, validationParams) {\n  return Promise.resolve().then(function () {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n    util.extend(validationOptions, validationParams); // Standard claim validation\n\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions); // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid).then(function (key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    }).then(function (valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n\n      if (validationParams && validationParams.accessToken && token.claims.at_hash) {\n        return sdkCrypto.getOidcHash(validationParams.accessToken).then(function (hash) {\n          if (hash !== token.claims.at_hash) {\n            throw new AuthSdkError('Token hash verification failed');\n          }\n        });\n      }\n    }).then(function () {\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      } // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n\n\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n\n      resolve(e.data);\n    };\n\n    oauthUtil.addListener(window, 'message', responseHandler);\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n  return msgReceivedOrTimeout.finally(function () {\n    clearTimeout(timeoutId);\n    oauthUtil.removeListener(window, 'message', responseHandler);\n  });\n}\n\nfunction addFragmentListener(sdk, windowEl, timeout) {\n  var timeoutId;\n  var promise = new Promise(function (resolve, reject) {\n    function hashChangeHandler() {\n      /*\n        We are only able to access window.location.hash on a window\n        that has the same domain. A try/catch is necessary because\n        there's no other way to determine that the popup is in\n        another domain. When we try to access a window on another\n        domain, an error is thrown.\n      */\n      try {\n        if (windowEl && windowEl.location && windowEl.location.hash) {\n          resolve(oauthUtil.hashToObject(windowEl.location.hash));\n        } else if (windowEl && !windowEl.closed) {\n          setTimeout(hashChangeHandler, 500);\n        }\n      } catch (err) {\n        setTimeout(hashChangeHandler, 500);\n      }\n    }\n\n    hashChangeHandler();\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n  return promise.finally(function () {\n    clearTimeout(timeoutId);\n  });\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls).then(function (res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  }).finally(function () {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n  var responseType = oauthParams.responseType;\n\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n  var pkce = sdk.options.pkce !== false;\n  return Promise.resolve().then(function () {\n    validateResponse(res, oauthParams); // PKCE flow\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n\n    if (res.code && pkce) {\n      // responseType is not sent to the token endpoint.\n      // We populate this array to validate the response below\n      responseType = ['token']; // an accessToken will always be returned\n\n      if (scopes.indexOf('openid') !== -1) {\n        responseType.push('id_token'); // an idToken will be returned if \"openid\" is in the scopes\n      }\n\n      return exchangeCodeForToken(sdk, oauthParams, res.code, urls);\n    }\n\n    return res;\n  }).then(function (res) {\n    var tokenDict = {};\n    var expiresIn = res.expires_in;\n    var tokenType = res.token_type;\n    var accessToken = res.access_token;\n    var idToken = res.id_token;\n\n    if (accessToken) {\n      tokenDict.accessToken = {\n        value: accessToken,\n        accessToken: accessToken,\n        expiresAt: Number(expiresIn) + Math.floor(Date.now() / 1000),\n        tokenType: tokenType,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (idToken) {\n      var jwt = sdk.token.decode(idToken);\n      var idTokenObj = {\n        value: idToken,\n        idToken: idToken,\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce,\n        accessToken: accessToken\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idTokenObj, validationParams).then(function () {\n        tokenDict.idToken = idTokenObj;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  }).then(function (tokenDict) {\n    // Validate received tokens against requested response types \n    if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n    }\n\n    if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n    }\n\n    return {\n      tokens: tokenDict,\n      state: res.state,\n      code: res.code\n    };\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: ['token', 'id_token'],\n    responseMode: sdk.options.responseMode,\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  } // Convert our params to their actual OAuth equivalents\n\n\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state\n  });\n  ['idp_scope', 'response_type'].forEach(function (mayBeArray) {\n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 && oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\n\n\nfunction getToken(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n\n  options = options || {};\n  return prepareOauthParams(sdk, options).then(function (oauthParams) {\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (options.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (options.idp) {\n      util.extend(oauthParams, idpOverrides);\n    } // Use the query params to build the authorize url\n\n\n    var requestUrl, endpoint, urls; // Get authorizeUrl and issuer\n\n    urls = oauthUtil.getOAuthUrls(sdk, oauthParams);\n    endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n    requestUrl = endpoint + buildAuthorizeParams(oauthParams); // Determine the flow type\n\n    var flowType;\n\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    function getOrigin(url) {\n      /* eslint-disable-next-line no-useless-escape */\n      var originRegex = /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/;\n      return originRegex.exec(url)[0];\n    } // Execute the flow type\n\n\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise.then(function (res) {\n          return handleOAuthResponse(sdk, oauthParams, res, urls);\n        }).finally(function () {\n          if (document.body.contains(iframeEl)) {\n            iframeEl.parentElement.removeChild(iframeEl);\n          }\n        });\n\n      case 'POPUP':\n        var oauthPromise; // resolves with OAuth response\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n          }\n\n          oauthPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        } // Create the window\n\n\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions); // Poll until we get a valid hash fragment\n\n        if (oauthParams.responseMode === 'fragment') {\n          var windowOrigin = getOrigin(sdk.idToken.authorize._getLocationHref());\n          var redirectUriOrigin = getOrigin(oauthParams.redirectUri);\n\n          if (windowOrigin !== redirectUriOrigin) {\n            throw new AuthSdkError('Using fragment, the redirectUri origin (' + redirectUriOrigin + ') must match the origin of this page (' + windowOrigin + ')');\n          }\n\n          oauthPromise = addFragmentListener(sdk, windowEl, options.timeout);\n        } // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n\n\n        var popupPromise = new Promise(function (resolve, reject) {\n          var closePoller = setInterval(function () {\n            if (!windowEl || windowEl.closed) {\n              clearInterval(closePoller);\n              reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            }\n          }, 100); // Proxy the OAuth promise results\n\n          oauthPromise.then(function (res) {\n            clearInterval(closePoller);\n            resolve(res);\n          }).catch(function (err) {\n            clearInterval(closePoller);\n            reject(err);\n          });\n        });\n        return popupPromise.then(function (res) {\n          return handleOAuthResponse(sdk, oauthParams, res, urls);\n        }).finally(function () {\n          if (windowEl && !windowEl.closed) {\n            windowEl.close();\n          }\n        });\n\n      default:\n        throw new AuthSdkError('The full page redirect flow is not supported');\n    }\n  });\n}\n\nfunction getWithoutPrompt(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  util.extend(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\nfunction getWithPopup(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  util.extend(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, options);\n}\n\nfunction prepareOauthParams(sdk, options) {\n  // clone and prepare options\n  options = util.clone(options) || {}; // build params using defaults + options\n\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, options);\n\n  if (oauthParams.pkce === false) {\n    return Promise.resolve(oauthParams);\n  } // PKCE flow\n\n\n  if (!sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n\n    if (!sdk.features.isHTTPS()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.';\n    }\n\n    if (!sdk.features.hasTextEncoder()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.';\n    }\n\n    return Promise.reject(new AuthSdkError(errorMessage));\n  } // set default code challenge method, if none provided\n\n\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  } // responseType is forced\n\n\n  oauthParams.responseType = 'code';\n  return oauthUtil.getWellKnown(sdk, null).then(function (res) {\n    var methods = res['code_challenge_methods_supported'] || [];\n\n    if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n      throw new AuthSdkError('Invalid code_challenge_method');\n    }\n  }).then(function () {\n    // PKCE authorization_code flow\n    var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier); // We will need these values after redirect when we call /token\n\n    var meta = {\n      codeVerifier: codeVerifier,\n      redirectUri: oauthParams.redirectUri\n    };\n    PKCE.saveMeta(sdk, meta);\n    return PKCE.computeChallenge(codeVerifier);\n  }).then(function (codeChallenge) {\n    // Clone/copy the params. Set codeChallenge\n    var clonedParams = util.clone(oauthParams) || {};\n    util.extend(clonedParams, oauthParams, {\n      codeChallenge: codeChallenge\n    });\n    return clonedParams;\n  });\n}\n\nfunction getWithRedirect(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  return prepareOauthParams(sdk, options).then(function (oauthParams) {\n    var urls = oauthUtil.getOAuthUrls(sdk, options);\n    var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams); // Set session cookie to store the oauthParams\n\n    cookies.set(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n      responseType: oauthParams.responseType,\n      state: oauthParams.state,\n      nonce: oauthParams.nonce,\n      scopes: oauthParams.scopes,\n      clientId: oauthParams.clientId,\n      urls: urls,\n      ignoreSignature: oauthParams.ignoreSignature\n    }), null, sdk.options.cookies); // Set nonce cookie for servers to validate nonce in id_token\n\n    cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce, null, sdk.options.cookies); // Set state cookie for servers to validate state\n\n    cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state, null, sdk.options.cookies);\n\n    sdk.token.getWithRedirect._setLocation(requestUrl);\n  });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Promise.reject(new AuthSdkError('Renew must be passed a token with ' + 'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return getWithoutPrompt(sdk, {\n    responseType: responseType,\n    scopes: token.scopes,\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  }).then(function (res) {\n    // Multiple tokens may have come back. Return only the token which was requested.\n    var tokens = res.tokens;\n    return token.idToken ? tokens.idToken : tokens.accessToken;\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nfunction parseFromUrl(sdk, options) {\n  options = options || {};\n\n  if (util.isString(options)) {\n    options = {\n      url: options\n    };\n  } // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n\n\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n  var url = options.url;\n  var responseMode = options.responseMode || sdk.options.responseMode || defaultResponseMode;\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    return Promise.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsCookie = cookies.get(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n\n  if (!oauthParamsCookie) {\n    return Promise.reject(new AuthSdkError('Unable to retrieve OAuth redirect params cookie'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsCookie);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n    cookies.delete(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  } catch (e) {\n    return Promise.reject(new AuthSdkError('Unable to parse the ' + constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + ' cookie: ' + e.message));\n  }\n\n  return Promise.resolve(oauthUtil.urlParamsToObject(paramStr)).then(function (res) {\n    if (!url) {\n      // Clean hash or search from the url\n      responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n    }\n\n    return handleOAuthResponse(sdk, oauthParams, res, urls);\n  });\n}\n\nfunction getUserInfo(_x, _x2, _x3) {\n  return _getUserInfo.apply(this, arguments);\n}\n\nfunction _getUserInfo() {\n  _getUserInfo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(sdk, accessTokenObject, idTokenObject) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (accessTokenObject) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return sdk.tokenManager.get('accessToken');\n\n          case 3:\n            accessTokenObject = _context.sent;\n\n          case 4:\n            if (idTokenObject) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 7;\n            return sdk.tokenManager.get('idToken');\n\n          case 7:\n            idTokenObject = _context.sent;\n\n          case 8:\n            if (!(!accessTokenObject || !oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(new AuthSdkError('getUserInfo requires an access token object')));\n\n          case 10:\n            if (!(!idTokenObject || !oauthUtil.isToken(idTokenObject) && !idTokenObject.idToken)) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(new AuthSdkError('getUserInfo requires an ID token object')));\n\n          case 12:\n            return _context.abrupt(\"return\", http.httpRequest(sdk, {\n              url: accessTokenObject.userinfoUrl,\n              method: 'GET',\n              accessToken: accessTokenObject.accessToken\n            }).then(function (userInfo) {\n              // Only return the userinfo response if subjects match to mitigate token substitution attacks\n              if (userInfo.sub === idTokenObject.claims.sub) {\n                return userInfo;\n              }\n\n              return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n            }).catch(function (err) {\n              if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n                var authenticateHeader;\n\n                if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n                  authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n                } else if (util.isFunction(err.xhr.getResponseHeader)) {\n                  authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n                }\n\n                if (authenticateHeader) {\n                  var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n                  var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n                  var error = errorMatches[1];\n                  var errorDescription = errorDescriptionMatches[1];\n\n                  if (error && errorDescription) {\n                    err = new OAuthError(error, errorDescription);\n                  }\n                }\n              }\n\n              throw err;\n            }));\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getUserInfo.apply(this, arguments);\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global crypto, Uint8Array, TextEncoder */\nvar util = __webpack_require__(0);\n\nfunction getOidcHash(str) {\n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function (arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf);\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n\n    return b64u;\n  });\n}\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-256'\n    }\n  };\n  var extractable = true;\n  var usages = ['verify']; // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n\n  delete key.use;\n  return crypto.subtle.importKey(format, key, algo, extractable, usages).then(function (cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n    return crypto.subtle.verify(algo, cryptoKey, signature, payload);\n  });\n}\n\nmodule.exports = {\n  getOidcHash: getOidcHash,\n  verifyToken: verifyToken\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\n\nOAuthError.prototype = new Error();\nmodule.exports = OAuthError;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global crypto */\n\n/* eslint-disable complexity, max-statements */\nvar AuthSdkError = __webpack_require__(1);\n\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0); // Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\n\n\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex(dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction getStorage(sdk, options) {\n  options = util.extend({}, sdk.options.cookies, options);\n  return sdk.options.storageUtil.getPKCEStorage(options);\n}\n\nfunction saveMeta(sdk, meta) {\n  var storage = getStorage(sdk);\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  var storage = getStorage(sdk);\n  var obj = storage.getStorage(); // Verify the Meta\n\n  if (!obj.codeVerifier) {\n    // If meta is not valid, try reading from localStorage.\n    // This is for compatibility with older versions of the signin widget. OKTA-304806\n    storage = getStorage(sdk, {\n      preferLocalStorage: true\n    });\n    obj = storage.getStorage();\n\n    if (!obj.codeVerifier) {\n      // If meta is not valid, throw an exception to avoid misleading server-side error\n      // The most likely cause of this error is trying to handle a callback twice\n      throw new AuthSdkError('Could not load PKCE codeVerifier from storage');\n    }\n  }\n\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  var storage = getStorage(sdk);\n  storage.clearStorage();\n}\n/* global Uint8Array, TextEncoder */\n\n\nfunction computeChallenge(str) {\n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function (arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n\n    return b64u;\n  });\n}\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  }); // Encode as URL string\n\n  return util.toQueryParams(params).slice(1);\n} // exchange authorization code for an access token\n\n\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(5);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global localStorage, sessionStorage */\n\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = __webpack_require__(0);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar storageUtil = __webpack_require__(4);\n\nvar constants = __webpack_require__(2);\n\nvar storageBuilder = __webpack_require__(6);\n\nvar SdkClock = __webpack_require__(27);\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key]; // Remove the renew promise (if it exists)\n\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000; // Clear any existing timeout\n\n  clearExpireEventTimeout(tokenMgmtRef, key);\n  var expireEventTimeout = setTimeout(function () {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait); // Add a new timeout\n\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch (e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for (var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n\n  if (!util.isObject(token) || !token.scopes || !token.expiresAt && token.expiresAt !== 0 || !token.idToken && !token.accessToken) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return new Promise(function (resolve) {\n    var token = get(storage, key);\n\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew ? renew(sdk, tokenMgmtRef, storage, key) : remove(tokenMgmtRef, storage, key);\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key); // Remove it from storage\n\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  } // Remove existing autoRenew timeout for this key\n\n\n  clearExpireEventTimeout(tokenMgmtRef, key); // Store the renew promise state, to avoid renewing again\n\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token).then(function (freshToken) {\n    var oldToken = get(storage, key);\n\n    if (!oldToken) {\n      // It is possible to enter a state where the tokens have been cleared\n      // after a renewal request was triggered. To ensure we do not store a\n      // renewed token, we verify the promise key doesn't exist and return.\n      return;\n    }\n\n    add(sdk, tokenMgmtRef, storage, key, freshToken);\n    tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n    return freshToken;\n  }).catch(function (err) {\n    if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n      remove(tokenMgmtRef, storage, key);\n      err.tokenKey = key;\n      err.accessToken = !!token.accessToken;\n      emitError(tokenMgmtRef, err);\n    }\n\n    throw err;\n  }).finally(function () {\n    // Remove existing promise key\n    delete tokenMgmtRef.renewPromise[key];\n  });\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n\n  if (_typeof(options.storage) === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch (options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n\n      case 'cookie':\n        // Implement customized cookie storage to make sure each token is stored separatedly in cookie\n        storageProvider = function (options) {\n          var storage = storageUtil.getCookieStorage(options);\n          return {\n            getItem: function getItem(key) {\n              var data = storage.getItem();\n              var value = {};\n              Object.keys(data).forEach(function (k) {\n                if (k.indexOf(key) === 0) {\n                  value[k.replace(\"\".concat(key, \"_\"), '')] = JSON.parse(data[k]);\n                }\n              });\n              return JSON.stringify(value);\n            },\n            setItem: function setItem(key, value) {\n              var existingValues = JSON.parse(this.getItem(key));\n              value = JSON.parse(value); // Set key-value pairs from input to cookies\n\n              Object.keys(value).forEach(function (k) {\n                var storageKey = key + '_' + k;\n                var valueToStore = JSON.stringify(value[k]);\n                storage.setItem(storageKey, valueToStore);\n                delete existingValues[k];\n              }); // Delete unmatched keys from existing cookies\n\n              Object.keys(existingValues).forEach(function (k) {\n                storageUtil.storage.delete(key + '_' + k);\n              });\n            }\n          };\n        }(sdk.options.cookies);\n\n        break;\n\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function now() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n}); // factory method. Create an instance of a clock from current context.\n\nSdkClock.create = function ()\n/* sdk, options */\n{\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0); // Implements a queue for synchronous or asynchronous methods\n// Methods will be wrapped in a promise and execute sequentially\n// This can be used to prevent concurrent calls to a single method or a set of methods\n\n\nfunction PromiseQueue() {\n  this.queue = [];\n  this.running = false;\n}\n\nutil.extend(PromiseQueue.prototype, {\n  // Returns a promise\n  // If the method is synchronous, it will resolve when the method completes\n  // If the method returns a promise, it will resolve (or reject) with the value from the method's promise\n  push: function push()\n  /* method, thisObject, args... */\n  {\n    var _this = this;\n\n    var args = Array.prototype.slice.call(arguments);\n    var method = args[0];\n    var thisObject = args[1];\n    args = args.slice(2);\n    return new Promise(function (resolve, reject) {\n      _this.queue.push({\n        method: method,\n        thisObject: thisObject,\n        args: args,\n        resolve: resolve,\n        reject: reject\n      });\n\n      _this.run();\n    });\n  },\n  run: function run() {\n    var _this2 = this;\n\n    if (this.running) {\n      return;\n    }\n\n    if (this.queue.length === 0) {\n      return;\n    }\n\n    this.running = true;\n    var queueItem = this.queue.shift();\n    var res = queueItem.method.apply(queueItem.thisObject, queueItem.args);\n\n    if (util.isPromise(res)) {\n      res.then(queueItem.resolve, queueItem.reject).finally(function () {\n        _this2.running = false;\n\n        _this2.run();\n      });\n    } else {\n      queueItem.resolve(res);\n      this.running = false;\n      this.run();\n    }\n  }\n});\nmodule.exports = PromiseQueue;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// okta-auth-js.min.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global window, document, btoa, atob, Uint8Array */\n\nvar util = module.exports;\n\n// converts a string to base64 (url/filename safe variant)\nutil.stringToBase64Url = function(str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n};\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nutil.base64ToBase64Url = function(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n};\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nutil.base64UrlToBase64 = function(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function(b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw 'Not a valid Base64Url';\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n};\n\nutil.base64UrlDecode = function(str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function(url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isoToUTCString = function(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n};\n\nutil.extend = function() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n};\n\nutil.clone = function(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n};\n\n// Analogous to _.omit\nutil.omit = function(obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return util.clone(newobj);\n};\n\nutil.find = function(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function(obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function() {\n  var nativeConsole = util.getNativeConsole();\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {}\n  };\n};\n\nutil.warn = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function(text, fn) {\n  return function() {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n};\n\nutil.isIE11OrLess = function() {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function(fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\nutil.delay = function(ms) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\nutil.isPromise = function(obj) {\n  return obj && obj.finally && (typeof obj.finally === 'function');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthSdkError.prototype = new Error();\n\nmodule.exports = AuthSdkError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthSdkError.js","module.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_COOKIE_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage'\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = require('./util');\nvar AuthApiError = require('./errors/AuthApiError');\nvar constants = require('./constants');\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false, // default value is true\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions)\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && util.isString(res)) {\n        res = JSON.parse(res);\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(constants.STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url, {\n          expiresAt: Math.floor(Date.now()/1000) + constants.DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n\n      return res;\n    })\n    .catch(function(resp) {\n      var serverErr = resp.responseText || {};\n      if (util.isString(serverErr)) {\n        try {\n          serverErr = JSON.parse(serverErr);\n        } catch (e) {\n          serverErr = {\n            errorSummary: 'Unknown error'\n          };\n        }\n      }\n\n      if (resp.status >= 500) {\n        serverErr.errorSummary = 'Unknown error';\n      }\n\n      if (sdk.options.transformErrorXHR) {\n        resp = sdk.options.transformErrorXHR(util.clone(resp));\n      }\n\n      err = new AuthApiError(serverErr, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/http.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global localStorage, sessionStorage */\nvar Cookies = require('js-cookie');\nvar storageBuilder = require('../storageBuilder');\nvar constants = require('../constants');\nvar AuthSdkError = require('../errors/AuthSdkError');\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil = {};\n\n// IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\nstorageUtil.browserHasLocalStorage = function() {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function() {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function(options) {\n  options = options || {};\n  if (!options.preferLocalStorage && storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function(options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function() {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function() {\n  return sessionStorage;\n};\n\n// Provides webStorage-like interface for cookies\nstorageUtil.getCookieStorage = function(options) {\n  const secure = options.secure;\n  const sameSite = options.sameSite;\n  if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n    throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n  }\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', {\n        secure: secure, \n        sameSite: sameSite\n      });\n    }\n  };\n};\n\n// Provides an in-memory solution\nstorageUtil.getInMemoryStorage = function() {\n  var store = {};\n  return {\n    getItem: function(key) {\n      return store[key];\n    },\n    setItem: function(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function(storage) {\n  var key = 'okta-test-storage';\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function(name, value, expiresAt, options) {\n    const secure = options.secure;\n    const sameSite = options.sameSite;\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n    }\n    var cookieOptions = {\n      path: options.path || '/',\n      secure,\n      sameSite\n    };\n\n    // eslint-disable-next-line no-extra-boolean-cast\n    if (!!(Date.parse(expiresAt))) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n\n  get: function(name) {\n    return Cookies.get(name);\n  },\n\n  delete: function(name) {\n    return Cookies.remove(name, { path: '/' });\n  }\n};\n\nmodule.exports = storageUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browserStorage.js","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/typeof.js\n// module id = 5\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\n\n// storage must have getItem and setItem\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      return setStorage({});\n    }\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/storageBuilder.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/regenerator/index.js\n// module id = 7\n// module chunks = 0","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js\n// module id = 8\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http              = require('./http');\nvar util              = require('./util');\nvar AuthSdkError      = require('./errors/AuthSdkError');\nvar AuthPollStopError = require('./errors/AuthPollStopError');\nvar constants         = require('./constants');\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options);\n\n  // Add the stateToken if one isn't passed and we have one\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n  return sdk.tx.status(args)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction introspect (sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n  return transactionStep(sdk, args)\n    .then(function (res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args);\n  // v1 pipeline introspect API\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    }\n\n    // Get the poll function\n    var pollLink = util.getLink(res, 'next', 'poll');\n    function pollFn() {\n      var opts = {};\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        }\n        catch (e) {\n          return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      }\n      else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        }\n        catch (e) {\n          return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      }\n      else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false  \n      });\n    }\n\n    ref.isPolling = true;\n\n    var retryCount = 0;\n    var recursivePoll = function () {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Promise.reject(new AuthPollStopError());\n      }\n      return pollFn()\n        .then(function (pollRes) {\n          // Reset our retry counter on success\n          retryCount = 0;\n\n          // If we're still waiting\n          if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n\n            // If the poll was manually stopped while the pollFn was called\n            if (!ref.isPolling) {\n              throw new AuthPollStopError();\n            }\n\n            if (typeof transactionCallBack === 'function') {\n              transactionCallBack(pollRes);\n            }\n\n            // Continue poll\n            return util.delay(delay).then(recursivePoll);\n\n          } else {\n            // Any non-waiting result, even if polling was stopped\n            // during a request, will return\n            ref.isPolling = false;\n            return new AuthTransaction(sdk, pollRes);\n          }\n        })\n        .catch(function(err) {\n          // Exponential backoff, up to 16 seconds\n          if (err.xhr &&\n              (err.xhr.status === 0 || err.xhr.status === 429) &&\n              retryCount <= 4) {\n            var delayLength = Math.pow(2, retryCount) * 1000;\n            retryCount++;\n            return util.delay(delayLength)\n              .then(recursivePoll);\n          }\n          throw err;\n        });\n    };\n    return recursivePoll()\n      .catch(function(err) {\n        ref.isPolling = false;\n        throw err;\n      });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function(name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {name: name});\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n\n  } else if (link.hints &&\n      link.hints.allow &&\n      link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n    switch (method) {\n\n      case 'GET':\n        return function() {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function(opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              }\n              catch (e) {\n                return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            }\n            else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              }\n              catch (e) {\n                return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            }\n            else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n            data = util.omit(data, 'rememberDevice');\n\n          } else if (data.profile &&\n                    data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n    \n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n        if (fn) {\n          fns[linkName] = fn;\n        }\n    }\n  }\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    }\n\n    // Flatten any nested _embedded objects\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  }\n\n  // Convert any links on the embedded object\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken;\n\n    // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function() {\n        return Promise.resolve(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tx.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document */\n/* eslint-disable complexity, max-statements */\nvar http = require('./http');\nvar util = require('./util');\nvar storageUtil = require('./browser/browserStorage');\nvar AuthSdkError = require('./errors/AuthSdkError');\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj &&\n      (obj.accessToken || obj.idToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  var authServerUri = (issuer || sdk.options.issuer);\n  return http.get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  var httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if ((now - sdk.options.maxClockSkew) > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > (now + sdk.options.maxClockSkew)) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, options) {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  var baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction urlParamsToObject(hashOrSearch) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch;\n\n  // Some hash based routers will automatically add a / character after the hash\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  }\n\n  // Remove the leading # or ?\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  urlParamsToObject: urlParamsToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/oauthUtil.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar fetchRequest = require('../fetch/fetchRequest');\nvar storageUtil = require('./browserStorage');\n\nmodule.exports = require('./browser')(storageUtil, fetchRequest);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browserIndex.js","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar fetch = require('cross-fetch');\n\n\nfunction readData(response) {\n  if (response.headers.get('Content-Type') &&\n    response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n  return response.json()\n    // JSON parse can fail if response is not a valid object\n    .catch(e => {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status, data) {\n  const isObject = typeof data === 'object'; \n  const result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status\n  };\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n  return result;\n}\n\n/* eslint-disable complexity */\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  // JSON encode body (if appropriate)\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  })\n  .then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response)\n      .then(data => {\n        return formatResult(status, data);\n      })\n      .then(result => {\n        if (error) {\n          // Throwing result object since error handling is done in http.js\n          throw result;\n        }\n        return result;\n      });\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/fetch/fetchRequest.js","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js\n// module id = 13\n// module chunks = 0","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js\n// module id = 14\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-disable complexity */\n/* eslint-disable max-statements */\n/* SDK_VERSION is defined in webpack config */ \n/* global SDK_VERSION */\n/* global window, navigator, document, crypto */\nvar Emitter           = require('tiny-emitter');\nvar AuthSdkError      = require('../errors/AuthSdkError');\nvar builderUtil       = require('../builderUtil');\nvar constants         = require('../constants');\nvar cookies           = require('./browserStorage').storage;\nvar http              = require('../http');\nvar oauthUtil         = require('../oauthUtil');\nvar session           = require('../session');\nvar token             = require('../token');\nvar TokenManager      = require('../TokenManager');\nvar tx                = require('../tx');\nvar util              = require('../util');\nvar PromiseQueue       = require('../PromiseQueue');\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n\n  builderUtil.assertValidConfig(args);\n\n  var cookieSettings = util.extend({\n    secure: true\n  }, args.cookies);\n  var isLocalhost = (sdk.features.isLocalhost() && !sdk.features.isHTTPS());\n  if (isLocalhost) {\n    cookieSettings.secure = false; // Force secure=false if running on http://localhost\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n  if (cookieSettings.secure && !sdk.features.isHTTPS()) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'The current page is not being served with the HTTPS protocol.\\n' +\n      'For security reasons, we strongly recommend using HTTPS.\\n' +\n      'If you cannot use HTTPS, set \"cookies.secure\" option to false.'\n    );\n    cookieSettings.secure = false;\n  }\n\n  this.options = {\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: args.pkce === false ? false : true,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    responseMode: args.responseMode,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n    cookies: cookieSettings\n  };\n\n  this.userAgent = builderUtil.getUserAgent(args, `okta-auth-js/${SDK_VERSION}`);\n\n  // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  }\n\n  // Give the developer the ability to disable token signature\n  // validation.\n  this.options.ignoreSignature = !!args.ignoreSignature;\n\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  };\n\n  // This is exposed so we can mock document.cookie in our tests\n  sdk.tx.exists._get = function(name) {\n    return cookies.get(name);\n  };\n\n  // This is exposed so we can mock window.location.href in our tests\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function() {\n        return window.location.href;\n      }\n    }\n  };\n\n  sdk._tokenQueue = new PromiseQueue();\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk)\n  };\n  // Wrap all async token API methods using MethodQueue to avoid issues with concurrency\n  Object.keys(sdk.token).forEach(key => {\n    if (key === 'decode') { // sync methods should not be wrapped\n      return;\n    }\n    var method = sdk.token[key];\n    sdk.token[key] = util.bind(PromiseQueue.prototype.push, sdk._tokenQueue, method, null);\n  });\n  // This is exposed so we can set window.location in our tests\n  sdk.token.getWithRedirect._setLocation = function(url) {\n    window.location = url;\n  };\n\n  // This is exposed so we can mock getting window.history in our tests\n  sdk.token.parseFromUrl._getHistory = function() {\n    return window.history;\n  };\n\n  // This is exposed so we can mock getting window.location in our tests\n  sdk.token.parseFromUrl._getLocation = function() {\n    return window.location;\n  };\n\n  // This is exposed so we can mock getting window.document in our tests\n  sdk.token.parseFromUrl._getDocument = function() {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function() {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n  sdk.features.isFingerprintSupported = function() {\n    var agent = sdk.fingerprint._getUserAgent();\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\nproto._onTokenManagerError = function(error) {\n  var code = error.errorCode;\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function() {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function() {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function() {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function() {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function() {\n  return window.location.protocol === 'https:';\n};\n\nproto.features.isLocalhost = function() {\n  return window.location.hostname === 'localhost';\n};\n// { username, password, (relayState), (context) }\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n  return sdk.fingerprint()\n  .then(function(fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n};\n\n// Ends the current Okta SSO session without redirecting to Okta.\nproto.closeSession = function closeSession() {\n  var sdk = this;\n  \n  // Clear all local tokens\n  sdk.tokenManager.clear();\n\n  return sdk.session.close() // DELETE /api/v1/sessions/me\n  .catch(function(e) {\n    if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n      // Session does not exist or has already been closed\n      return;\n    }\n    throw e;\n  });\n};\n\n// Revokes the access token for the application session\nproto.revokeAccessToken = async function revokeAccessToken(accessToken) {\n  var sdk = this;\n  if (!accessToken) {\n    accessToken = await sdk.tokenManager.get('accessToken');\n  }\n  // Access token may have been removed. In this case, we will silently succeed.\n  if (!accessToken) {\n    return Promise.resolve();\n  }\n  return sdk.token.revoke(accessToken);\n};\n\n// Revokes accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\nproto.signOut = async function (options) {\n  options = util.extend({}, options);\n\n  // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n  var defaultUri = window.location.origin;\n  var postLogoutRedirectUri = options.postLogoutRedirectUri\n    || this.options.postLogoutRedirectUri\n    || defaultUri;\n\n  var accessToken = options.accessToken;\n  var revokeAccessToken = options.revokeAccessToken !== false;\n  var idToken = options.idToken;\n\n  var sdk = this;\n  var logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n  if (typeof idToken === 'undefined') {\n    idToken = await sdk.tokenManager.get('idToken');\n  }\n\n  if (revokeAccessToken && typeof accessToken === 'undefined') {\n    accessToken = await sdk.tokenManager.get('token');\n  }\n\n  // Clear all local tokens\n  sdk.tokenManager.clear();\n\n  if (revokeAccessToken && accessToken) {\n    await sdk.revokeAccessToken(accessToken);\n  }\n\n  // No idToken? This can happen if the storage was cleared.\n  // Fallback to XHR signOut, then redirect to the post logout uri\n  if (!idToken) {\n    return sdk.closeSession() // can throw if the user cannot be signed out\n    .then(function() {\n      if (postLogoutRedirectUri === defaultUri) {\n        window.location.reload();\n      } else {\n        window.location.assign(postLogoutRedirectUri);\n      }\n    });\n  }\n\n  // logout redirect using the idToken.\n  var state = options.state;\n  var idTokenHint = idToken.idToken; // a string\n  var logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) +\n    '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n\n  // State allows option parameters to be passed to logout redirect uri\n  if (state) {\n    logoutUri += '&state=' + encodeURIComponent(state);\n  }\n  \n  window.location.assign(logoutUri);\n};\n\nbuilderUtil.addSharedPrototypes(proto);\n\n// { resource, (rel), (requestContext)}\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function(options) {\n  options = options || {};\n  var sdk = this;\n  if (!sdk.features.isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var timeout;\n  var iframe;\n  var listener;\n  var promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    listener = function listener(e) {\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      try {\n        var msg = JSON.parse(e.data);\n      } catch (err) {\n        return reject(new AuthSdkError('Unable to parse iframe response'));\n      }\n\n      if (!msg) { return; }\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint);\n      }\n      if (msg.type === 'FingerprintServiceReady') {\n        e.source.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      }\n    };\n    oauthUtil.addListener(window, 'message', listener);\n\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    document.body.appendChild(iframe);\n\n    timeout = setTimeout(function() {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options.timeout || 15000);\n  });\n\n  return promise.finally(function() {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browser.js","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/regenerator-runtime/runtime.js\n// module id = 16\n// module chunks = 0","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/tiny-emitter/index.js\n// module id = 17\n// module chunks = 0","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar tx = require('./tx');\nvar util = require('./util');\n\n// TODO: use @okta/configuration-validation (move module to this monorepo?)\n// eslint-disable-next-line complexity\nfunction assertValidConfig(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' +\n      'Required usage: new OktaAuth(args)');\n  }\n\n  var issuer = args.issuer;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(args.issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n\n  var userAgent = args.userAgent;\n  var userAgentTemplateWithNoPlaceholder = \n    userAgent && userAgent.template && userAgent.template.indexOf('$OKTA_AUTH_JS') === -1;\n  if (userAgentTemplateWithNoPlaceholder) {\n    throw new AuthSdkError('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. ' + \n      'Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n  }\n}\n\nfunction addSharedPrototypes(proto) {\n  proto.getIssuerOrigin = function() {\n    // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n    return this.options.issuer.split('/oauth2/')[0];\n  };\n\n  // { username, (relayState) }\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  };\n\n  // { username, (relayState) }\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  };\n\n  // { recoveryToken }\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function(storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth;\n\n    // Hoist feature detection functions to static type\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n\n    return OktaAuth;\n  };\n}\n\nfunction getUserAgent(args, sdkValue) {\n  var userAgent = args.userAgent || {};\n\n  if (userAgent.value) {\n    return userAgent.value;\n  }\n\n  if (userAgent.template) {\n    return userAgent.template.replace('$OKTA_AUTH_JS', sdkValue);\n  }\n\n  return sdkValue;\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  assertValidConfig: assertValidConfig,\n  getUserAgent: getUserAgent\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/builderUtil.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthApiError.prototype = new Error();\n\nmodule.exports = AuthApiError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthApiError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\nAuthPollStopError.prototype = new Error();\n\nmodule.exports = AuthPollStopError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthPollStopError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\nvar util = require('./util');\nvar http = require('./http');\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .catch(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return http.get(sdk, '/api/v1/sessions/me')\n  .then(function(session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function() {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function() {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  })\n  .catch(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' +\n    util.toQueryParams({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/session.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document, btoa */\n/* eslint-disable complexity, max-statements */\nvar http          = require('./http');\nvar util          = require('./util');\nvar oauthUtil     = require('./oauthUtil');\nvar sdkCrypto     = require('./crypto');\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar OAuthError    = require('./errors/OAuthError');\nvar constants     = require('./constants');\nvar cookies       = require('./browser/browserStorage').storage;\nvar PKCE          = require('./pkce');\n\n// Only the access token can be revoked in SPA applications\nfunction revokeToken(sdk, token) {\n  return Promise.resolve()\n  .then(function() {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch(e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n\n// Verify the id token\nfunction verifyToken(sdk, token, validationParams) {\n  return Promise.resolve()\n  .then(function() {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n\n    util.extend(validationOptions, validationParams);\n\n    // Standard claim validation\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions);\n\n    // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid)\n    .then(function(key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    })\n    .then(function(valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n      if (validationParams && validationParams.accessToken && token.claims.at_hash) {\n        return sdkCrypto.getOidcHash(validationParams.accessToken)\n          .then(hash => {\n            if (hash !== token.claims.at_hash) {\n              throw new AuthSdkError('Token hash verification failed');\n            }\n          });\n      }\n    })\n    .then(() => {\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function(resolve, reject) {\n\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      }\n\n      // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n      resolve(e.data);\n    };\n\n    oauthUtil.addListener(window, 'message', responseHandler);\n\n    timeoutId = setTimeout(function() {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return msgReceivedOrTimeout\n    .finally(function() {\n      clearTimeout(timeoutId);\n      oauthUtil.removeListener(window, 'message', responseHandler);\n    });\n}\n\nfunction addFragmentListener(sdk, windowEl, timeout) {\n  var timeoutId;\n  var promise = new Promise(function(resolve, reject) {\n    function hashChangeHandler() {\n      /*\n        We are only able to access window.location.hash on a window\n        that has the same domain. A try/catch is necessary because\n        there's no other way to determine that the popup is in\n        another domain. When we try to access a window on another\n        domain, an error is thrown.\n      */\n      try {\n        if (windowEl &&\n            windowEl.location &&\n            windowEl.location.hash) {\n          resolve(oauthUtil.hashToObject(windowEl.location.hash));\n        } else if (windowEl && !windowEl.closed) {\n          setTimeout(hashChangeHandler, 500);\n        }\n      } catch (err) {\n        setTimeout(hashChangeHandler, 500);\n      }\n    }\n  \n    hashChangeHandler();\n\n    timeoutId = setTimeout(function() {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return promise.finally(function() {\n    clearTimeout(timeoutId);\n  });\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls)\n  .then(function(res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  })\n  .finally(function() {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n\n  var responseType = oauthParams.responseType;\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n  var pkce = sdk.options.pkce !== false;\n\n  return Promise.resolve()\n  .then(function() {\n    validateResponse(res, oauthParams);\n\n    // PKCE flow\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n    if (res.code && pkce) {\n      // responseType is not sent to the token endpoint.\n      // We populate this array to validate the response below\n      responseType = ['token']; // an accessToken will always be returned\n      if (scopes.indexOf('openid') !== -1) {\n        responseType.push('id_token'); // an idToken will be returned if \"openid\" is in the scopes\n      }\n      return exchangeCodeForToken(sdk, oauthParams, res.code, urls);\n    }\n    return res;\n  }).then(function(res) {\n    var tokenDict = {};\n    var expiresIn = res.expires_in;\n    var tokenType = res.token_type;\n    var accessToken = res.access_token;\n    var idToken = res.id_token;\n    \n    if (accessToken) {\n      tokenDict.accessToken = {\n        value: accessToken,\n        accessToken: accessToken,\n        expiresAt: Number(expiresIn) + Math.floor(Date.now()/1000),\n        tokenType: tokenType,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (idToken) {\n      var jwt = sdk.token.decode(idToken);\n\n      var idTokenObj = {\n        value: idToken,\n        idToken: idToken,\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce,\n        accessToken: accessToken\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idTokenObj, validationParams)\n      .then(function() {\n        tokenDict.idToken = idTokenObj;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  })\n  .then(function(tokenDict) {\n    // Validate received tokens against requested response types \n    if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n    }\n    if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n    }\n\n    return {\n      tokens: tokenDict,\n      state: res.state,\n      code: res.code\n    };\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: ['token', 'id_token'],\n    responseMode: sdk.options.responseMode,\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state,\n  });\n\n  ['idp_scope', 'response_type'].forEach( function( mayBeArray ) { \n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 &&\n      oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nfunction getToken(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n  \n  options = options || {};\n\n  return prepareOauthParams(sdk, options)\n  .then(function(oauthParams) {\n\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (options.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (options.idp) {\n      util.extend(oauthParams, idpOverrides);\n    }\n\n    // Use the query params to build the authorize url\n    var requestUrl,\n        endpoint,\n        urls;\n\n    // Get authorizeUrl and issuer\n    urls = oauthUtil.getOAuthUrls(sdk, oauthParams);\n    endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n    requestUrl = endpoint + buildAuthorizeParams(oauthParams);\n\n    // Determine the flow type\n    var flowType;\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    function getOrigin(url) {\n      /* eslint-disable-next-line no-useless-escape */\n      var originRegex = /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/;\n      return originRegex.exec(url)[0];\n    }\n\n    // Execute the flow type\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .finally(function() {\n            if (document.body.contains(iframeEl)) {\n              iframeEl.parentElement.removeChild(iframeEl);\n            }\n          });\n\n      case 'POPUP':\n        var oauthPromise; // resolves with OAuth response\n\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n          }\n          oauthPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        }\n\n        // Create the window\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions);\n\n        // Poll until we get a valid hash fragment\n        if (oauthParams.responseMode === 'fragment') {\n          var windowOrigin = getOrigin(sdk.idToken.authorize._getLocationHref());\n          var redirectUriOrigin = getOrigin(oauthParams.redirectUri);\n          if (windowOrigin !== redirectUriOrigin) {\n            throw new AuthSdkError('Using fragment, the redirectUri origin (' + redirectUriOrigin +\n              ') must match the origin of this page (' + windowOrigin + ')');\n          }\n          oauthPromise = addFragmentListener(sdk, windowEl, options.timeout);\n        }\n\n        // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n        var popupPromise = new Promise(function(resolve, reject) {\n          var closePoller = setInterval(function() {\n            if (!windowEl || windowEl.closed) {\n              clearInterval(closePoller);\n              reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            }\n          }, 100);\n\n          // Proxy the OAuth promise results\n          oauthPromise\n          .then(function(res) {\n            clearInterval(closePoller);\n            resolve(res);\n          })\n          .catch(function(err) {\n            clearInterval(closePoller);\n            reject(err);\n          });\n        });\n\n        return popupPromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .finally(function() {\n            if (windowEl && !windowEl.closed) {\n              windowEl.close();\n            }\n          });\n\n      default:\n        throw new AuthSdkError('The full page redirect flow is not supported');\n    }\n  });\n}\n\nfunction getWithoutPrompt(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n  util.extend(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\nfunction getWithPopup(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n  util.extend(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, options);\n}\n\nfunction prepareOauthParams(sdk, options) {\n  // clone and prepare options\n  options = util.clone(options) || {};\n\n  // build params using defaults + options\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, options);\n\n  if (oauthParams.pkce === false) {\n    return Promise.resolve(oauthParams);\n  }\n\n  // PKCE flow\n  if (!sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.';\n    }\n    return Promise.reject(new AuthSdkError(errorMessage));\n  }\n\n  // set default code challenge method, if none provided\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  }\n\n  // responseType is forced\n  oauthParams.responseType = 'code';\n\n  return oauthUtil.getWellKnown(sdk, null)\n    .then(function(res) {\n      var methods = res['code_challenge_methods_supported'] || [];\n      if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n        throw new AuthSdkError('Invalid code_challenge_method');\n      }\n    })\n    .then(function() {\n      // PKCE authorization_code flow\n      var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier);\n\n      // We will need these values after redirect when we call /token\n      var meta = {\n        codeVerifier: codeVerifier,\n        redirectUri: oauthParams.redirectUri\n      };\n      PKCE.saveMeta(sdk, meta);\n\n      return PKCE.computeChallenge(codeVerifier);\n    })\n    .then(function(codeChallenge) {\n\n      // Clone/copy the params. Set codeChallenge\n      var clonedParams = util.clone(oauthParams) || {};\n      util.extend(clonedParams, oauthParams, {\n        codeChallenge: codeChallenge,\n      });\n      return clonedParams;\n    });\n}\n\nfunction getWithRedirect(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n\n  return prepareOauthParams(sdk, options)\n    .then(function(oauthParams) {\n      var urls = oauthUtil.getOAuthUrls(sdk, options);\n      var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams);\n\n      // Set session cookie to store the oauthParams\n      cookies.set(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n        responseType: oauthParams.responseType,\n        state: oauthParams.state,\n        nonce: oauthParams.nonce,\n        scopes: oauthParams.scopes,\n        clientId: oauthParams.clientId,\n        urls: urls,\n        ignoreSignature: oauthParams.ignoreSignature\n      }), null, sdk.options.cookies);\n\n      // Set nonce cookie for servers to validate nonce in id_token\n      cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce, null, sdk.options.cookies);\n\n      // Set state cookie for servers to validate state\n      cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state, null, sdk.options.cookies);\n\n      sdk.token.getWithRedirect._setLocation(requestUrl);\n    });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Promise.reject(new AuthSdkError('Renew must be passed a token with ' +\n      'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return getWithoutPrompt(sdk, {\n    responseType: responseType,\n    scopes: token.scopes,\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  })\n  .then(function(res) {\n    // Multiple tokens may have come back. Return only the token which was requested.\n    var tokens = res.tokens;\n    return token.idToken ? tokens.idToken : tokens.accessToken;\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nfunction parseFromUrl(sdk, options) {\n  options = options || {};\n  if (util.isString(options)) {\n    options = { url: options };\n  }\n\n  // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n\n  var url = options.url;\n  var responseMode = options.responseMode || sdk.options.responseMode || defaultResponseMode;\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    return Promise.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsCookie = cookies.get(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  if (!oauthParamsCookie) {\n    return Promise.reject(new AuthSdkError('Unable to retrieve OAuth redirect params cookie'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsCookie);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n    cookies.delete(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  } catch(e) {\n    return Promise.reject(new AuthSdkError('Unable to parse the ' +\n    constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + ' cookie: ' + e.message));\n  }\n\n  return Promise.resolve(oauthUtil.urlParamsToObject(paramStr))\n    .then(function(res) {\n      if (!url) {\n        // Clean hash or search from the url\n        responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n      }\n      return handleOAuthResponse(sdk, oauthParams, res, urls);\n    });\n}\n\nasync function getUserInfo(sdk, accessTokenObject, idTokenObject) {\n  // If token objects were not passed, attempt to read from the TokenManager\n  if (!accessTokenObject) {\n    accessTokenObject = await sdk.tokenManager.get('accessToken');\n  }\n  if (!idTokenObject) {\n    idTokenObject = await sdk.tokenManager.get('idToken');\n  }\n\n  if (!accessTokenObject ||\n      (!oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n\n  if (!idTokenObject ||\n    (!oauthUtil.isToken(idTokenObject) && !idTokenObject.idToken)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an ID token object'));\n  }\n\n  return http.httpRequest(sdk, {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  })\n  .then(userInfo => {\n    // Only return the userinfo response if subjects match to mitigate token substitution attacks\n    if (userInfo.sub === idTokenObject.claims.sub) {\n      return userInfo;\n    }\n    return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n  })\n  .catch(function(err) {\n    if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n      var authenticateHeader;\n      if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n        authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n      } else if (util.isFunction(err.xhr.getResponseHeader)) {\n        authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n      }\n      if (authenticateHeader) {\n        var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n        var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n        var error = errorMatches[1];\n        var errorDescription = errorDescriptionMatches[1];\n        if (error && errorDescription) {\n          err = new OAuthError(error, errorDescription);\n        }\n      }\n    }\n    throw err;\n  });\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/token.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global crypto, Uint8Array, TextEncoder */\nvar util = require('./util');\n\nfunction getOidcHash(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf);\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  return crypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n\n    return crypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\nmodule.exports = {\n  getOidcHash: getOidcHash,\n  verifyToken: verifyToken\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/crypto.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\nOAuthError.prototype = new Error();\n\nmodule.exports = OAuthError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/OAuthError.js","/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global crypto */\n /* eslint-disable complexity, max-statements */\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar http          = require('./http');\nvar util          = require('./util');\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction getStorage(sdk, options) {\n  options = util.extend({}, sdk.options.cookies, options);\n  return sdk.options.storageUtil.getPKCEStorage(options);\n}\n\nfunction saveMeta(sdk, meta) {\n  var storage = getStorage(sdk);\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  var storage = getStorage(sdk);\n  var obj = storage.getStorage();\n  // Verify the Meta\n  if (!obj.codeVerifier) {\n    // If meta is not valid, try reading from localStorage.\n    // This is for compatibility with older versions of the signin widget. OKTA-304806\n    storage = getStorage(sdk, { preferLocalStorage: true });\n    obj = storage.getStorage();\n    if (!obj.codeVerifier) {\n      // If meta is not valid, throw an exception to avoid misleading server-side error\n      // The most likely cause of this error is trying to handle a callback twice\n      throw new AuthSdkError('Could not load PKCE codeVerifier from storage');\n    }\n  }\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  var storage = getStorage(sdk);\n  storage.clearStorage();\n}\n\n/* global Uint8Array, TextEncoder */\nfunction computeChallenge(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  });\n  // Encode as URL string\n  return util.toQueryParams(params).slice(1);\n}\n\n// exchange authorization code for an access token\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pkce.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global localStorage, sessionStorage */\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = require('./util');\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar storageUtil = require('./browser/browserStorage');\nvar constants = require('./constants');\nvar storageBuilder = require('./storageBuilder');\nvar SdkClock = require('./clock');\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key];\n\n  // Remove the renew promise (if it exists)\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000;\n\n  // Clear any existing timeout\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  var expireEventTimeout = setTimeout(function() {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait);\n\n  // Add a new timeout\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch(e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for(var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n  if (!util.isObject(token) ||\n      !token.scopes ||\n      (!token.expiresAt && token.expiresAt !== 0) ||\n      (!token.idToken && !token.accessToken)) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return new Promise(function(resolve) {\n    var token = get(storage, key);\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew\n      ? renew(sdk, tokenMgmtRef, storage, key)\n      : remove(tokenMgmtRef, storage, key);\n\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Remove it from storage\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n\n  // Remove existing autoRenew timeout for this key\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Store the renew promise state, to avoid renewing again\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token)\n    .then(function(freshToken) {\n      var oldToken = get(storage, key);\n      if (!oldToken) {\n        // It is possible to enter a state where the tokens have been cleared\n        // after a renewal request was triggered. To ensure we do not store a\n        // renewed token, we verify the promise key doesn't exist and return.\n        return;\n      }\n      add(sdk, tokenMgmtRef, storage, key, freshToken);\n      tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n      return freshToken;\n    })\n    .catch(function(err) {\n      if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n        remove(tokenMgmtRef, storage, key);\n        err.tokenKey = key;\n        err.accessToken = !!token.accessToken;\n        emitError(tokenMgmtRef, err);\n      }\n      throw err;\n    })\n    .finally(function() {\n      // Remove existing promise key\n      delete tokenMgmtRef.renewPromise[key];\n    });\n\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n  if (typeof options.storage === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch(options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n      case 'cookie':\n        // Implement customized cookie storage to make sure each token is stored separatedly in cookie\n        storageProvider = (function(options) {\n          var storage = storageUtil.getCookieStorage(options);\n          return {\n            getItem: function(key) {\n              var data = storage.getItem();\n              var value = {};\n              Object.keys(data).forEach(k => {\n                if (k.indexOf(key) === 0) {\n                  value[k.replace(`${key}_`, '')] = JSON.parse(data[k]);\n                }\n              });\n              return JSON.stringify(value);\n            },\n            setItem: function(key, value) {\n              var existingValues = JSON.parse(this.getItem(key));\n              value = JSON.parse(value);\n              // Set key-value pairs from input to cookies\n              Object.keys(value).forEach(k => {\n                var storageKey = key + '_' + k;\n                var valueToStore = JSON.stringify(value[k]);\n                storage.setItem(storageKey, valueToStore);\n                delete existingValues[k];\n              });\n              // Delete unmatched keys from existing cookies\n              Object.keys(existingValues).forEach(k => {\n                storageUtil.storage.delete(key + '_' + k);\n              });\n            }\n          };\n        }(sdk.options.cookies));\n        break;\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/TokenManager.js","var util = require('./util');\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n});\n\n// factory method. Create an instance of a clock from current context.\nSdkClock.create = function(/* sdk, options */) {\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/clock.js","var util = require('./util');\n\n// Implements a queue for synchronous or asynchronous methods\n// Methods will be wrapped in a promise and execute sequentially\n// This can be used to prevent concurrent calls to a single method or a set of methods\nfunction PromiseQueue() {\n  this.queue = [];\n  this.running = false;\n}\n\nutil.extend(PromiseQueue.prototype, {\n  // Returns a promise\n  // If the method is synchronous, it will resolve when the method completes\n  // If the method returns a promise, it will resolve (or reject) with the value from the method's promise\n  push: function(/* method, thisObject, args... */) {\n    var args = Array.prototype.slice.call(arguments);\n    var method = args[0];\n    var thisObject = args[1];\n    args = args.slice(2);\n    return new Promise((resolve, reject) => {\n      this.queue.push({\n        method,\n        thisObject,\n        args,\n        resolve,\n        reject\n      });\n      this.run();\n    });\n  },\n  run: function() {\n    if (this.running) {\n      return;\n    }\n    if (this.queue.length === 0) {\n      return;\n    }\n    this.running = true;\n    var queueItem = this.queue.shift();\n    var res = queueItem.method.apply(queueItem.thisObject, queueItem.args);\n    if (util.isPromise(res)) {\n      res.then(queueItem.resolve, queueItem.reject).finally(() => {\n        this.running = false;\n        this.run();\n      });\n    } else {\n      queueItem.resolve(res);\n      this.running = false;\n      this.run();\n    }\n  }\n});\n\nmodule.exports = PromiseQueue;\n\n\n// WEBPACK FOOTER //\n// ./lib/PromiseQueue.js","/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { InjectionToken, Injector } from '@angular/core';\nimport { OktaAuthService } from '../services/okta.service';\n\nexport type AuthRequiredFunction = (oktaAuth: OktaAuthService, injector: Injector) => void;\nexport type IsAuthenticatedFunction = () => Promise<boolean>;\nexport type OnSessionExpiredFunction = () => void;\n\nexport interface TestingObject {\n  disableHttpsCheck: boolean;\n}\n\nexport interface TokenManagerConfig {\n  autoRenew?: boolean;\n  secure?: boolean;\n  storage?: string;\n}\n\nexport interface OktaConfig {\n  issuer?: string;\n  redirectUri?: string;\n  clientId?: string;\n  scope?: string;\n  scopes?: string[];\n  responseType?: any; // can be string or array\n  pkce?: boolean;\n  onAuthRequired?: AuthRequiredFunction;\n  testing?: TestingObject;\n  tokenManager?: TokenManagerConfig;\n  postLogoutRedirectUri?: string;\n  isAuthenticated?: IsAuthenticatedFunction;\n  onSessionExpired?: OnSessionExpiredFunction;\n}\n\nexport const OKTA_CONFIG = new InjectionToken<OktaConfig>('okta.config.angular');\n","export default {\n  'name': '@okta/okta-angular',\n  'version': '2.1.0'\n};\n","/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Inject, Injectable, Injector } from '@angular/core';\nimport {\n  assertIssuer,\n  assertClientId,\n  assertRedirectUri,\n} from '@okta/configuration-validation';\n\nimport { OKTA_CONFIG, OktaConfig, AuthRequiredFunction } from '../models/okta.config';\nimport { UserClaims } from '../models/user-claims';\nimport { TokenManager, AccessToken, IDToken } from '../models/token-manager';\n\nimport packageInfo from '../packageInfo';\n\n/**\n * Import the okta-auth-js library\n */\nimport OktaAuth from '@okta/okta-auth-js';\nimport { Observable, Observer } from 'rxjs';\n\n@Injectable()\nexport class OktaAuthService {\n    private oktaAuth: OktaAuth;\n    private config: OktaConfig;\n    private observers: Observer<boolean>[];\n    $authenticationState: Observable<boolean>;\n\n    constructor(@Inject(OKTA_CONFIG) config: OktaConfig, private injector: Injector) {\n      this.observers = [];\n\n      /**\n       * Cache the auth config.\n       */\n      this.config = Object.assign({}, config);\n      this.config.scopes = this.config.scopes || ['openid', 'email'];\n\n      // Automatically enter login flow if session has expired or was ended outside the application\n      // The default behavior can be overriden by setting your own `onSessionExpired` function on the OktaConfig\n      if (!this.config.onSessionExpired) {\n        this.config.onSessionExpired = this.login.bind(this);\n      }\n\n      /**\n       * Scrub scopes to ensure 'openid' is included\n       */\n\n      this.scrubScopes(this.config.scopes);\n\n      // Assert Configuration\n      assertIssuer(this.config.issuer, this.config.testing);\n      assertClientId(this.config.clientId);\n      assertRedirectUri(this.config.redirectUri);\n\n      this.oktaAuth = new OktaAuth(this.config);\n      this.oktaAuth.userAgent = `${packageInfo.name}/${packageInfo.version} ${this.oktaAuth.userAgent}`;\n      this.$authenticationState = new Observable((observer: Observer<boolean>) => { this.observers.push(observer); });\n    }\n\n    login(fromUri?: string, additionalParams?: object) {\n      this.setFromUri(fromUri);\n      const onAuthRequired: AuthRequiredFunction | undefined = this.config.onAuthRequired;\n      if (onAuthRequired) {\n        return onAuthRequired(this, this.injector);\n      }\n      return this.loginRedirect(undefined, additionalParams);\n    }\n\n    getTokenManager(): TokenManager {\n      return this.oktaAuth.tokenManager;\n    }\n\n    /**\n     * Checks if there is an access token OR an id token\n     * A custom method may be provided on config to override this logic\n     */\n    async isAuthenticated(): Promise<boolean> {\n      // Support a user-provided method to check authentication\n      if (this.config.isAuthenticated) {\n        return (this.config.isAuthenticated)();\n      }\n\n      const accessToken = await this.getAccessToken();\n      const idToken = await this.getIdToken();\n      return !!(accessToken || idToken);\n    }\n\n    private async emitAuthenticationState(state: boolean) {\n      this.observers.forEach(observer => observer.next(state));\n    }\n\n    /**\n     * Returns the current accessToken in the tokenManager.\n     */\n    async getAccessToken(): Promise<string | undefined>  {\n      try {\n        const accessToken: AccessToken = await this.oktaAuth.tokenManager.get('accessToken') as AccessToken;\n        return accessToken.accessToken;\n      } catch (err) {\n        // The user no longer has an existing SSO session in the browser.\n        // (OIDC error `login_required`)\n        // Ask the user to authenticate again.\n        return undefined;\n      }\n    }\n\n    /**\n     * Returns the current idToken in the tokenManager.\n     */\n    async getIdToken(): Promise<string | undefined> {\n      try {\n        const idToken: IDToken = await this.oktaAuth.tokenManager.get('idToken') as IDToken;\n        return idToken.idToken;\n      } catch (err) {\n        // The user no longer has an existing SSO session in the browser.\n        // (OIDC error `login_required`)\n        // Ask the user to authenticate again.\n        return undefined;\n      }\n    }\n\n    /**\n     * Returns user claims from the /userinfo endpoint if an\n     * accessToken is provided or parses the available idToken.\n     */\n    async getUser(): Promise<UserClaims|undefined> {\n      const accessToken: AccessToken = await this.oktaAuth.tokenManager.get('accessToken') as AccessToken;\n      const idToken: IDToken = await this.oktaAuth.tokenManager.get('idToken') as IDToken;\n      if (!accessToken || !idToken) {\n        // Returns raw claims from idToken if there is no accessToken.\n        return idToken ? idToken.claims : undefined;\n      }\n      return this.oktaAuth.token.getUserInfo();\n    }\n\n    /**\n     * Returns the configuration object used.\n     */\n    getOktaConfig(): OktaConfig {\n      return this.config;\n    }\n\n    /**\n     * Launches the login redirect.\n     * @param fromUri\n     * @param additionalParams\n     */\n    loginRedirect(fromUri?: string, additionalParams?: object) {\n      if (fromUri) {\n        this.setFromUri(fromUri);\n      }\n\n      const params = Object.assign({\n        scopes: this.config.scopes,\n        responseType: this.config.responseType\n      }, additionalParams);\n\n      return this.oktaAuth.token.getWithRedirect(params); // can throw\n    }\n\n    /**\n     * Stores the intended path to redirect after successful login.\n     * @param uri\n     * @param queryParams\n     */\n    setFromUri(fromUri?: string) {\n      // Use current location if fromUri was not passed\n      fromUri = fromUri || window.location.href;\n      // If a relative path was passed, convert to absolute URI\n      if (fromUri.charAt(0) === '/') {\n        fromUri = window.location.origin + fromUri;\n      }\n      sessionStorage.setItem('referrerPath', fromUri);\n    }\n\n    /**\n     * Returns the referrer path from localStorage or app root.\n     */\n    getFromUri(): string {\n      const fromUri = sessionStorage.getItem('referrerPath') || window.location.origin;\n      sessionStorage.removeItem('referrerPath');\n      return fromUri;\n    }\n\n    /**\n     * Parses the tokens from the callback URL.\n     */\n    async handleAuthentication(): Promise<void> {\n      const res = await this.oktaAuth.token.parseFromUrl();\n      const tokens = res.tokens;\n      if (tokens.accessToken) {\n        this.oktaAuth.tokenManager.add('accessToken', tokens.accessToken as AccessToken);\n      }\n      if (tokens.idToken) {\n        this.oktaAuth.tokenManager.add('idToken', tokens.idToken as IDToken);\n      }\n      if (await this.isAuthenticated()) {\n        this.emitAuthenticationState(true);\n      }\n    }\n\n    /**\n     * Clears the user session in Okta and removes\n     * tokens stored in the tokenManager.\n     * @param options\n     */\n    async logout(options?: any): Promise<void> {\n      let redirectUri = null;\n      options = options || {};\n      if (typeof options === 'string') {\n        redirectUri = options;\n        // If a relative path was passed, convert to absolute URI\n        if (redirectUri.charAt(0) === '/') {\n          redirectUri = window.location.origin + redirectUri;\n        }\n        options = {\n          postLogoutRedirectUri: redirectUri\n        };\n      }\n      await this.oktaAuth.signOut(options);\n      this.emitAuthenticationState(false);\n    }\n\n    /**\n     * Scrub scopes to ensure 'openid' is included\n     * @param scopes\n     */\n    scrubScopes(scopes: string[]): void {\n      if (scopes.indexOf('openid') >= 0) {\n        return;\n      }\n      scopes.unshift('openid');\n    }\n}\n","/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Component, OnInit } from '@angular/core';\n\nimport { OktaAuthService } from '../services/okta.service';\n\n@Component({\n  template: `<div>{{error}}</div>`\n})\nexport class OktaCallbackComponent implements OnInit {\n  error: string;\n\n  constructor(private okta: OktaAuthService) {}\n\n  async ngOnInit() {\n    /**\n     * Handles the response from Okta and parses tokens.\n     */\n    return this.okta.handleAuthentication()\n      .then(() => {\n        /**\n         * Navigate back to the saved uri, or root of application.\n         */\n        const fromUri = this.okta.getFromUri();\n        window.location.replace(fromUri);\n      })\n      .catch(e => {\n        this.error = e.toString();\n      });\n  }\n}\n","/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { OktaAuthService } from '../services/okta.service';\n\n@Component({ template: `` })\nexport class OktaLoginRedirectComponent implements OnInit {\n  constructor(private okta: OktaAuthService) {}\n  async ngOnInit() {\n    return this.okta.loginRedirect();\n  }\n}\n","/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Injectable, Injector } from '@angular/core';\nimport {\n  CanActivate,\n  CanActivateChild,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n} from '@angular/router';\n\nimport { OktaAuthService } from './services/okta.service';\nimport { AuthRequiredFunction } from './models/okta.config';\n\n@Injectable()\nexport class OktaAuthGuard implements CanActivate, CanActivateChild {\n  constructor(private oktaAuth: OktaAuthService, private injector: Injector) { }\n\n  /**\n   * Gateway for protected route. Returns true if there is a valid accessToken,\n   * otherwise it will cache the route and start the login flow.\n   * @param route\n   * @param state\n   */\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    if (await this.oktaAuth.isAuthenticated()) {\n      return true;\n    }\n\n    /**\n     * Get the operation to perform on failed authentication from\n     * either the global config or route data injection.\n     */\n    const onAuthRequired: AuthRequiredFunction = route.data['onAuthRequired'] || this.oktaAuth.getOktaConfig().onAuthRequired;\n\n    /**\n     * Store the current path\n     */\n    this.oktaAuth.setFromUri(state.url);\n\n    if (onAuthRequired) {\n      onAuthRequired(this.oktaAuth, this.injector);\n    } else {\n      this.oktaAuth.loginRedirect();\n    }\n\n    return false;\n  }\n\n  async canActivateChild(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ) {\n    return this.canActivate(route, state);\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { OktaConfig } from './models/okta.config';\nimport { OktaAuthService } from './services/okta.service';\n\nexport function createOktaService(config: OktaConfig, injector: Injector) {\n  return new OktaAuthService(config, injector);\n}\n","/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { NgModule, Injector } from '@angular/core';\nimport { OktaCallbackComponent } from './components/callback.component';\nimport { OktaLoginRedirectComponent } from './components/login-redirect.component';\nimport { OktaAuthService } from './services/okta.service';\nimport { OktaAuthGuard } from './okta.guard';\nimport { OKTA_CONFIG } from './models/okta.config';\nimport { createOktaService } from './createService';\n\n@NgModule({\n  declarations: [\n    OktaCallbackComponent,\n    OktaLoginRedirectComponent,\n  ],\n  exports: [\n    OktaCallbackComponent,\n    OktaLoginRedirectComponent,\n  ],\n  providers: [\n    OktaAuthGuard,\n    {\n      provide: OktaAuthService,\n      useFactory: createOktaService,\n      deps: [\n        OKTA_CONFIG,\n        Injector\n      ]\n    }\n  ]\n})\nexport class OktaAuthModule {\n\n}\n"]}